var In=Object.defineProperty;var Bn=(L,O,W)=>O in L?In(L,O,{enumerable:!0,configurable:!0,writable:!0,value:W}):L[O]=W;var x=(L,O,W)=>Bn(L,typeof O!="symbol"?O+"":O,W);var Wn=(()=>{var L=import.meta.url;return(async function(O={}){var W,a=O,Re,pe,Sr=new Promise((e,r)=>{Re=e,pe=r}),Ar=typeof window=="object",le=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var Ce={...a},Pe="./this.program",xe=(e,r)=>{throw r},N="";function Fr(e){return a.locateFile?a.locateFile(e,N):N+e}var he,_e;(Ar||le)&&(le?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),L&&(N=L),N.startsWith("blob:")?N="":N=N.slice(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),le&&(_e=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),he=async e=>{var r=await fetch(e,{credentials:"same-origin"});if(r.ok)return r.arrayBuffer();throw new Error(r.status+" : "+r.url)});var ye=a.print||console.log.bind(console),V=a.printErr||console.error.bind(console);Object.assign(a,Ce),Ce=null,a.arguments&&a.arguments,a.thisProgram&&(Pe=a.thisProgram);var ce=a.wasmBinary,ue,$=!1,fe,M,U,I,Ne,v,D,we,ge;function ze(){var e=ue.buffer;a.HEAP8=M=new Int8Array(e),a.HEAP16=I=new Int16Array(e),a.HEAPU8=U=new Uint8Array(e),a.HEAPU16=Ne=new Uint16Array(e),a.HEAP32=v=new Int32Array(e),a.HEAPU32=D=new Uint32Array(e),a.HEAPF32=we=new Float32Array(e),a.HEAPF64=ge=new Float64Array(e)}function Dr(){if(a.preRun)for(typeof a.preRun=="function"&&(a.preRun=[a.preRun]);a.preRun.length;)Ur(a.preRun.shift());Ue(Ie)}function Tr(){!a.noFSInit&&!i.initialized&&i.init(),s.ra(),i.ignorePermissions=!1}function Mr(){if(a.postRun)for(typeof a.postRun=="function"&&(a.postRun=[a.postRun]);a.postRun.length;)Or(a.postRun.shift());Ue(Le)}var G=0,ne=null;function je(e){var r;G++,(r=a.monitorRunDependencies)==null||r.call(a,G)}function be(e){var t;if(G--,(t=a.monitorRunDependencies)==null||t.call(a,G),G==0&&ne){var r=ne;ne=null,r()}}function z(e){var t;(t=a.onAbort)==null||t.call(a,e),e="Aborted("+e+")",V(e),$=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw pe(r),r}var Ee;function Rr(){return a.locateFile?Fr("mc-wa-sqlite-async.wasm"):new URL("/assets/mc-wa-sqlite-async-BuTS6e7j.wasm",import.meta.url).href}function Cr(e){if(e==Ee&&ce)return new Uint8Array(ce);if(_e)return _e(e);throw"both async and sync fetching of the wasm failed"}async function Pr(e){if(!ce)try{var r=await he(e);return new Uint8Array(r)}catch{}return Cr(e)}async function xr(e,r){try{var t=await Pr(e),n=await WebAssembly.instantiate(t,r);return n}catch(o){V(`failed to asynchronously prepare wasm: ${o}`),z(o)}}async function Nr(e,r,t){if(!e&&typeof WebAssembly.instantiateStreaming=="function")try{var n=fetch(r,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(n,t);return o}catch(l){V(`wasm streaming compile failed: ${l}`),V("falling back to ArrayBuffer instantiation")}return xr(r,t)}function zr(){return{a:An}}async function jr(){function e(l,_){return s=l.exports,s=m.instrumentWasmExports(s),ue=s.qa,ze(),ee=s.wf,be(),s}je();function r(l){return e(l.instance)}var t=zr();if(a.instantiateWasm)return new Promise((l,_)=>{a.instantiateWasm(t,(c,u)=>{e(c),l(c.exports)})});Ee??(Ee=Rr());try{var n=await Nr(ce,Ee,t),o=r(n);return o}catch(l){return pe(l),Promise.reject(l)}}var p,A;class Oe{constructor(r){x(this,"name","ExitStatus");this.message=`Program terminated with exit(${r})`,this.status=r}}var Ue=e=>{for(;e.length>0;)e.shift()(a)},Le=[],Or=e=>Le.unshift(e),Ie=[],Ur=e=>Ie.unshift(e);function Be(e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return M[e];case"i8":return M[e];case"i16":return I[e>>1];case"i32":return v[e>>2];case"i64":z("to do getValue(i64) use WASM_BIGINT");case"float":return we[e>>2];case"double":return ge[e>>3];case"*":return D[e>>2];default:z(`invalid type for getValue: ${r}`)}}var He=a.noExitRuntime||!0;function Y(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":M[e]=r;break;case"i8":M[e]=r;break;case"i16":I[e>>1]=r;break;case"i32":v[e>>2]=r;break;case"i64":z("to do setValue(i64) use WASM_BIGINT");case"float":we[e>>2]=r;break;case"double":ge[e>>3]=r;break;case"*":D[e>>2]=r;break;default:z(`invalid type for setValue: ${t}`)}}var Lr=e=>Pn(e),Ir=()=>Nn(),We=typeof TextDecoder<"u"?new TextDecoder:void 0,J=(e,r=0,t=NaN)=>{for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&We)return We.decode(e.subarray(r,o));for(var l="";r<o;){var _=e[r++];if(!(_&128)){l+=String.fromCharCode(_);continue}var c=e[r++]&63;if((_&224)==192){l+=String.fromCharCode((_&31)<<6|c);continue}var u=e[r++]&63;if((_&240)==224?_=(_&15)<<12|c<<6|u:_=(_&7)<<18|c<<12|u<<6|e[r++]&63,_<65536)l+=String.fromCharCode(_);else{var f=_-65536;l+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return l},K=(e,r)=>e?J(U,e,r):"",Br=(e,r,t,n)=>z(`Assertion failed: ${K(e)}, at: `+[r?K(r):"unknown filename",t,n?K(n):"unknown function"]),q={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];o==="."?e.splice(n,1):o===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=q.isAbs(e),t=e.slice(-1)==="/";return e=q.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=q.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.slice(0,-1)),t+n)},basename:e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],join:(...e)=>q.normalize(e.join("/")),join2:(e,r)=>q.normalize(e+"/"+r)},Hr=()=>e=>crypto.getRandomValues(e),ke=e=>{(ke=Hr())(e)},Z={resolve:(...e)=>{for(var r="",t=!1,n=e.length-1;n>=-1&&!t;n--){var o=n>=0?e[n]:i.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";r=o+"/"+r,t=q.isAbs(o)}return r=q.normalizeArray(r.split("/").filter(l=>!!l),!t).join("/"),(t?"/":"")+r||"."},relative:(e,r)=>{e=Z.resolve(e).slice(1),r=Z.resolve(r).slice(1);function t(f){for(var y=0;y<f.length&&f[y]==="";y++);for(var g=f.length-1;g>=0&&f[g]==="";g--);return y>g?[]:f.slice(y,g-y+1)}for(var n=t(e.split("/")),o=t(r.split("/")),l=Math.min(n.length,o.length),_=l,c=0;c<l;c++)if(n[c]!==o[c]){_=c;break}for(var u=[],c=_;c<n.length;c++)u.push("..");return u=u.concat(o.slice(_)),u.join("/")}},qe=[],Q=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Se=(e,r,t,n)=>{if(!(n>0))return 0;for(var o=t,l=t+n-1,_=0;_<e.length;++_){var c=e.charCodeAt(_);if(c>=55296&&c<=57343){var u=e.charCodeAt(++_);c=65536+((c&1023)<<10)|u&1023}if(c<=127){if(t>=l)break;r[t++]=c}else if(c<=2047){if(t+1>=l)break;r[t++]=192|c>>6,r[t++]=128|c&63}else if(c<=65535){if(t+2>=l)break;r[t++]=224|c>>12,r[t++]=128|c>>6&63,r[t++]=128|c&63}else{if(t+3>=l)break;r[t++]=240|c>>18,r[t++]=128|c>>12&63,r[t++]=128|c>>6&63,r[t++]=128|c&63}}return r[t]=0,t-o},Ae=(e,r,t)=>{var n=t>0?t:Q(e)+1,o=new Array(n),l=Se(e,o,0,o.length);return r&&(o.length=l),o},Wr=()=>{if(!qe.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`)),!e)return null;qe=Ae(e,!0)}return qe.shift()},X={ttys:[],init(){},shutdown(){},register(e,r){X.ttys[e]={input:[],output:[],ops:r},i.registerDevice(e,X.stream_ops)},stream_ops:{open(e){var r=X.ttys[e.node.rdev];if(!r)throw new i.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new i.ErrnoError(60);for(var l=0,_=0;_<n;_++){var c;try{c=e.tty.ops.get_char(e.tty)}catch{throw new i.ErrnoError(29)}if(c===void 0&&l===0)throw new i.ErrnoError(6);if(c==null)break;l++,r[t+_]=c}return l&&(e.node.atime=Date.now()),l},write(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new i.ErrnoError(60);try{for(var l=0;l<n;l++)e.tty.ops.put_char(e.tty,r[t+l])}catch{throw new i.ErrnoError(29)}return n&&(e.node.mtime=e.node.ctime=Date.now()),l}},default_tty_ops:{get_char(e){return Wr()},put_char(e,r){r===null||r===10?(ye(J(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){var r;((r=e.output)==null?void 0:r.length)>0&&(ye(J(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(V(J(e.output)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){var r;((r=e.output)==null?void 0:r.length)>0&&(V(J(e.output)),e.output=[])}}},Vr=(e,r)=>U.fill(0,e,e+r),Ve=(e,r)=>Math.ceil(e/r)*r,$e=e=>{e=Ve(e,65536);var r=Mn(65536,e);return r&&Vr(r,e),r},h={ops_table:null,mount(e){return h.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(i.isBlkdev(t)||i.isFIFO(t))throw new i.ErrnoError(63);h.ops_table||(h.ops_table={dir:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr,lookup:h.node_ops.lookup,mknod:h.node_ops.mknod,rename:h.node_ops.rename,unlink:h.node_ops.unlink,rmdir:h.node_ops.rmdir,readdir:h.node_ops.readdir,symlink:h.node_ops.symlink},stream:{llseek:h.stream_ops.llseek}},file:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr},stream:{llseek:h.stream_ops.llseek,read:h.stream_ops.read,write:h.stream_ops.write,mmap:h.stream_ops.mmap,msync:h.stream_ops.msync}},link:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr,readlink:h.node_ops.readlink},stream:{}},chrdev:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr},stream:i.chrdev_stream_ops}});var o=i.createNode(e,r,t,n);return i.isDir(o.mode)?(o.node_ops=h.ops_table.dir.node,o.stream_ops=h.ops_table.dir.stream,o.contents={}):i.isFile(o.mode)?(o.node_ops=h.ops_table.file.node,o.stream_ops=h.ops_table.file.stream,o.usedBytes=0,o.contents=null):i.isLink(o.mode)?(o.node_ops=h.ops_table.link.node,o.stream_ops=h.ops_table.link.stream):i.isChrdev(o.mode)&&(o.node_ops=h.ops_table.chrdev.node,o.stream_ops=h.ops_table.chrdev.stream),o.atime=o.mtime=o.ctime=Date.now(),e&&(e.contents[r]=o,e.atime=e.mtime=e.ctime=o.atime),o},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var o=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=i.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,i.isDir(e.mode)?r.size=4096:i.isFile(e.mode)?r.size=e.usedBytes:i.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.atime),r.mtime=new Date(e.mtime),r.ctime=new Date(e.ctime),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){for(const t of["mode","atime","mtime","ctime"])r[t]!=null&&(e[t]=r[t]);r.size!==void 0&&h.resizeFileStorage(e,r.size)},lookup(e,r){throw h.doesNotExistError},mknod(e,r,t,n){return h.createNode(e,r,t,n)},rename(e,r,t){var n;try{n=i.lookupNode(r,t)}catch{}if(n){if(i.isDir(e.mode))for(var o in n.contents)throw new i.ErrnoError(55);i.hashRemoveNode(n)}delete e.parent.contents[e.name],r.contents[t]=e,e.name=t,r.ctime=r.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,r){delete e.contents[r],e.ctime=e.mtime=Date.now()},rmdir(e,r){var t=i.lookupNode(e,r);for(var n in t.contents)throw new i.ErrnoError(55);delete e.contents[r],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,r,t){var n=h.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!i.isLink(e.mode))throw new i.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,o){var l=e.node.contents;if(o>=e.node.usedBytes)return 0;var _=Math.min(e.node.usedBytes-o,n);if(_>8&&l.subarray)r.set(l.subarray(o,o+_),t);else for(var c=0;c<_;c++)r[t+c]=l[o+c];return _},write(e,r,t,n,o,l){if(r.buffer===M.buffer&&(l=!1),!n)return 0;var _=e.node;if(_.mtime=_.ctime=Date.now(),r.subarray&&(!_.contents||_.contents.subarray)){if(l)return _.contents=r.subarray(t,t+n),_.usedBytes=n,n;if(_.usedBytes===0&&o===0)return _.contents=r.slice(t,t+n),_.usedBytes=n,n;if(o+n<=_.usedBytes)return _.contents.set(r.subarray(t,t+n),o),n}if(h.expandFileStorage(_,o+n),_.contents.subarray&&r.subarray)_.contents.set(r.subarray(t,t+n),o);else for(var c=0;c<n;c++)_.contents[o+c]=r[t+c];return _.usedBytes=Math.max(_.usedBytes,o+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&i.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new i.ErrnoError(28);return n},mmap(e,r,t,n,o){if(!i.isFile(e.node.mode))throw new i.ErrnoError(43);var l,_,c=e.node.contents;if(!(o&2)&&c&&c.buffer===M.buffer)_=!1,l=c.byteOffset;else{if(_=!0,l=$e(r),!l)throw new i.ErrnoError(48);c&&((t>0||t+r<c.length)&&(c.subarray?c=c.subarray(t,t+r):c=Array.prototype.slice.call(c,t,t+r)),M.set(c,l))}return{ptr:l,allocated:_}},msync(e,r,t,n,o){return h.stream_ops.write(e,r,0,n,t,!1),0}}},Ge=async e=>{var r=await he(e);return new Uint8Array(r)};Ge.isAsync=!0;var $r=(e,r,t,n,o,l)=>{i.createDataFile(e,r,t,n,o,l)},Gr=a.preloadPlugins||[],Kr=(e,r,t,n)=>{typeof Browser<"u"&&Browser.init();var o=!1;return Gr.forEach(l=>{o||l.canHandle(r)&&(l.handle(e,r,t,n),o=!0)}),o},Xr=(e,r,t,n,o,l,_,c,u,f)=>{var y=r?Z.resolve(q.join2(e,r)):e;function g(k){function d(w){f==null||f(),c||$r(e,r,w,n,o,u),l==null||l(),be()}Kr(k,y,d,()=>{_==null||_(),be()})||d(k)}je(),typeof t=="string"?Ge(t).then(g,_):g(t)},Yr=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},Fe=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},i={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{constructor(e){x(this,"name","ErrnoError");this.errno=e}},FSStream:class{constructor(){x(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,r,t,n){x(this,"node_ops",{});x(this,"stream_ops",{});x(this,"readMode",365);x(this,"writeMode",146);x(this,"mounted",null);e||(e=this),this.parent=e,this.mount=e.mount,this.id=i.nextInode++,this.name=r,this.mode=t,this.rdev=n,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return i.isDir(this.mode)}get isDevice(){return i.isChrdev(this.mode)}},lookupPath(e,r={}){if(!e)throw new i.ErrnoError(44);r.follow_mount??(r.follow_mount=!0),q.isAbs(e)||(e=i.cwd()+"/"+e);e:for(var t=0;t<40;t++){for(var n=e.split("/").filter(f=>!!f),o=i.root,l="/",_=0;_<n.length;_++){var c=_===n.length-1;if(c&&r.parent)break;if(n[_]!=="."){if(n[_]===".."){l=q.dirname(l),o=o.parent;continue}l=q.join2(l,n[_]);try{o=i.lookupNode(o,n[_])}catch(f){if((f==null?void 0:f.errno)===44&&c&&r.noent_okay)return{path:l};throw f}if(i.isMountpoint(o)&&(!c||r.follow_mount)&&(o=o.mounted.root),i.isLink(o.mode)&&(!c||r.follow)){if(!o.node_ops.readlink)throw new i.ErrnoError(52);var u=o.node_ops.readlink(o);q.isAbs(u)||(u=q.dirname(l)+"/"+u),e=u+"/"+n.slice(_+1).join("/");continue e}}}return{path:l,node:o}}throw new i.ErrnoError(32)},getPath(e){for(var r;;){if(i.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%i.nameTable.length},hashAddNode(e){var r=i.hashName(e.parent.id,e.name);e.name_next=i.nameTable[r],i.nameTable[r]=e},hashRemoveNode(e){var r=i.hashName(e.parent.id,e.name);if(i.nameTable[r]===e)i.nameTable[r]=e.name_next;else for(var t=i.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=i.mayLookup(e);if(t)throw new i.ErrnoError(t);for(var n=i.hashName(e.id,r),o=i.nameTable[n];o;o=o.name_next){var l=o.name;if(o.parent.id===e.id&&l===r)return o}return i.lookup(e,r)},createNode(e,r,t,n){var o=new i.FSNode(e,r,t,n);return i.hashAddNode(o),o},destroyNode(e){i.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return i.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!i.isDir(e.mode))return 54;var r=i.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){if(!i.isDir(e.mode))return 54;try{var t=i.lookupNode(e,r);return 20}catch{}return i.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=i.lookupNode(e,r)}catch(l){return l.errno}var o=i.nodePermissions(e,"wx");if(o)return o;if(t){if(!i.isDir(n.mode))return 54;if(i.isRoot(n)||i.getPath(n)===i.cwd())return 10}else if(i.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?i.isLink(e.mode)?32:i.isDir(e.mode)&&(i.flagsToPermissionString(r)!=="r"||r&576)?31:i.nodePermissions(e,i.flagsToPermissionString(r)):44},checkOpExists(e,r){if(!e)throw new i.ErrnoError(r);return e},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=i.MAX_OPEN_FDS;e++)if(!i.streams[e])return e;throw new i.ErrnoError(33)},getStreamChecked(e){var r=i.getStream(e);if(!r)throw new i.ErrnoError(8);return r},getStream:e=>i.streams[e],createStream(e,r=-1){return e=Object.assign(new i.FSStream,e),r==-1&&(r=i.nextfd()),e.fd=r,i.streams[r]=e,e},closeStream(e){i.streams[e]=null},dupStream(e,r=-1){var n,o;var t=i.createStream(e,r);return(o=(n=t.stream_ops)==null?void 0:n.dup)==null||o.call(n,t),t},doSetAttr(e,r,t){var n=e==null?void 0:e.stream_ops.setattr,o=n?e:r;n??(n=r.node_ops.setattr),i.checkOpExists(n,63),n(o,t)},chrdev_stream_ops:{open(e){var t,n;var r=i.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,(n=(t=e.stream_ops).open)==null||n.call(t,e)},llseek(){throw new i.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){i.devices[e]={stream_ops:r}},getDevice:e=>i.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push(...n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),i.syncFSRequests++,i.syncFSRequests>1&&V(`warning: ${i.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=i.getMounts(i.root.mount),n=0;function o(_){return i.syncFSRequests--,r(_)}function l(_){if(_)return l.errored?void 0:(l.errored=!0,o(_));++n>=t.length&&o(null)}t.forEach(_=>{if(!_.type.syncfs)return l(null);_.type.syncfs(_,e,l)})},mount(e,r,t){var n=t==="/",o=!t,l;if(n&&i.root)throw new i.ErrnoError(10);if(!n&&!o){var _=i.lookupPath(t,{follow_mount:!1});if(t=_.path,l=_.node,i.isMountpoint(l))throw new i.ErrnoError(10);if(!i.isDir(l.mode))throw new i.ErrnoError(54)}var c={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(c);return u.mount=c,c.root=u,n?i.root=u:l&&(l.mounted=c,l.mount&&l.mount.mounts.push(c)),u},unmount(e){var r=i.lookupPath(e,{follow_mount:!1});if(!i.isMountpoint(r.node))throw new i.ErrnoError(28);var t=r.node,n=t.mounted,o=i.getMounts(n);Object.keys(i.nameTable).forEach(_=>{for(var c=i.nameTable[_];c;){var u=c.name_next;o.includes(c.mount)&&i.destroyNode(c),c=u}}),t.mounted=null;var l=t.mount.mounts.indexOf(n);t.mount.mounts.splice(l,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=i.lookupPath(e,{parent:!0}),o=n.node,l=q.basename(e);if(!l)throw new i.ErrnoError(28);if(l==="."||l==="..")throw new i.ErrnoError(20);var _=i.mayCreate(o,l);if(_)throw new i.ErrnoError(_);if(!o.node_ops.mknod)throw new i.ErrnoError(63);return o.node_ops.mknod(o,l,r,t)},statfs(e){return i.statfsNode(i.lookupPath(e,{follow:!0}).node)},statfsStream(e){return i.statfsNode(e.node)},statfsNode(e){var r={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:i.nextInode,ffree:i.nextInode-1,fsid:42,flags:2,namelen:255};return e.node_ops.statfs&&Object.assign(r,e.node_ops.statfs(e.mount.opts.root)),r},create(e,r=438){return r&=4095,r|=32768,i.mknod(e,r,0)},mkdir(e,r=511){return r&=1023,r|=16384,i.mknod(e,r,0)},mkdirTree(e,r){var t=e.split("/"),n="";for(var o of t)if(o){(n||q.isAbs(e))&&(n+="/"),n+=o;try{i.mkdir(n,r)}catch(l){if(l.errno!=20)throw l}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,i.mknod(e,r,t)},symlink(e,r){if(!Z.resolve(e))throw new i.ErrnoError(44);var t=i.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new i.ErrnoError(44);var o=q.basename(r),l=i.mayCreate(n,o);if(l)throw new i.ErrnoError(l);if(!n.node_ops.symlink)throw new i.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename(e,r){var t=q.dirname(e),n=q.dirname(r),o=q.basename(e),l=q.basename(r),_,c,u;if(_=i.lookupPath(e,{parent:!0}),c=_.node,_=i.lookupPath(r,{parent:!0}),u=_.node,!c||!u)throw new i.ErrnoError(44);if(c.mount!==u.mount)throw new i.ErrnoError(75);var f=i.lookupNode(c,o),y=Z.relative(e,n);if(y.charAt(0)!==".")throw new i.ErrnoError(28);if(y=Z.relative(r,t),y.charAt(0)!==".")throw new i.ErrnoError(55);var g;try{g=i.lookupNode(u,l)}catch{}if(f!==g){var k=i.isDir(f.mode),d=i.mayDelete(c,o,k);if(d)throw new i.ErrnoError(d);if(d=g?i.mayDelete(u,l,k):i.mayCreate(u,l),d)throw new i.ErrnoError(d);if(!c.node_ops.rename)throw new i.ErrnoError(63);if(i.isMountpoint(f)||g&&i.isMountpoint(g))throw new i.ErrnoError(10);if(u!==c&&(d=i.nodePermissions(c,"w"),d))throw new i.ErrnoError(d);i.hashRemoveNode(f);try{c.node_ops.rename(f,u,l),f.parent=u}catch(w){throw w}finally{i.hashAddNode(f)}}},rmdir(e){var r=i.lookupPath(e,{parent:!0}),t=r.node,n=q.basename(e),o=i.lookupNode(t,n),l=i.mayDelete(t,n,!0);if(l)throw new i.ErrnoError(l);if(!t.node_ops.rmdir)throw new i.ErrnoError(63);if(i.isMountpoint(o))throw new i.ErrnoError(10);t.node_ops.rmdir(t,n),i.destroyNode(o)},readdir(e){var r=i.lookupPath(e,{follow:!0}),t=r.node,n=i.checkOpExists(t.node_ops.readdir,54);return n(t)},unlink(e){var r=i.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new i.ErrnoError(44);var n=q.basename(e),o=i.lookupNode(t,n),l=i.mayDelete(t,n,!1);if(l)throw new i.ErrnoError(l);if(!t.node_ops.unlink)throw new i.ErrnoError(63);if(i.isMountpoint(o))throw new i.ErrnoError(10);t.node_ops.unlink(t,n),i.destroyNode(o)},readlink(e){var r=i.lookupPath(e),t=r.node;if(!t)throw new i.ErrnoError(44);if(!t.node_ops.readlink)throw new i.ErrnoError(28);return t.node_ops.readlink(t)},stat(e,r){var t=i.lookupPath(e,{follow:!r}),n=t.node,o=i.checkOpExists(n.node_ops.getattr,63);return o(n)},fstat(e){var r=i.getStreamChecked(e),t=r.node,n=r.stream_ops.getattr,o=n?r:t;return n??(n=t.node_ops.getattr),i.checkOpExists(n,63),n(o)},lstat(e){return i.stat(e,!0)},doChmod(e,r,t,n){i.doSetAttr(e,r,{mode:t&4095|r.mode&-4096,ctime:Date.now(),dontFollow:n})},chmod(e,r,t){var n;if(typeof e=="string"){var o=i.lookupPath(e,{follow:!t});n=o.node}else n=e;i.doChmod(null,n,r,t)},lchmod(e,r){i.chmod(e,r,!0)},fchmod(e,r){var t=i.getStreamChecked(e);i.doChmod(t,t.node,r,!1)},doChown(e,r,t){i.doSetAttr(e,r,{timestamp:Date.now(),dontFollow:t})},chown(e,r,t,n){var o;if(typeof e=="string"){var l=i.lookupPath(e,{follow:!n});o=l.node}else o=e;i.doChown(null,o,n)},lchown(e,r,t){i.chown(e,r,t,!0)},fchown(e,r,t){var n=i.getStreamChecked(e);i.doChown(n,n.node,!1)},doTruncate(e,r,t){if(i.isDir(r.mode))throw new i.ErrnoError(31);if(!i.isFile(r.mode))throw new i.ErrnoError(28);var n=i.nodePermissions(r,"w");if(n)throw new i.ErrnoError(n);i.doSetAttr(e,r,{size:t,timestamp:Date.now()})},truncate(e,r){if(r<0)throw new i.ErrnoError(28);var t;if(typeof e=="string"){var n=i.lookupPath(e,{follow:!0});t=n.node}else t=e;i.doTruncate(null,t,r)},ftruncate(e,r){var t=i.getStreamChecked(e);if(r<0||(t.flags&2097155)===0)throw new i.ErrnoError(28);i.doTruncate(t,t.node,r)},utime(e,r,t){var n=i.lookupPath(e,{follow:!0}),o=n.node,l=i.checkOpExists(o.node_ops.setattr,63);l(o,{atime:r,mtime:t})},open(e,r,t=438){if(e==="")throw new i.ErrnoError(44);r=typeof r=="string"?Yr(r):r,r&64?t=t&4095|32768:t=0;var n,o;if(typeof e=="object")n=e;else{o=e.endsWith("/");var l=i.lookupPath(e,{follow:!(r&131072),noent_okay:!0});n=l.node,e=l.path}var _=!1;if(r&64)if(n){if(r&128)throw new i.ErrnoError(20)}else{if(o)throw new i.ErrnoError(31);n=i.mknod(e,t|511,0),_=!0}if(!n)throw new i.ErrnoError(44);if(i.isChrdev(n.mode)&&(r&=-513),r&65536&&!i.isDir(n.mode))throw new i.ErrnoError(54);if(!_){var c=i.mayOpen(n,r);if(c)throw new i.ErrnoError(c)}r&512&&!_&&i.truncate(n,0),r&=-131713;var u=i.createStream({node:n,path:i.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return u.stream_ops.open&&u.stream_ops.open(u),_&&i.chmod(n,t&511),a.logReadFiles&&!(r&1)&&(e in i.readFiles||(i.readFiles[e]=1)),u},close(e){if(i.isClosed(e))throw new i.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{i.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(i.isClosed(e))throw new i.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new i.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new i.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,o){if(n<0||o<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===1)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.read)throw new i.ErrnoError(28);var l=typeof o<"u";if(!l)o=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var _=e.stream_ops.read(e,r,t,n,o);return l||(e.position+=_),_},write(e,r,t,n,o,l){if(n<0||o<0)throw new i.ErrnoError(28);if(i.isClosed(e))throw new i.ErrnoError(8);if((e.flags&2097155)===0)throw new i.ErrnoError(8);if(i.isDir(e.node.mode))throw new i.ErrnoError(31);if(!e.stream_ops.write)throw new i.ErrnoError(28);e.seekable&&e.flags&1024&&i.llseek(e,0,2);var _=typeof o<"u";if(!_)o=e.position;else if(!e.seekable)throw new i.ErrnoError(70);var c=e.stream_ops.write(e,r,t,n,o,l);return _||(e.position+=c),c},mmap(e,r,t,n,o){if((n&2)!==0&&(o&2)===0&&(e.flags&2097155)!==2)throw new i.ErrnoError(2);if((e.flags&2097155)===1)throw new i.ErrnoError(2);if(!e.stream_ops.mmap)throw new i.ErrnoError(43);if(!r)throw new i.ErrnoError(28);return e.stream_ops.mmap(e,r,t,n,o)},msync(e,r,t,n,o){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0},ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new i.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=i.open(e,r.flags),o=i.stat(e),l=o.size,_=new Uint8Array(l);return i.read(n,_,0,l,0),r.encoding==="utf8"?t=J(_):r.encoding==="binary"&&(t=_),i.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=i.open(e,t.flags,t.mode);if(typeof r=="string"){var o=new Uint8Array(Q(r)+1),l=Se(r,o,0,o.length);i.write(n,o,0,l,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))i.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");i.close(n)},cwd:()=>i.currentPath,chdir(e){var r=i.lookupPath(e,{follow:!0});if(r.node===null)throw new i.ErrnoError(44);if(!i.isDir(r.node.mode))throw new i.ErrnoError(54);var t=i.nodePermissions(r.node,"x");if(t)throw new i.ErrnoError(t);i.currentPath=r.path},createDefaultDirectories(){i.mkdir("/tmp"),i.mkdir("/home"),i.mkdir("/home/web_user")},createDefaultDevices(){i.mkdir("/dev"),i.registerDevice(i.makedev(1,3),{read:()=>0,write:(n,o,l,_,c)=>_,llseek:()=>0}),i.mkdev("/dev/null",i.makedev(1,3)),X.register(i.makedev(5,0),X.default_tty_ops),X.register(i.makedev(6,0),X.default_tty1_ops),i.mkdev("/dev/tty",i.makedev(5,0)),i.mkdev("/dev/tty1",i.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(ke(e),r=e.byteLength),e[--r]);i.createDevice("/dev","random",t),i.createDevice("/dev","urandom",t),i.mkdir("/dev/shm"),i.mkdir("/dev/shm/tmp")},createSpecialDirectories(){i.mkdir("/proc");var e=i.mkdir("/proc/self");i.mkdir("/proc/self/fd"),i.mount({mount(){var r=i.createNode(e,"fd",16895,73);return r.stream_ops={llseek:h.stream_ops.llseek},r.node_ops={lookup(t,n){var o=+n,l=i.getStreamChecked(o),_={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>l.path},id:o+1};return _.parent=_,_},readdir(){return Array.from(i.streams.entries()).filter(([t,n])=>n).map(([t,n])=>t.toString())}},r}},{},"/proc/self/fd")},createStandardStreams(e,r,t){e?i.createDevice("/dev","stdin",e):i.symlink("/dev/tty","/dev/stdin"),r?i.createDevice("/dev","stdout",null,r):i.symlink("/dev/tty","/dev/stdout"),t?i.createDevice("/dev","stderr",null,t):i.symlink("/dev/tty1","/dev/stderr"),i.open("/dev/stdin",0),i.open("/dev/stdout",1),i.open("/dev/stderr",1)},staticInit(){i.nameTable=new Array(4096),i.mount(h,{},"/"),i.createDefaultDirectories(),i.createDefaultDevices(),i.createSpecialDirectories(),i.filesystems={MEMFS:h}},init(e,r,t){i.initialized=!0,e??(e=a.stdin),r??(r=a.stdout),t??(t=a.stderr),i.createStandardStreams(e,r,t)},quit(){i.initialized=!1;for(var e of i.streams)e&&i.close(e)},findObject(e,r){var t=i.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=i.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=i.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=q.basename(e),t=i.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(o){n.error=o.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:i.getPath(e);for(var o=r.split("/").reverse();o.length;){var l=o.pop();if(l){var _=q.join2(e,l);try{i.mkdir(_)}catch(c){if(c.errno!=20)throw c}e=_}}return _},createFile(e,r,t,n,o){var l=q.join2(typeof e=="string"?e:i.getPath(e),r),_=Fe(n,o);return i.create(l,_)},createDataFile(e,r,t,n,o,l){var _=r;e&&(e=typeof e=="string"?e:i.getPath(e),_=r?q.join2(e,r):e);var c=Fe(n,o),u=i.create(_,c);if(t){if(typeof t=="string"){for(var f=new Array(t.length),y=0,g=t.length;y<g;++y)f[y]=t.charCodeAt(y);t=f}i.chmod(u,c|146);var k=i.open(u,577);i.write(k,t,0,t.length,0,l),i.close(k),i.chmod(u,c)}},createDevice(e,r,t,n){var c;var o=q.join2(typeof e=="string"?e:i.getPath(e),r),l=Fe(!!t,!!n);(c=i.createDevice).major??(c.major=64);var _=i.makedev(i.createDevice.major++,0);return i.registerDevice(_,{open(u){u.seekable=!1},close(u){var f;(f=n==null?void 0:n.buffer)!=null&&f.length&&n(10)},read(u,f,y,g,k){for(var d=0,w=0;w<g;w++){var F;try{F=t()}catch{throw new i.ErrnoError(29)}if(F===void 0&&d===0)throw new i.ErrnoError(6);if(F==null)break;d++,f[y+w]=F}return d&&(u.node.atime=Date.now()),d},write(u,f,y,g,k){for(var d=0;d<g;d++)try{n(f[y+d])}catch{throw new i.ErrnoError(29)}return g&&(u.node.mtime=u.node.ctime=Date.now()),d}}),i.mkdev(o,l,_)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=_e(e.url),e.usedBytes=e.contents.length}catch{throw new i.ErrnoError(29)}},createLazyFile(e,r,t,n,o){class l{constructor(){x(this,"lengthKnown",!1);x(this,"chunks",[])}get(d){if(!(d>this.length-1||d<0)){var w=d%this.chunkSize,F=d/this.chunkSize|0;return this.getter(F)[w]}}setDataGetter(d){this.getter=d}cacheLength(){var d=new XMLHttpRequest;if(d.open("HEAD",t,!1),d.send(null),!(d.status>=200&&d.status<300||d.status===304))throw new Error("Couldn't load "+t+". Status: "+d.status);var w=Number(d.getResponseHeader("Content-length")),F,S=(F=d.getResponseHeader("Accept-Ranges"))&&F==="bytes",T=(F=d.getResponseHeader("Content-Encoding"))&&F==="gzip",C=1024*1024;S||(C=w);var P=(j,te)=>{if(j>te)throw new Error("invalid range ("+j+", "+te+") or no bytes requested!");if(te>w-1)throw new Error("only "+w+" bytes available! programmer error!");var R=new XMLHttpRequest;if(R.open("GET",t,!1),w!==C&&R.setRequestHeader("Range","bytes="+j+"-"+te),R.responseType="arraybuffer",R.overrideMimeType&&R.overrideMimeType("text/plain; charset=x-user-defined"),R.send(null),!(R.status>=200&&R.status<300||R.status===304))throw new Error("Couldn't load "+t+". Status: "+R.status);return R.response!==void 0?new Uint8Array(R.response||[]):Ae(R.responseText||"",!0)},se=this;se.setDataGetter(j=>{var te=j*C,R=(j+1)*C-1;if(R=Math.min(R,w-1),typeof se.chunks[j]>"u"&&(se.chunks[j]=P(te,R)),typeof se.chunks[j]>"u")throw new Error("doXHR failed!");return se.chunks[j]}),(T||!w)&&(C=w=1,w=this.getter(0).length,C=w,ye("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=w,this._chunkSize=C,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!le)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _=new l,c={isDevice:!1,contents:_}}else var c={isDevice:!1,url:t};var u=i.createFile(e,r,c,n,o);c.contents?u.contents=c.contents:c.url&&(u.contents=null,u.url=c.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var f={},y=Object.keys(u.stream_ops);y.forEach(k=>{var d=u.stream_ops[k];f[k]=(...w)=>(i.forceLoadFile(u),d(...w))});function g(k,d,w,F,S){var T=k.node.contents;if(S>=T.length)return 0;var C=Math.min(T.length-S,F);if(T.slice)for(var P=0;P<C;P++)d[w+P]=T[S+P];else for(var P=0;P<C;P++)d[w+P]=T.get(S+P);return C}return f.read=(k,d,w,F,S)=>(i.forceLoadFile(u),g(k,d,w,F,S)),f.mmap=(k,d,w,F,S)=>{i.forceLoadFile(u);var T=$e(d);if(!T)throw new i.ErrnoError(48);return g(k,M,T,d,w),{ptr:T,allocated:!0}},u.stream_ops=f,u}},b={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(q.isAbs(r))return r;var n;if(e===-100)n=i.cwd();else{var o=b.getStreamFromFD(e);n=o.path}if(r.length==0){if(!t)throw new i.ErrnoError(44);return n}return n+"/"+r},writeStat(e,r){v[e>>2]=r.dev,v[e+4>>2]=r.mode,D[e+8>>2]=r.nlink,v[e+12>>2]=r.uid,v[e+16>>2]=r.gid,v[e+20>>2]=r.rdev,A=[r.size>>>0,(p=r.size,+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[e+24>>2]=A[0],v[e+28>>2]=A[1],v[e+32>>2]=4096,v[e+36>>2]=r.blocks;var t=r.atime.getTime(),n=r.mtime.getTime(),o=r.ctime.getTime();return A=[Math.floor(t/1e3)>>>0,(p=Math.floor(t/1e3),+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[e+40>>2]=A[0],v[e+44>>2]=A[1],D[e+48>>2]=t%1e3*1e3*1e3,A=[Math.floor(n/1e3)>>>0,(p=Math.floor(n/1e3),+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[e+56>>2]=A[0],v[e+60>>2]=A[1],D[e+64>>2]=n%1e3*1e3*1e3,A=[Math.floor(o/1e3)>>>0,(p=Math.floor(o/1e3),+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[e+72>>2]=A[0],v[e+76>>2]=A[1],D[e+80>>2]=o%1e3*1e3*1e3,A=[r.ino>>>0,(p=r.ino,+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[e+88>>2]=A[0],v[e+92>>2]=A[1],0},writeStatFs(e,r){v[e+4>>2]=r.bsize,v[e+40>>2]=r.bsize,v[e+8>>2]=r.blocks,v[e+12>>2]=r.bfree,v[e+16>>2]=r.bavail,v[e+20>>2]=r.files,v[e+24>>2]=r.ffree,v[e+28>>2]=r.fsid,v[e+44>>2]=r.flags,v[e+36>>2]=r.namelen},doMsync(e,r,t,n,o){if(!i.isFile(r.node.mode))throw new i.ErrnoError(43);if(n&2)return 0;var l=U.slice(e,e+t);i.msync(r,l,o,t,n)},getStreamFromFD(e){var r=i.getStreamChecked(e);return r},varargs:void 0,getStr(e){var r=K(e);return r}};function Jr(e,r){try{return e=b.getStr(e),i.chmod(e,r),0}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function Zr(e,r,t,n){try{if(r=b.getStr(r),r=b.calculateAt(e,r),t&-8)return-28;var o=i.lookupPath(r,{follow:!0}),l=o.node;if(!l)return-44;var _="";return t&4&&(_+="r"),t&2&&(_+="w"),t&1&&(_+="x"),_&&i.nodePermissions(l,_)?-2:0}catch(c){if(typeof i>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function Qr(e,r){try{return i.fchmod(e,r),0}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function et(e,r,t){try{return i.fchown(e,r,t),0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var de=()=>{var e=v[+b.varargs>>2];return b.varargs+=4,e},rt=de;function tt(e,r,t){b.varargs=t;try{var n=b.getStreamFromFD(e);switch(r){case 0:{var o=de();if(o<0)return-28;for(;i.streams[o];)o++;var l;return l=i.dupStream(n,o),l.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=de();return n.flags|=o,0}case 12:{var o=rt(),_=0;return I[o+_>>1]=2,0}case 13:case 14:return 0}return-28}catch(c){if(typeof i>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function nt(e,r){try{return b.writeStat(r,i.fstat(e))}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}var ie=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function it(e,r,t){var n=ie(r,t);try{return isNaN(n)?61:(i.ftruncate(e,n),0)}catch(o){if(typeof i>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}var B=(e,r,t)=>Se(e,U,r,t);function at(e,r){try{if(r===0)return-28;var t=i.cwd(),n=Q(t)+1;return r<n?-68:(B(t,e,r),n)}catch(o){if(typeof i>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function ot(e,r){try{return e=b.getStr(e),b.writeStat(r,i.lstat(e))}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function st(e,r,t){try{return r=b.getStr(r),r=b.calculateAt(e,r),i.mkdir(r,t,0),0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}function lt(e,r,t,n){try{r=b.getStr(r);var o=n&256,l=n&4096;return n=n&-6401,r=b.calculateAt(e,r,l),b.writeStat(t,o?i.lstat(r):i.stat(r))}catch(_){if(typeof i>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function _t(e,r,t,n){b.varargs=n;try{r=b.getStr(r),r=b.calculateAt(e,r);var o=n?de():0;return i.open(r,t,o).fd}catch(l){if(typeof i>"u"||l.name!=="ErrnoError")throw l;return-l.errno}}function ct(e,r,t,n){try{if(r=b.getStr(r),r=b.calculateAt(e,r),n<=0)return-28;var o=i.readlink(r),l=Math.min(n,Q(o)),_=M[t+l];return B(o,t,n+1),M[t+l]=_,l}catch(c){if(typeof i>"u"||c.name!=="ErrnoError")throw c;return-c.errno}}function ut(e){try{return e=b.getStr(e),i.rmdir(e),0}catch(r){if(typeof i>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function ft(e,r){try{return e=b.getStr(e),b.writeStat(r,i.stat(e))}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function dt(e,r,t){try{return r=b.getStr(r),r=b.calculateAt(e,r),t===0?i.unlink(r):t===512?i.rmdir(r):z("Invalid flags passed to unlinkat"),0}catch(n){if(typeof i>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Ke=e=>D[e>>2]+v[e+4>>2]*4294967296;function vt(e,r,t,n){try{r=b.getStr(r),r=b.calculateAt(e,r,!0);var o=Date.now(),l,_;if(!t)l=o,_=o;else{var c=Ke(t),u=v[t+8>>2];u==1073741823?l=o:u==1073741822?l=null:l=c*1e3+u/1e6,t+=16,c=Ke(t),u=v[t+8>>2],u==1073741823?_=o:u==1073741822?_=null:_=c*1e3+u/1e6}return(_??l)!==null&&i.utime(r,l,_),0}catch(f){if(typeof i>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}var mt=()=>z(""),ve=0,pt=()=>{He=!1,ve=0},ht=e=>e%4===0&&(e%100!==0||e%400===0),yt=[0,31,60,91,121,152,182,213,244,274,305,335],wt=[0,31,59,90,120,151,181,212,243,273,304,334],gt=e=>{var r=ht(e.getFullYear()),t=r?yt:wt,n=t[e.getMonth()]+e.getDate()-1;return n};function bt(e,r,t){var n=ie(e,r),o=new Date(n*1e3);v[t>>2]=o.getSeconds(),v[t+4>>2]=o.getMinutes(),v[t+8>>2]=o.getHours(),v[t+12>>2]=o.getDate(),v[t+16>>2]=o.getMonth(),v[t+20>>2]=o.getFullYear()-1900,v[t+24>>2]=o.getDay();var l=gt(o)|0;v[t+28>>2]=l,v[t+36>>2]=-(o.getTimezoneOffset()*60);var _=new Date(o.getFullYear(),0,1),c=new Date(o.getFullYear(),6,1).getTimezoneOffset(),u=_.getTimezoneOffset(),f=(c!=u&&o.getTimezoneOffset()==Math.min(u,c))|0;v[t+32>>2]=f}function Et(e,r,t,n,o,l,_,c){var u=ie(o,l);try{if(isNaN(u))return 61;var f=b.getStreamFromFD(n),y=i.mmap(f,e,u,r,t),g=y.ptr;return v[_>>2]=y.allocated,D[c>>2]=g,0}catch(k){if(typeof i>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function kt(e,r,t,n,o,l,_){var c=ie(l,_);try{var u=b.getStreamFromFD(o);t&2&&b.doMsync(e,u,r,n,c)}catch(f){if(typeof i>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}var ae={},De=e=>{if(e instanceof Oe||e=="unwind")return fe;xe(1,e)},Xe=()=>He||ve>0,Ye=e=>{var r;fe=e,Xe()||((r=a.onExit)==null||r.call(a,e),$=!0),xe(e,new Oe(e))},Je=(e,r)=>{fe=e,Ye(e)},qt=Je,St=()=>{if(!Xe())try{qt(fe)}catch(e){De(e)}},Ze=e=>{if(!$)try{e(),St()}catch(r){De(r)}},Qe=()=>performance.now(),At=(e,r)=>{if(ae[e]&&(clearTimeout(ae[e].id),delete ae[e]),!r)return 0;var t=setTimeout(()=>{delete ae[e],Ze(()=>Rn(e,Qe()))},r);return ae[e]={id:t,timeout_ms:r},0},Ft=(e,r,t,n)=>{var o=new Date().getFullYear(),l=new Date(o,0,1),_=new Date(o,6,1),c=l.getTimezoneOffset(),u=_.getTimezoneOffset(),f=Math.max(c,u);D[e>>2]=f*60,v[r>>2]=+(c!=u);var y=d=>{var w=d>=0?"-":"+",F=Math.abs(d),S=String(Math.floor(F/60)).padStart(2,"0"),T=String(F%60).padStart(2,"0");return`UTC${w}${S}${T}`},g=y(c),k=y(u);u<c?(B(g,t,17),B(k,n,17)):(B(g,n,17),B(k,t,17))},Dt=()=>Date.now(),Tt=()=>2147483648,Mt=e=>{var r=ue.buffer,t=(e-r.byteLength+65535)/65536|0;try{return ue.grow(t),ze(),1}catch{}},Rt=e=>{var r=U.length;e>>>=0;var t=Tt();if(e>t)return!1;for(var n=1;n<=4;n*=2){var o=r*(1+.2/n);o=Math.min(o,e+100663296);var l=Math.min(t,Ve(Math.max(e,o),65536)),_=Mt(l);if(_)return!0}return!1},Te={},Ct=()=>Pe||"./this.program",oe=()=>{if(!oe.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ct()};for(var t in Te)Te[t]===void 0?delete r[t]:r[t]=Te[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);oe.strings=n}return oe.strings},Pt=(e,r)=>{for(var t=0;t<e.length;++t)M[r++]=e.charCodeAt(t);M[r]=0},xt=(e,r)=>{var t=0;return oe().forEach((n,o)=>{var l=r+t;D[e+o*4>>2]=l,Pt(n,l),t+=n.length+1}),0},Nt=(e,r)=>{var t=oe();D[e>>2]=t.length;var n=0;return t.forEach(o=>n+=o.length+1),D[r>>2]=n,0};function zt(e){try{var r=b.getStreamFromFD(e);return i.close(r),0}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return t.errno}}function jt(e,r){try{var t=0,n=0,o=0,l=b.getStreamFromFD(e),_=l.tty?2:i.isDir(l.mode)?3:i.isLink(l.mode)?7:4;return M[r]=_,I[r+2>>1]=o,A=[t>>>0,(p=t,+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[r+8>>2]=A[0],v[r+12>>2]=A[1],A=[n>>>0,(p=n,+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[r+16>>2]=A[0],v[r+20>>2]=A[1],0}catch(c){if(typeof i>"u"||c.name!=="ErrnoError")throw c;return c.errno}}var Ot=(e,r,t,n)=>{for(var o=0,l=0;l<t;l++){var _=D[r>>2],c=D[r+4>>2];r+=8;var u=i.read(e,M,_,c,n);if(u<0)return-1;if(o+=u,u<c)break}return o};function Ut(e,r,t,n){try{var o=b.getStreamFromFD(e),l=Ot(o,r,t);return D[n>>2]=l,0}catch(_){if(typeof i>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function Lt(e,r,t,n,o){var l=ie(r,t);try{if(isNaN(l))return 61;var _=b.getStreamFromFD(e);return i.llseek(_,l,n),A=[_.position>>>0,(p=_.position,+Math.abs(p)>=1?p>0?+Math.floor(p/4294967296)>>>0:~~+Math.ceil((p-+(~~p>>>0))/4294967296)>>>0:0)],v[o>>2]=A[0],v[o+4>>2]=A[1],_.getdents&&l===0&&n===0&&(_.getdents=null),0}catch(c){if(typeof i>"u"||c.name!=="ErrnoError")throw c;return c.errno}}var er=function(e){try{var r=b.getStreamFromFD(e);return m.handleSleep(t=>{var n=r.node.mount;if(!n.type.syncfs){t(0);return}n.type.syncfs(n,!1,o=>{if(o){t(29);return}t(0)})})}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return t.errno}};er.isAsync=!0;var It=(e,r,t,n)=>{for(var o=0,l=0;l<t;l++){var _=D[r>>2],c=D[r+4>>2];r+=8;var u=i.write(e,M,_,c,n);if(u<0)return-1;if(o+=u,u<c)break}return o};function Bt(e,r,t,n){try{var o=b.getStreamFromFD(e),l=It(o,r,t);return D[n>>2]=l,0}catch(_){if(typeof i>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var E=function(){const e=typeof m=="object"?m.handleAsync.bind(m):null;a.handleAsync=e;const r=new Map;a.setCallback=(t,n)=>r.set(t,n),a.getCallback=t=>r.get(t),a.deleteCallback=t=>r.delete(t),E=function(t,n,...o){const l=r.get(n);let _=null;const c=typeof l=="function"?l:l[_=K(o.shift())];if(t){if(e)return e(()=>c.apply(l,o));throw new Error("Synchronous WebAssembly cannot call async function")}const u=c.apply(l,o);if(typeof(u==null?void 0:u.then)=="function")throw console.error("unexpected Promise",c),new Error(`${_} unexpectedly returned a Promise`);return u}};function Ht(...e){return E(!1,...e)}function rr(...e){return E(!0,...e)}rr.isAsync=!0;function Wt(...e){return E(!1,...e)}function tr(...e){return E(!0,...e)}tr.isAsync=!0;function Vt(...e){return E(!1,...e)}function nr(...e){return E(!0,...e)}nr.isAsync=!0;function $t(...e){return E(!1,...e)}function ir(...e){return E(!0,...e)}ir.isAsync=!0;function Gt(...e){return E(!1,...e)}function ar(...e){return E(!0,...e)}ar.isAsync=!0;function Kt(...e){return E(!1,...e)}function or(...e){return E(!0,...e)}or.isAsync=!0;function Xt(...e){return E(!1,...e)}function sr(...e){return E(!0,...e)}sr.isAsync=!0;function Yt(...e){return E(!1,...e)}function lr(...e){return E(!0,...e)}lr.isAsync=!0;function Jt(...e){return E(!1,...e)}function _r(...e){return E(!0,...e)}_r.isAsync=!0;function Zt(...e){return E(!1,...e)}function cr(...e){return E(!0,...e)}cr.isAsync=!0;function Qt(...e){return E(!1,...e)}function ur(...e){return E(!0,...e)}ur.isAsync=!0;function en(...e){return E(!1,...e)}function fr(...e){return E(!0,...e)}fr.isAsync=!0;function rn(...e){return E(!1,...e)}function dr(...e){return E(!0,...e)}dr.isAsync=!0;function tn(e,r){try{return ke(U.subarray(e,e+r)),0}catch(t){if(typeof i>"u"||t.name!=="ErrnoError")throw t;return t.errno}}function nn(...e){return E(!1,...e)}function vr(...e){return E(!0,...e)}vr.isAsync=!0;function an(...e){return E(!1,...e)}function mr(...e){return E(!0,...e)}mr.isAsync=!0;function on(...e){return E(!1,...e)}function pr(...e){return E(!0,...e)}pr.isAsync=!0;var me=e=>{try{return e()}catch(r){z(r)}},sn=e=>{for(var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},t={parameters:[],results:e[0]=="v"?[]:[r[e[0]]]},n=1;n<e.length;++n)t.parameters.push(r[e[n]]);return t},ln=()=>{ve+=1},_n=()=>{ve-=1},m={instrumentWasmImports(e){var r=/^(ipp|ipp_async|ippp|ippp_async|vppp|vppp_async|ipppj|ipppj_async|ipppi|ipppi_async|ipppp|ipppp_async|ipppip|ipppip_async|vpppip|vpppip_async|ippppi|ippppi_async|ippppij|ippppij_async|ipppiii|ipppiii_async|ippppip|ippppip_async|ippipppp|ippipppp_async|ipppppip|ipppppip_async|ipppiiip|ipppiiip_async|vppippii|vppippii_async|invoke_.*|__asyncjs__.*)$/;for(let[t,n]of Object.entries(e))typeof n=="function"&&(n.isAsync||r.test(t))},instrumentWasmExports(e){var r={};for(let[t,n]of Object.entries(e))typeof n=="function"?r[t]=(...o)=>{m.exportCallStack.push(t);try{return n(...o)}finally{$||(m.exportCallStack.pop(),m.maybeStopUnwind())}}:r[t]=n;return r},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:16384,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(e){var r=m.callStackNameToId[e];return r===void 0&&(r=m.callStackId++,m.callStackNameToId[e]=r,m.callStackIdToName[r]=e),r},maybeStopUnwind(){m.currData&&m.state===m.State.Unwinding&&m.exportCallStack.length===0&&(m.state=m.State.Normal,me(jn),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return new Promise((e,r)=>{m.asyncPromiseHandlers={resolve:e,reject:r}})},allocateData(){var e=Fn(12+m.StackSize);return m.setDataHeader(e,e+12,m.StackSize),m.setDataRewindFunc(e),e},setDataHeader(e,r,t){D[e>>2]=r,D[e+4>>2]=r+t},setDataRewindFunc(e){var r=m.exportCallStack[0],t=m.getCallStackId(r);v[e+8>>2]=t},getDataRewindFuncName(e){var r=v[e+8>>2],t=m.callStackIdToName[r];return t},getDataRewindFunc(e){var r=s[e];return r},doRewind(e){var r=m.getDataRewindFuncName(e),t=m.getDataRewindFunc(r);return t()},handleSleep(e){if(!$){if(m.state===m.State.Normal){var r=!1,t=!1;e((n=0)=>{if(!$&&(m.handleSleepReturnValue=n,r=!0,!!t)){m.state=m.State.Rewinding,me(()=>On(m.currData)),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.resume();var o,l=!1;try{o=m.doRewind(m.currData)}catch(u){o=u,l=!0}var _=!1;if(!m.currData){var c=m.asyncPromiseHandlers;c&&(m.asyncPromiseHandlers=null,(l?c.reject:c.resolve)(o),_=!0)}if(l&&!_)throw o}}),t=!0,r||(m.state=m.State.Unwinding,m.currData=m.allocateData(),typeof MainLoop<"u"&&MainLoop.func&&MainLoop.pause(),me(()=>zn(m.currData)))}else m.state===m.State.Rewinding?(m.state=m.State.Normal,me(Un),Dn(m.currData),m.currData=null,m.sleepCallbacks.forEach(Ze)):z(`invalid state: ${m.state}`);return m.handleSleepReturnValue}},handleAsync(e){return m.handleSleep(r=>{e().then(r)})}},hr=(e,r)=>{e<128?r.push(e):r.push(e%128|128,e>>7)},cn=(e,r)=>{var t=e.slice(0,1),n=e.slice(1),o={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96),hr(n.length,r);for(var l of n)r.push(o[l]);t=="v"?r.push(0):r.push(1,o[t])},un=(e,r)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sn(r),e);var t=[1];cn(r,t);var n=[0,97,115,109,1,0,0,0,1];hr(t.length,n),n.push(...t),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(n)),l=new WebAssembly.Instance(o,{e:{f:e}}),_=l.exports.f;return _},ee,fn=e=>ee.get(e),dn=(e,r)=>{if(re)for(var t=e;t<e+r;t++){var n=fn(t);n&&re.set(n,t)}},re,vn=e=>(re||(re=new WeakMap,dn(0,ee.length)),re.get(e)||0),yr=[],mn=()=>{if(yr.length)return yr.pop();try{ee.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return ee.length-1},wr=(e,r)=>ee.set(e,r),pn=(e,r)=>{var t=vn(e);if(t)return t;var n=mn();try{wr(n,e)}catch(l){if(!(l instanceof TypeError))throw l;var o=un(e,r);wr(n,o)}return re.set(e,n),n},gr=e=>{var r=a["_"+e];return r},br=(e,r)=>{M.set(e,r)},Er=e=>xn(e),hn=e=>{var r=Q(e)+1,t=Er(r);return B(e,t,r),t},H=(e,r,t,n,o)=>{var l={string:S=>{var T=0;return S!=null&&S!==0&&(T=hn(S)),T},array:S=>{var T=Er(S.length);return br(S,T),T}};function _(S){return r==="string"?K(S):r==="boolean"?!!S:S}var c=gr(e),u=[],f=0;if(n)for(var y=0;y<n.length;y++){var g=l[t[y]];g?(f===0&&(f=Ir()),u[y]=g(n[y])):u[y]=n[y]}var k=m.currData,d=c(...u);function w(S){return _n(),f!==0&&Lr(f),_(S)}var F=o==null?void 0:o.async;return ln(),m.currData!=k?m.whenDone().then(w):(d=w(d),F?Promise.resolve(d):d)},yn=(e,r,t,n)=>{var o=!t||t.every(_=>_==="number"||_==="boolean"),l=r!=="string";return l&&o&&!n?gr(e):(..._)=>H(e,r,t,_,n)},kr=e=>Cn(),wn=(e,r,t)=>{if(t??(t=2147483647),t<2)return 0;t-=2;for(var n=r,o=t<e.length*2?t/2:e.length,l=0;l<o;++l){var _=e.charCodeAt(l);I[r>>1]=_,r+=2}return I[r>>1]=0,r-n},gn=(e,r,t)=>{if(t??(t=2147483647),t<4)return 0;for(var n=r,o=n+t-4,l=0;l<e.length;++l){var _=e.charCodeAt(l);if(_>=55296&&_<=57343){var c=e.charCodeAt(++l);_=65536+((_&1023)<<10)|c&1023}if(v[r>>2]=_,r+=4,r+4>o)break}return v[r>>2]=0,r-n},bn=e=>{for(var r="";;){var t=U[e++];if(!t)return r;r+=String.fromCharCode(t)}},qr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,En=(e,r)=>{for(var t=e,n=t>>1,o=n+r/2;!(n>=o)&&Ne[n];)++n;if(t=n<<1,t-e>32&&qr)return qr.decode(U.subarray(e,t));for(var l="",_=0;!(_>=r/2);++_){var c=I[e+_*2>>1];if(c==0)break;l+=String.fromCharCode(c)}return l},kn=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var o=v[e+t*4>>2];if(o==0)break;if(++t,o>=65536){var l=o-65536;n+=String.fromCharCode(55296|l>>10,56320|l&1023)}else n+=String.fromCharCode(o)}return n},qn=e=>{for(var r=[],t=0;t<e.length;t++){var n=e[t];n>255&&(n&=255),r.push(String.fromCharCode(n))}return r.join("")},Sn=kr;a._getTempRet0=Sn,i.createPreloadedFile=Xr,i.staticInit(),h.doesNotExistError=new i.ErrnoError(44),h.doesNotExistError.stack="<generic error, no stack>",E();var An={a:Br,aa:Jr,ca:Zr,ba:Qr,$:et,b:tt,_:nt,y:it,U:at,Y:ot,Q:st,W:lt,O:_t,M:ct,L:ut,Z:ft,J:dt,I:vt,ea:mt,E:pt,w:bt,u:Et,v:kt,F:At,P:Ft,n:Dt,g:Qe,G:Rt,R:xt,S:Nt,o:zt,H:jt,N:Ut,x:Lt,V:er,K:Bt,s:Ht,t:rr,la:Wt,pa:tr,j:Vt,k:nr,c:$t,d:ir,ha:Gt,ia:ar,ja:Kt,ka:or,h:Xt,i:sr,z:Yt,A:lr,e:Jt,f:_r,fa:Zt,ga:cr,B:Qt,C:ur,p:en,q:fr,ma:rn,na:dr,D:Ye,T:tn,oa:nn,r:vr,l:an,m:mr,X:on,da:pr},s=await jr();s.ra,a._powersync_init_static=s.sa,a._sqlite3_status64=s.ta,a._sqlite3_status=s.ua,a._sqlite3_db_status=s.va,a._sqlite3_msize=s.wa,a._sqlite3_vfs_find=s.xa,a._sqlite3_vfs_register=s.ya,a._sqlite3_vfs_unregister=s.za,a._sqlite3_release_memory=s.Aa,a._sqlite3_soft_heap_limit64=s.Ba,a._sqlite3_memory_used=s.Ca,a._sqlite3_hard_heap_limit64=s.Da,a._sqlite3_memory_highwater=s.Ea,a._sqlite3_malloc=s.Fa,a._sqlite3_malloc64=s.Ga,a._sqlite3_free=s.Ha,a._sqlite3_realloc=s.Ia,a._sqlite3_realloc64=s.Ja,a._sqlite3_str_vappendf=s.Ka,a._sqlite3_str_append=s.La,a._sqlite3_str_appendchar=s.Ma,a._sqlite3_str_appendall=s.Na,a._sqlite3_str_appendf=s.Oa,a._sqlite3_str_finish=s.Pa,a._sqlite3_str_errcode=s.Qa,a._sqlite3_str_length=s.Ra,a._sqlite3_str_value=s.Sa,a._sqlite3_str_reset=s.Ta,a._sqlite3_str_new=s.Ua,a._sqlite3_vmprintf=s.Va,a._sqlite3_mprintf=s.Wa,a._sqlite3_vsnprintf=s.Xa,a._sqlite3_snprintf=s.Ya,a._sqlite3_log=s.Za,a._sqlite3_randomness=s._a,a._sqlite3_stricmp=s.$a,a._sqlite3_strnicmp=s.ab,a._sqlite3_os_init=s.bb,a._sqlite3_os_end=s.cb,a._sqlite3_serialize=s.db,a._sqlite3_prepare_v2=s.eb,a._sqlite3_step=s.fb,a._sqlite3_column_int64=s.gb,a._sqlite3_reset=s.hb,a._sqlite3_exec=s.ib,a._sqlite3_column_int=s.jb,a._sqlite3_finalize=s.kb,a._sqlite3_deserialize=s.lb,a._sqlite3_database_file_object=s.mb,a._sqlite3_backup_init=s.nb,a._sqlite3_backup_step=s.ob,a._sqlite3_backup_finish=s.pb,a._sqlite3_backup_remaining=s.qb,a._sqlite3_backup_pagecount=s.rb,a._sqlite3_clear_bindings=s.sb,a._sqlite3_value_blob=s.tb,a._sqlite3_value_text=s.ub,a._sqlite3_value_bytes=s.vb,a._sqlite3_value_bytes16=s.wb,a._sqlite3_value_double=s.xb,a._sqlite3_value_int=s.yb,a._sqlite3_value_int64=s.zb,a._sqlite3_value_subtype=s.Ab,a._sqlite3_value_pointer=s.Bb,a._sqlite3_value_text16=s.Cb,a._sqlite3_value_text16be=s.Db,a._sqlite3_value_text16le=s.Eb,a._sqlite3_value_type=s.Fb,a._sqlite3_value_encoding=s.Gb,a._sqlite3_value_nochange=s.Hb,a._sqlite3_value_frombind=s.Ib,a._sqlite3_value_dup=s.Jb,a._sqlite3_value_free=s.Kb,a._sqlite3_result_blob=s.Lb,a._sqlite3_result_blob64=s.Mb,a._sqlite3_result_double=s.Nb,a._sqlite3_result_error=s.Ob,a._sqlite3_result_error16=s.Pb,a._sqlite3_result_int=s.Qb,a._sqlite3_result_int64=s.Rb,a._sqlite3_result_null=s.Sb,a._sqlite3_result_pointer=s.Tb,a._sqlite3_result_subtype=s.Ub,a._sqlite3_result_text=s.Vb,a._sqlite3_result_text64=s.Wb,a._sqlite3_result_text16=s.Xb,a._sqlite3_result_text16be=s.Yb,a._sqlite3_result_text16le=s.Zb,a._sqlite3_result_value=s._b,a._sqlite3_result_error_toobig=s.$b,a._sqlite3_result_zeroblob=s.ac,a._sqlite3_result_zeroblob64=s.bc,a._sqlite3_result_error_code=s.cc,a._sqlite3_result_error_nomem=s.dc,a._sqlite3_user_data=s.ec,a._sqlite3_context_db_handle=s.fc,a._sqlite3_vtab_nochange=s.gc,a._sqlite3_vtab_in_first=s.hc,a._sqlite3_vtab_in_next=s.ic,a._sqlite3_aggregate_context=s.jc,a._sqlite3_get_auxdata=s.kc,a._sqlite3_set_auxdata=s.lc,a._sqlite3_column_count=s.mc,a._sqlite3_data_count=s.nc,a._sqlite3_column_blob=s.oc,a._sqlite3_column_bytes=s.pc,a._sqlite3_column_bytes16=s.qc,a._sqlite3_column_double=s.rc,a._sqlite3_column_text=s.sc,a._sqlite3_column_value=s.tc,a._sqlite3_column_text16=s.uc,a._sqlite3_column_type=s.vc,a._sqlite3_column_name=s.wc,a._sqlite3_column_name16=s.xc,a._sqlite3_bind_blob=s.yc,a._sqlite3_bind_blob64=s.zc,a._sqlite3_bind_double=s.Ac,a._sqlite3_bind_int=s.Bc,a._sqlite3_bind_int64=s.Cc,a._sqlite3_bind_null=s.Dc,a._sqlite3_bind_pointer=s.Ec,a._sqlite3_bind_text=s.Fc,a._sqlite3_bind_text64=s.Gc,a._sqlite3_bind_text16=s.Hc,a._sqlite3_bind_value=s.Ic,a._sqlite3_bind_zeroblob=s.Jc,a._sqlite3_bind_zeroblob64=s.Kc,a._sqlite3_bind_parameter_count=s.Lc,a._sqlite3_bind_parameter_name=s.Mc,a._sqlite3_bind_parameter_index=s.Nc,a._sqlite3_db_handle=s.Oc,a._sqlite3_stmt_readonly=s.Pc,a._sqlite3_stmt_isexplain=s.Qc,a._sqlite3_stmt_explain=s.Rc,a._sqlite3_stmt_busy=s.Sc,a._sqlite3_next_stmt=s.Tc,a._sqlite3_stmt_status=s.Uc,a._sqlite3_sql=s.Vc,a._sqlite3_expanded_sql=s.Wc,a._sqlite3_value_numeric_type=s.Xc,a._sqlite3_blob_open=s.Yc,a._sqlite3_blob_close=s.Zc,a._sqlite3_blob_read=s._c,a._sqlite3_blob_write=s.$c,a._sqlite3_blob_bytes=s.ad,a._sqlite3_blob_reopen=s.bd,a._sqlite3_set_authorizer=s.cd,a._sqlite3_strglob=s.dd,a._sqlite3_strlike=s.ed,a._sqlite3_errmsg=s.fd,a._sqlite3_load_extension=s.gd,a._sqlite3_enable_load_extension=s.hd,a._sqlite3_auto_extension=s.id,a._sqlite3_cancel_auto_extension=s.jd,a._sqlite3_reset_auto_extension=s.kd,a._sqlite3_prepare=s.ld,a._sqlite3_prepare_v3=s.md,a._sqlite3_prepare16=s.nd,a._sqlite3_prepare16_v2=s.od,a._sqlite3_prepare16_v3=s.pd,a._sqlite3_get_table=s.qd,a._sqlite3_free_table=s.rd,a._sqlite3_create_module=s.sd,a._sqlite3_create_module_v2=s.td,a._sqlite3_drop_modules=s.ud,a._sqlite3_declare_vtab=s.vd,a._sqlite3_vtab_on_conflict=s.wd,a._sqlite3_vtab_config=s.xd,a._sqlite3_vtab_collation=s.yd,a._sqlite3_vtab_in=s.zd,a._sqlite3_vtab_rhs_value=s.Ad,a._sqlite3_vtab_distinct=s.Bd,a._sqlite3_keyword_name=s.Cd,a._sqlite3_keyword_count=s.Dd,a._sqlite3_keyword_check=s.Ed,a._sqlite3_complete=s.Fd,a._sqlite3_complete16=s.Gd,a._sqlite3_libversion=s.Hd,a._sqlite3_libversion_number=s.Id,a._sqlite3_threadsafe=s.Jd,a._sqlite3_initialize=s.Kd,a._sqlite3_shutdown=s.Ld,a._sqlite3_config=s.Md,a._sqlite3_db_mutex=s.Nd,a._sqlite3_db_release_memory=s.Od,a._sqlite3_db_cacheflush=s.Pd,a._sqlite3_db_config=s.Qd,a._sqlite3_last_insert_rowid=s.Rd,a._sqlite3_set_last_insert_rowid=s.Sd,a._sqlite3_changes64=s.Td,a._sqlite3_changes=s.Ud,a._sqlite3_total_changes64=s.Vd,a._sqlite3_total_changes=s.Wd,a._sqlite3_txn_state=s.Xd,a._sqlite3_close=s.Yd,a._sqlite3_close_v2=s.Zd,a._sqlite3_busy_handler=s._d,a._sqlite3_progress_handler=s.$d,a._sqlite3_busy_timeout=s.ae,a._sqlite3_interrupt=s.be,a._sqlite3_is_interrupted=s.ce,a._sqlite3_create_function=s.de,a._sqlite3_create_function_v2=s.ee,a._sqlite3_create_window_function=s.fe,a._sqlite3_create_function16=s.ge,a._sqlite3_overload_function=s.he,a._sqlite3_trace_v2=s.ie,a._sqlite3_commit_hook=s.je,a._sqlite3_update_hook=s.ke,a._sqlite3_rollback_hook=s.le,a._sqlite3_autovacuum_pages=s.me,a._sqlite3_wal_autocheckpoint=s.ne,a._sqlite3_wal_hook=s.oe,a._sqlite3_wal_checkpoint_v2=s.pe,a._sqlite3_wal_checkpoint=s.qe,a._sqlite3_error_offset=s.re,a._sqlite3_errmsg16=s.se,a._sqlite3_errcode=s.te,a._sqlite3_extended_errcode=s.ue,a._sqlite3_system_errno=s.ve,a._sqlite3_errstr=s.we,a._sqlite3_limit=s.xe,a._sqlite3_open=s.ye,a._sqlite3_open_v2=s.ze,a._sqlite3_open16=s.Ae,a._sqlite3_create_collation=s.Be,a._sqlite3_create_collation_v2=s.Ce,a._sqlite3_create_collation16=s.De,a._sqlite3_collation_needed=s.Ee,a._sqlite3_collation_needed16=s.Fe,a._sqlite3_get_clientdata=s.Ge,a._sqlite3_set_clientdata=s.He,a._sqlite3_get_autocommit=s.Ie,a._sqlite3_table_column_metadata=s.Je,a._sqlite3_sleep=s.Ke,a._sqlite3_extended_result_codes=s.Le,a._sqlite3_file_control=s.Me,a._sqlite3_test_control=s.Ne,a._sqlite3_create_filename=s.Oe,a._sqlite3_free_filename=s.Pe,a._sqlite3_uri_parameter=s.Qe,a._sqlite3_uri_key=s.Re,a._sqlite3_uri_boolean=s.Se,a._sqlite3_uri_int64=s.Te,a._sqlite3_filename_database=s.Ue,a._sqlite3_filename_journal=s.Ve,a._sqlite3_filename_wal=s.We,a._sqlite3_db_name=s.Xe,a._sqlite3_db_filename=s.Ye,a._sqlite3_db_readonly=s.Ze,a._sqlite3_compileoption_used=s._e,a._sqlite3_compileoption_get=s.$e,a._sqlite3_sourceid=s.af,a._sqlite3mc_config=s.bf,a._sqlite3mc_cipher_count=s.cf,a._sqlite3mc_cipher_index=s.df,a._sqlite3mc_cipher_name=s.ef,a._sqlite3mc_config_cipher=s.ff,a._sqlite3mc_vfs_create=s.gf,a._memcmp=s.hf;var Fn=a._malloc=s.jf,Dn=a._free=s.kf;a._memset=s.lf,a._RegisterExtensionFunctions=s.mf,a._getSqliteFree=s.nf;var Tn=a._main=s.of;a._libauthorizer_set_authorizer=s.pf,a._libfunction_create_function=s.qf,a._libhook_commit_hook=s.rf,a._libhook_update_hook=s.sf,a._libprogress_progress_handler=s.tf,a._libvfs_vfs_register=s.uf,a._memcpy=s.vf;var Mn=s.xf,Rn=s.yf,Cn=s.zf,Pn=s.Af,xn=s.Bf,Nn=s.Cf,zn=s.Df,jn=s.Ef,On=s.Ff,Un=s.Gf;a._sqlite3_version=88768,a.getTempRet0=kr,a.ccall=H,a.cwrap=yn,a.addFunction=pn,a.setValue=Y,a.getValue=Be,a.UTF8ToString=K,a.stringToUTF8=B,a.lengthBytesUTF8=Q,a.intArrayFromString=Ae,a.intArrayToString=qn,a.AsciiToString=bn,a.UTF16ToString=En,a.stringToUTF16=wn,a.UTF32ToString=kn,a.stringToUTF32=gn,a.writeArrayToMemory=br;function Ln(){var e=Tn,r=0,t=0;try{var n=e(r,t);return Je(n,!0),n}catch(o){return De(o)}}function Me(){if(G>0){ne=Me;return}if(Dr(),G>0){ne=Me;return}function e(){var t;if(a.calledRun=!0,!$){Tr(),Re(a),(t=a.onRuntimeInitialized)==null||t.call(a);var r=a.noInitialRun;r||Ln(),Mr()}}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),e()},1)):e()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return Me(),(function(){const e=Object.getPrototypeOf(async function(){}).constructor;let r=0;a.set_authorizer=function(t,n,o){r&&(a.deleteCallback(r),a._sqlite3_free(r),r=0),r=a._sqlite3_malloc(4),Y(r,n instanceof e?1:0,"i32");const l=H("libauthorizer_set_authorizer","number",["number","number","number"],[t,n?1:0,r]);return!l&&n&&a.setCallback(r,(_,c,u,f,y,g)=>n(o,c,u,f,y,g)),l}})(),(function(){const e=Object.getPrototypeOf(async function(){}).constructor,r=["xFunc","xStep","xFinal"],t=new Map;a.create_function=function(n,o,l,_,c,u,f,y){const g=a._sqlite3_malloc(4),k={xFunc:u,xStep:f,xFinal:y};Y(g,r.reduce((w,F,S)=>k[F]instanceof e?w|1<<S:w,0),"i32");const d=H("libfunction_create_function","number",["number","string","number","number","number","number","number","number"],[n,o,l,_,g,u?1:0,f?1:0,y?1:0]);if(!d){if(t.has(o)){const w=t.get(o);a.deleteCallback(w)}t.set(o,g),a.setCallback(g,{xFunc:u,xStep:f,xFinal:y})}return d}})(),(function(){const e=Object.getPrototypeOf(async function(){}).constructor;let r=0;a.update_hook=function(t,n){r&&(a.deleteCallback(r),a._sqlite3_free(r),r=0),r=a._sqlite3_malloc(4),Y(r,n instanceof e?1:0,"i32"),H("libhook_update_hook","void",["number","number","number"],[t,n?1:0,r]),n&&a.setCallback(r,(o,l,_,c,u,f)=>n(l,_,c,u,f))}})(),(function(){const e=Object.getPrototypeOf(async function(){}).constructor;let r=0;a.commit_hook=function(t,n){r&&(a.deleteCallback(r),a._sqlite3_free(r),r=0),r=a._sqlite3_malloc(4),Y(r,n instanceof e?1:0,"i32"),H("libhook_commit_hook","void",["number","number","number"],[t,n?1:0,r]),n&&a.setCallback(r,o=>n())}})(),(function(){const e=Object.getPrototypeOf(async function(){}).constructor;let r=0;a.progress_handler=function(t,n,o,l){r&&(a.deleteCallback(r),a._sqlite3_free(r),r=0),r=a._sqlite3_malloc(4),Y(r,o instanceof e?1:0,"i32"),H("libprogress_progress_handler","number",["number","number","number","number"],[t,n,o?1:0,r]),o&&a.setCallback(r,_=>o(l))}})(),(function(){const e=["xOpen","xDelete","xAccess","xFullPathname","xRandomness","xSleep","xCurrentTime","xGetLastError","xCurrentTimeInt64","xClose","xRead","xWrite","xTruncate","xSync","xFileSize","xLock","xUnlock","xCheckReservedLock","xFileControl","xSectorSize","xDeviceCharacteristics","xShmMap","xShmLock","xShmBarrier","xShmUnmap"],r=new Map;a.vfs_register=function(t,n){let o=0,l=0;e.forEach((c,u)=>{t[c]&&(o|=1<<u,t.hasAsyncMethod(c)&&(l|=1<<u))});const _=a._sqlite3_malloc(4);try{const c=H("libvfs_vfs_register","number",["string","number","number","number","number","number"],[t.name,t.mxPathname,o,l,n?1:0,_]);if(!c){if(r.has(t.name)){const f=r.get(t.name);a.deleteCallback(f)}const u=Be(_,"*");r.set(t.name,u),a.setCallback(u,t)}return c}finally{a._sqlite3_free(_)}}})(),W=Sr,W})})();export{Wn as default};
