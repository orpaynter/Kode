const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IDBBatchAtomicVFS-CJeIXNY0.js","assets/FacadeVFS-D1q6Xq-i.js","assets/AccessHandlePoolVFS-DiTMmkWt.js","assets/OPFSCoopSyncVFS-DU_oFlJS.js"])))=>i.map(i=>d[i]);
var az=Object.defineProperty;var Dk=t=>{throw TypeError(t)};var sz=(t,e,r)=>e in t?az(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var te=(t,e,r)=>sz(t,typeof e!="symbol"?e+"":e,r),b0=(t,e,r)=>e.has(t)||Dk("Cannot "+r);var fe=(t,e,r)=>(b0(t,e,"read from private field"),r?r.call(t):e.get(t)),ut=(t,e,r)=>e.has(t)?Dk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),et=(t,e,r,n)=>(b0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Lr=(t,e,r)=>(b0(t,e,"access private method"),r);var dp=(t,e,r,n)=>({set _(i){et(t,e,i,r)},get _(){return fe(t,e,n)}});function oz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w0={exports:{}},Yu={},_0={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function lz(){if(Mk)return ot;Mk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function m(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function x(W,Z,ge){this.props=W,this.context=Z,this.refs=v,this.updater=ge||g}x.prototype.isReactComponent={},x.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function w(){}w.prototype=x.prototype;function S(W,Z,ge){this.props=W,this.context=Z,this.refs=v,this.updater=ge||g}var E=S.prototype=new w;E.constructor=S,b(E,x.prototype),E.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function R(W,Z,ge){var _e,Pe={},Me=null,Ze=null;if(Z!=null)for(_e in Z.ref!==void 0&&(Ze=Z.ref),Z.key!==void 0&&(Me=""+Z.key),Z)j.call(Z,_e)&&!N.hasOwnProperty(_e)&&(Pe[_e]=Z[_e]);var Fe=arguments.length-2;if(Fe===1)Pe.children=ge;else if(1<Fe){for(var me=Array(Fe),Oe=0;Oe<Fe;Oe++)me[Oe]=arguments[Oe+2];Pe.children=me}if(W&&W.defaultProps)for(_e in Fe=W.defaultProps,Fe)Pe[_e]===void 0&&(Pe[_e]=Fe[_e]);return{$$typeof:t,type:W,key:Me,ref:Ze,props:Pe,_owner:O.current}}function I(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function q(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function U(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ge){return Z[ge]})}var D=/\/+/g;function B(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):Z.toString(36)}function V(W,Z,ge,_e,Pe){var Me=typeof W;(Me==="undefined"||Me==="boolean")&&(W=null);var Ze=!1;if(W===null)Ze=!0;else switch(Me){case"string":case"number":Ze=!0;break;case"object":switch(W.$$typeof){case t:case e:Ze=!0}}if(Ze)return Ze=W,Pe=Pe(Ze),W=_e===""?"."+B(Ze,0):_e,T(Pe)?(ge="",W!=null&&(ge=W.replace(D,"$&/")+"/"),V(Pe,Z,ge,"",function(Oe){return Oe})):Pe!=null&&(q(Pe)&&(Pe=I(Pe,ge+(!Pe.key||Ze&&Ze.key===Pe.key?"":(""+Pe.key).replace(D,"$&/")+"/")+W)),Z.push(Pe)),1;if(Ze=0,_e=_e===""?".":_e+":",T(W))for(var Fe=0;Fe<W.length;Fe++){Me=W[Fe];var me=_e+B(Me,Fe);Ze+=V(Me,Z,ge,me,Pe)}else if(me=m(W),typeof me=="function")for(W=me.call(W),Fe=0;!(Me=W.next()).done;)Me=Me.value,me=_e+B(Me,Fe++),Ze+=V(Me,Z,ge,me,Pe);else if(Me==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ze}function G(W,Z,ge){if(W==null)return W;var _e=[],Pe=0;return V(W,_e,"","",function(Me){return Z.call(ge,Me,Pe++)}),_e}function X(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(ge){(W._status===0||W._status===-1)&&(W._status=1,W._result=ge)},function(ge){(W._status===0||W._status===-1)&&(W._status=2,W._result=ge)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var ie={current:null},ne={transition:null},oe={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:ne,ReactCurrentOwner:O};function se(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:G,forEach:function(W,Z,ge){G(W,function(){Z.apply(this,arguments)},ge)},count:function(W){var Z=0;return G(W,function(){Z++}),Z},toArray:function(W){return G(W,function(Z){return Z})||[]},only:function(W){if(!q(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},ot.Component=x,ot.Fragment=r,ot.Profiler=i,ot.PureComponent=S,ot.StrictMode=n,ot.Suspense=c,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,ot.act=se,ot.cloneElement=function(W,Z,ge){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var _e=b({},W.props),Pe=W.key,Me=W.ref,Ze=W._owner;if(Z!=null){if(Z.ref!==void 0&&(Me=Z.ref,Ze=O.current),Z.key!==void 0&&(Pe=""+Z.key),W.type&&W.type.defaultProps)var Fe=W.type.defaultProps;for(me in Z)j.call(Z,me)&&!N.hasOwnProperty(me)&&(_e[me]=Z[me]===void 0&&Fe!==void 0?Fe[me]:Z[me])}var me=arguments.length-2;if(me===1)_e.children=ge;else if(1<me){Fe=Array(me);for(var Oe=0;Oe<me;Oe++)Fe[Oe]=arguments[Oe+2];_e.children=Fe}return{$$typeof:t,type:W.type,key:Pe,ref:Me,props:_e,_owner:Ze}},ot.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},ot.createElement=R,ot.createFactory=function(W){var Z=R.bind(null,W);return Z.type=W,Z},ot.createRef=function(){return{current:null}},ot.forwardRef=function(W){return{$$typeof:o,render:W}},ot.isValidElement=q,ot.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:X}},ot.memo=function(W,Z){return{$$typeof:d,type:W,compare:Z===void 0?null:Z}},ot.startTransition=function(W){var Z=ne.transition;ne.transition={};try{W()}finally{ne.transition=Z}},ot.unstable_act=se,ot.useCallback=function(W,Z){return ie.current.useCallback(W,Z)},ot.useContext=function(W){return ie.current.useContext(W)},ot.useDebugValue=function(){},ot.useDeferredValue=function(W){return ie.current.useDeferredValue(W)},ot.useEffect=function(W,Z){return ie.current.useEffect(W,Z)},ot.useId=function(){return ie.current.useId()},ot.useImperativeHandle=function(W,Z,ge){return ie.current.useImperativeHandle(W,Z,ge)},ot.useInsertionEffect=function(W,Z){return ie.current.useInsertionEffect(W,Z)},ot.useLayoutEffect=function(W,Z){return ie.current.useLayoutEffect(W,Z)},ot.useMemo=function(W,Z){return ie.current.useMemo(W,Z)},ot.useReducer=function(W,Z,ge){return ie.current.useReducer(W,Z,ge)},ot.useRef=function(W){return ie.current.useRef(W)},ot.useState=function(W){return ie.current.useState(W)},ot.useSyncExternalStore=function(W,Z,ge){return ie.current.useSyncExternalStore(W,Z,ge)},ot.useTransition=function(){return ie.current.useTransition()},ot.version="18.3.1",ot}var Lk;function VE(){return Lk||(Lk=1,_0.exports=lz()),_0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fk;function cz(){if(Fk)return Yu;Fk=1;var t=VE(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,d){var p,h={},m=null,g=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(p in c)n.call(c,p)&&!a.hasOwnProperty(p)&&(h[p]=c[p]);if(o&&o.defaultProps)for(p in c=o.defaultProps,c)h[p]===void 0&&(h[p]=c[p]);return{$$typeof:e,type:o,key:m,ref:g,props:h,_owner:i.current}}return Yu.Fragment=r,Yu.jsx=s,Yu.jsxs=s,Yu}var $k;function uz(){return $k||($k=1,w0.exports=cz()),w0.exports}var f=uz(),M=VE();const Q=gt(M),dz=oz({__proto__:null,default:Q},[M]);var hp={},S0={exports:{}},dn={},E0={exports:{}},j0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uk;function fz(){return Uk||(Uk=1,(function(t){function e(ne,oe){var se=ne.length;ne.push(oe);e:for(;0<se;){var W=se-1>>>1,Z=ne[W];if(0<i(Z,oe))ne[W]=oe,ne[se]=Z,se=W;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var oe=ne[0],se=ne.pop();if(se!==oe){ne[0]=se;e:for(var W=0,Z=ne.length,ge=Z>>>1;W<ge;){var _e=2*(W+1)-1,Pe=ne[_e],Me=_e+1,Ze=ne[Me];if(0>i(Pe,se))Me<Z&&0>i(Ze,Pe)?(ne[W]=Ze,ne[Me]=se,W=Me):(ne[W]=Pe,ne[_e]=se,W=_e);else if(Me<Z&&0>i(Ze,se))ne[W]=Ze,ne[Me]=se,W=Me;else break e}}return oe}function i(ne,oe){var se=ne.sortIndex-oe.sortIndex;return se!==0?se:ne.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],d=[],p=1,h=null,m=3,g=!1,b=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ne){for(var oe=r(d);oe!==null;){if(oe.callback===null)n(d);else if(oe.startTime<=ne)n(d),oe.sortIndex=oe.expirationTime,e(c,oe);else break;oe=r(d)}}function T(ne){if(v=!1,E(ne),!b)if(r(c)!==null)b=!0,X(j);else{var oe=r(d);oe!==null&&ie(T,oe.startTime-ne)}}function j(ne,oe){b=!1,v&&(v=!1,w(R),R=-1),g=!0;var se=m;try{for(E(oe),h=r(c);h!==null&&(!(h.expirationTime>oe)||ne&&!U());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var Z=W(h.expirationTime<=oe);oe=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),E(oe)}else n(c);h=r(c)}if(h!==null)var ge=!0;else{var _e=r(d);_e!==null&&ie(T,_e.startTime-oe),ge=!1}return ge}finally{h=null,m=se,g=!1}}var O=!1,N=null,R=-1,I=5,q=-1;function U(){return!(t.unstable_now()-q<I)}function D(){if(N!==null){var ne=t.unstable_now();q=ne;var oe=!0;try{oe=N(!0,ne)}finally{oe?B():(O=!1,N=null)}}else O=!1}var B;if(typeof S=="function")B=function(){S(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=D,B=function(){G.postMessage(null)}}else B=function(){x(D,0)};function X(ne){N=ne,O||(O=!0,B())}function ie(ne,oe){R=x(function(){ne(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,X(j))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var oe=3;break;default:oe=m}var se=m;m=oe;try{return ne()}finally{m=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,oe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=m;m=ne;try{return oe()}finally{m=se}},t.unstable_scheduleCallback=function(ne,oe,se){var W=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?W+se:W):se=W,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=se+Z,ne={id:p++,callback:oe,priorityLevel:ne,startTime:se,expirationTime:Z,sortIndex:-1},se>W?(ne.sortIndex=se,e(d,ne),r(c)===null&&ne===r(d)&&(v?(w(R),R=-1):v=!0,ie(T,se-W))):(ne.sortIndex=Z,e(c,ne),b||g||(b=!0,X(j))),ne},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ne){var oe=m;return function(){var se=m;m=oe;try{return ne.apply(this,arguments)}finally{m=se}}}})(j0)),j0}var Bk;function hz(){return Bk||(Bk=1,E0.exports=fz()),E0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qk;function pz(){if(qk)return dn;qk=1;var t=VE(),e=hz();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,y=1;y<arguments.length;y++)u+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(l){return c.call(h,l)?!0:c.call(p,l)?!1:d.test(l)?h[l]=!0:(p[l]=!0,!1)}function g(l,u,y,_){if(y!==null&&y.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:y!==null?!y.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,y,_){if(u===null||typeof u>"u"||g(l,u,y,_))return!0;if(_)return!1;if(y!==null)switch(y.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(l,u,y,_,A,P,F){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=A,this.mustUseProperty=y,this.propertyName=l,this.type=u,this.sanitizeURL=P,this.removeEmptyString=F}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new v(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];x[u]=new v(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new v(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new v(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new v(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new v(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new v(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new v(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new v(l,5,!1,l.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(w,S);x[u]=new v(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(w,S);x[u]=new v(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(w,S);x[u]=new v(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new v(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new v(l,1,!1,l.toLowerCase(),null,!0,!0)});function E(l,u,y,_){var A=x.hasOwnProperty(u)?x[u]:null;(A!==null?A.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,y,A,_)&&(y=null),_||A===null?m(u)&&(y===null?l.removeAttribute(u):l.setAttribute(u,""+y)):A.mustUseProperty?l[A.propertyName]=y===null?A.type===3?!1:"":y:(u=A.attributeName,_=A.attributeNamespace,y===null?l.removeAttribute(u):(A=A.type,y=A===3||A===4&&y===!0?"":""+y,_?l.setAttributeNS(_,u,y):l.setAttribute(u,y))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),U=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),ne=Symbol.iterator;function oe(l){return l===null||typeof l!="object"?null:(l=ne&&l[ne]||l["@@iterator"],typeof l=="function"?l:null)}var se=Object.assign,W;function Z(l){if(W===void 0)try{throw Error()}catch(y){var u=y.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var ge=!1;function _e(l,u){if(!l||ge)return"";ge=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ue){var _=ue}Reflect.construct(l,[],u)}else{try{u.call()}catch(ue){_=ue}l.call(u.prototype)}else{try{throw Error()}catch(ue){_=ue}l()}}catch(ue){if(ue&&_&&typeof ue.stack=="string"){for(var A=ue.stack.split(`
`),P=_.stack.split(`
`),F=A.length-1,K=P.length-1;1<=F&&0<=K&&A[F]!==P[K];)K--;for(;1<=F&&0<=K;F--,K--)if(A[F]!==P[K]){if(F!==1||K!==1)do if(F--,K--,0>K||A[F]!==P[K]){var Y=`
`+A[F].replace(" at new "," at ");return l.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",l.displayName)),Y}while(1<=F&&0<=K);break}}}finally{ge=!1,Error.prepareStackTrace=y}return(l=l?l.displayName||l.name:"")?Z(l):""}function Pe(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=_e(l.type,!1),l;case 11:return l=_e(l.type.render,!1),l;case 1:return l=_e(l.type,!0),l;default:return""}}function Me(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case N:return"Fragment";case O:return"Portal";case I:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case U:return(l.displayName||"Context")+".Consumer";case q:return(l._context.displayName||"Context")+".Provider";case D:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case G:return u=l.displayName||null,u!==null?u:Me(l.type)||"Memo";case X:u=l._payload,l=l._init;try{return Me(l(u))}catch{}}return null}function Ze(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Fe(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function me(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Oe(l){var u=me(l)?"checked":"value",y=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),_=""+l[u];if(!l.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var A=y.get,P=y.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function(F){_=""+F,P.call(this,F)}}),Object.defineProperty(l,u,{enumerable:y.enumerable}),{getValue:function(){return _},setValue:function(F){_=""+F},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ve(l){l._valueTracker||(l._valueTracker=Oe(l))}function he(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var y=u.getValue(),_="";return l&&(_=me(l)?l.checked?"true":"false":l.value),l=_,l!==y?(u.setValue(l),!0):!1}function st(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Xe(l,u){var y=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??l._wrapperState.initialChecked})}function yt(l,u){var y=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;y=Fe(u.value!=null?u.value:y),l._wrapperState={initialChecked:_,initialValue:y,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function vt(l,u){u=u.checked,u!=null&&E(l,"checked",u,!1)}function pt(l,u){vt(l,u);var y=Fe(u.value),_=u.type;if(y!=null)_==="number"?(y===0&&l.value===""||l.value!=y)&&(l.value=""+y):l.value!==""+y&&(l.value=""+y);else if(_==="submit"||_==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?er(l,u.type,y):u.hasOwnProperty("defaultValue")&&er(l,u.type,Fe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function or(l,u,y){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,y||u===l.value||(l.value=u),l.defaultValue=u}y=l.name,y!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,y!==""&&(l.name=y)}function er(l,u,y){(u!=="number"||st(l.ownerDocument)!==l)&&(y==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+y&&(l.defaultValue=""+y))}var tr=Array.isArray;function $t(l,u,y,_){if(l=l.options,u){u={};for(var A=0;A<y.length;A++)u["$"+y[A]]=!0;for(y=0;y<l.length;y++)A=u.hasOwnProperty("$"+l[y].value),l[y].selected!==A&&(l[y].selected=A),A&&_&&(l[y].defaultSelected=!0)}else{for(y=""+Fe(y),u=null,A=0;A<l.length;A++){if(l[A].value===y){l[A].selected=!0,_&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function Et(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function Vr(l,u){var y=u.value;if(y==null){if(y=u.children,u=u.defaultValue,y!=null){if(u!=null)throw Error(r(92));if(tr(y)){if(1<y.length)throw Error(r(93));y=y[0]}u=y}u==null&&(u=""),y=u}l._wrapperState={initialValue:Fe(y)}}function Se(l,u){var y=Fe(u.value),_=Fe(u.defaultValue);y!=null&&(y=""+y,y!==l.value&&(l.value=y),u.defaultValue==null&&l.defaultValue!==y&&(l.defaultValue=y)),_!=null&&(l.defaultValue=""+_)}function Re(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function _t(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?_t(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var k,C=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,y,_,A){MSApp.execUnsafeLocalFunction(function(){return l(u,y,_,A)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(k=k||document.createElement("div"),k.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=k.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function z(l,u){if(u){var y=l.firstChild;if(y&&y===l.lastChild&&y.nodeType===3){y.nodeValue=u;return}}l.textContent=u}var ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(l){L.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),ee[u]=ee[l]})});function H(l,u,y){return u==null||typeof u=="boolean"||u===""?"":y||typeof u!="number"||u===0||ee.hasOwnProperty(l)&&ee[l]?(""+u).trim():u+"px"}function J(l,u){l=l.style;for(var y in u)if(u.hasOwnProperty(y)){var _=y.indexOf("--")===0,A=H(y,u[y],_);y==="float"&&(y="cssFloat"),_?l.setProperty(y,A):l[y]=A}}var ae=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(l,u){if(u){if(ae[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function pe(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ee=null;function jr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var vi=null,at=null,pn=null;function rh(l){if(l=Du(l)){if(typeof vi!="function")throw Error(r(280));var u=l.stateNode;u&&(u=Ah(u),vi(l.stateNode,l.type,u))}}function fu(l){at?pn?pn.push(l):pn=[l]:at=l}function nh(){if(at){var l=at,u=pn;if(pn=at=null,rh(l),u)for(l=0;l<u.length;l++)rh(u[l])}}function hu(l,u){return l(u)}function rT(){}var Ly=!1;function nT(l,u,y){if(Ly)return l(u,y);Ly=!0;try{return hu(l,u,y)}finally{Ly=!1,(at!==null||pn!==null)&&(rT(),nh())}}function pu(l,u){var y=l.stateNode;if(y===null)return null;var _=Ah(y);if(_===null)return null;y=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(l=l.type,_=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!_;break e;default:l=!1}if(l)return null;if(y&&typeof y!="function")throw Error(r(231,u,typeof y));return y}var Fy=!1;if(o)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{Fy=!1}function dq(l,u,y,_,A,P,F,K,Y){var ue=Array.prototype.slice.call(arguments,3);try{u.apply(y,ue)}catch(ve){this.onError(ve)}}var gu=!1,ih=null,ah=!1,$y=null,fq={onError:function(l){gu=!0,ih=l}};function hq(l,u,y,_,A,P,F,K,Y){gu=!1,ih=null,dq.apply(fq,arguments)}function pq(l,u,y,_,A,P,F,K,Y){if(hq.apply(this,arguments),gu){if(gu){var ue=ih;gu=!1,ih=null}else throw Error(r(198));ah||(ah=!0,$y=ue)}}function Ms(l){var u=l,y=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(y=u.return),l=u.return;while(l)}return u.tag===3?y:null}function iT(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function aT(l){if(Ms(l)!==l)throw Error(r(188))}function mq(l){var u=l.alternate;if(!u){if(u=Ms(l),u===null)throw Error(r(188));return u!==l?null:l}for(var y=l,_=u;;){var A=y.return;if(A===null)break;var P=A.alternate;if(P===null){if(_=A.return,_!==null){y=_;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===y)return aT(A),l;if(P===_)return aT(A),u;P=P.sibling}throw Error(r(188))}if(y.return!==_.return)y=A,_=P;else{for(var F=!1,K=A.child;K;){if(K===y){F=!0,y=A,_=P;break}if(K===_){F=!0,_=A,y=P;break}K=K.sibling}if(!F){for(K=P.child;K;){if(K===y){F=!0,y=P,_=A;break}if(K===_){F=!0,_=P,y=A;break}K=K.sibling}if(!F)throw Error(r(189))}}if(y.alternate!==_)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?l:u}function sT(l){return l=mq(l),l!==null?oT(l):null}function oT(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=oT(l);if(u!==null)return u;l=l.sibling}return null}var lT=e.unstable_scheduleCallback,cT=e.unstable_cancelCallback,gq=e.unstable_shouldYield,yq=e.unstable_requestPaint,Yt=e.unstable_now,vq=e.unstable_getCurrentPriorityLevel,Uy=e.unstable_ImmediatePriority,uT=e.unstable_UserBlockingPriority,sh=e.unstable_NormalPriority,xq=e.unstable_LowPriority,dT=e.unstable_IdlePriority,oh=null,xi=null;function bq(l){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(oh,l,void 0,(l.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Sq,wq=Math.log,_q=Math.LN2;function Sq(l){return l>>>=0,l===0?32:31-(wq(l)/_q|0)|0}var lh=64,ch=4194304;function yu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function uh(l,u){var y=l.pendingLanes;if(y===0)return 0;var _=0,A=l.suspendedLanes,P=l.pingedLanes,F=y&268435455;if(F!==0){var K=F&~A;K!==0?_=yu(K):(P&=F,P!==0&&(_=yu(P)))}else F=y&~A,F!==0?_=yu(F):P!==0&&(_=yu(P));if(_===0)return 0;if(u!==0&&u!==_&&(u&A)===0&&(A=_&-_,P=u&-u,A>=P||A===16&&(P&4194240)!==0))return u;if((_&4)!==0&&(_|=y&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=_;0<u;)y=31-Kn(u),A=1<<y,_|=l[y],u&=~A;return _}function Eq(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jq(l,u){for(var y=l.suspendedLanes,_=l.pingedLanes,A=l.expirationTimes,P=l.pendingLanes;0<P;){var F=31-Kn(P),K=1<<F,Y=A[F];Y===-1?((K&y)===0||(K&_)!==0)&&(A[F]=Eq(K,u)):Y<=u&&(l.expiredLanes|=K),P&=~K}}function By(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function fT(){var l=lh;return lh<<=1,(lh&4194240)===0&&(lh=64),l}function qy(l){for(var u=[],y=0;31>y;y++)u.push(l);return u}function vu(l,u,y){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Kn(u),l[u]=y}function Aq(l,u){var y=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var _=l.eventTimes;for(l=l.expirationTimes;0<y;){var A=31-Kn(y),P=1<<A;u[A]=0,_[A]=-1,l[A]=-1,y&=~P}}function zy(l,u){var y=l.entangledLanes|=u;for(l=l.entanglements;y;){var _=31-Kn(y),A=1<<_;A&u|l[_]&u&&(l[_]|=u),y&=~A}}var xt=0;function hT(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var pT,Vy,mT,gT,yT,Wy=!1,dh=[],Ra=null,Ia=null,Da=null,xu=new Map,bu=new Map,Ma=[],Tq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vT(l,u){switch(l){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":xu.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(u.pointerId)}}function wu(l,u,y,_,A,P){return l===null||l.nativeEvent!==P?(l={blockedOn:u,domEventName:y,eventSystemFlags:_,nativeEvent:P,targetContainers:[A]},u!==null&&(u=Du(u),u!==null&&Vy(u)),l):(l.eventSystemFlags|=_,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function Oq(l,u,y,_,A){switch(u){case"focusin":return Ra=wu(Ra,l,u,y,_,A),!0;case"dragenter":return Ia=wu(Ia,l,u,y,_,A),!0;case"mouseover":return Da=wu(Da,l,u,y,_,A),!0;case"pointerover":var P=A.pointerId;return xu.set(P,wu(xu.get(P)||null,l,u,y,_,A)),!0;case"gotpointercapture":return P=A.pointerId,bu.set(P,wu(bu.get(P)||null,l,u,y,_,A)),!0}return!1}function xT(l){var u=Ls(l.target);if(u!==null){var y=Ms(u);if(y!==null){if(u=y.tag,u===13){if(u=iT(y),u!==null){l.blockedOn=u,yT(l.priority,function(){mT(y)});return}}else if(u===3&&y.stateNode.current.memoizedState.isDehydrated){l.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fh(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var y=Ky(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(y===null){y=l.nativeEvent;var _=new y.constructor(y.type,y);Ee=_,y.target.dispatchEvent(_),Ee=null}else return u=Du(y),u!==null&&Vy(u),l.blockedOn=y,!1;u.shift()}return!0}function bT(l,u,y){fh(l)&&y.delete(u)}function kq(){Wy=!1,Ra!==null&&fh(Ra)&&(Ra=null),Ia!==null&&fh(Ia)&&(Ia=null),Da!==null&&fh(Da)&&(Da=null),xu.forEach(bT),bu.forEach(bT)}function _u(l,u){l.blockedOn===u&&(l.blockedOn=null,Wy||(Wy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kq)))}function Su(l){function u(A){return _u(A,l)}if(0<dh.length){_u(dh[0],l);for(var y=1;y<dh.length;y++){var _=dh[y];_.blockedOn===l&&(_.blockedOn=null)}}for(Ra!==null&&_u(Ra,l),Ia!==null&&_u(Ia,l),Da!==null&&_u(Da,l),xu.forEach(u),bu.forEach(u),y=0;y<Ma.length;y++)_=Ma[y],_.blockedOn===l&&(_.blockedOn=null);for(;0<Ma.length&&(y=Ma[0],y.blockedOn===null);)xT(y),y.blockedOn===null&&Ma.shift()}var rl=T.ReactCurrentBatchConfig,hh=!0;function Pq(l,u,y,_){var A=xt,P=rl.transition;rl.transition=null;try{xt=1,Hy(l,u,y,_)}finally{xt=A,rl.transition=P}}function Nq(l,u,y,_){var A=xt,P=rl.transition;rl.transition=null;try{xt=4,Hy(l,u,y,_)}finally{xt=A,rl.transition=P}}function Hy(l,u,y,_){if(hh){var A=Ky(l,u,y,_);if(A===null)uv(l,u,_,ph,y),vT(l,_);else if(Oq(A,l,u,y,_))_.stopPropagation();else if(vT(l,_),u&4&&-1<Tq.indexOf(l)){for(;A!==null;){var P=Du(A);if(P!==null&&pT(P),P=Ky(l,u,y,_),P===null&&uv(l,u,_,ph,y),P===A)break;A=P}A!==null&&_.stopPropagation()}else uv(l,u,_,null,y)}}var ph=null;function Ky(l,u,y,_){if(ph=null,l=jr(_),l=Ls(l),l!==null)if(u=Ms(l),u===null)l=null;else if(y=u.tag,y===13){if(l=iT(u),l!==null)return l;l=null}else if(y===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return ph=l,null}function wT(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vq()){case Uy:return 1;case uT:return 4;case sh:case xq:return 16;case dT:return 536870912;default:return 16}default:return 16}}var La=null,Gy=null,mh=null;function _T(){if(mh)return mh;var l,u=Gy,y=u.length,_,A="value"in La?La.value:La.textContent,P=A.length;for(l=0;l<y&&u[l]===A[l];l++);var F=y-l;for(_=1;_<=F&&u[y-_]===A[P-_];_++);return mh=A.slice(l,1<_?1-_:void 0)}function gh(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function yh(){return!0}function ST(){return!1}function mn(l){function u(y,_,A,P,F){this._reactName=y,this._targetInst=A,this.type=_,this.nativeEvent=P,this.target=F,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(y=l[K],this[K]=y?y(P):P[K]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?yh:ST,this.isPropagationStopped=ST,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),u}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=mn(nl),Eu=se({},nl,{view:0,detail:0}),Cq=mn(Eu),Yy,Xy,ju,vh=se({},Eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ju&&(ju&&l.type==="mousemove"?(Yy=l.screenX-ju.screenX,Xy=l.screenY-ju.screenY):Xy=Yy=0,ju=l),Yy)},movementY:function(l){return"movementY"in l?l.movementY:Xy}}),ET=mn(vh),Rq=se({},vh,{dataTransfer:0}),Iq=mn(Rq),Dq=se({},Eu,{relatedTarget:0}),Jy=mn(Dq),Mq=se({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Lq=mn(Mq),Fq=se({},nl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),$q=mn(Fq),Uq=se({},nl,{data:0}),jT=mn(Uq),Bq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vq(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=zq[l])?!!u[l]:!1}function Zy(){return Vq}var Wq=se({},Eu,{key:function(l){if(l.key){var u=Bq[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=gh(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?qq[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(l){return l.type==="keypress"?gh(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?gh(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Hq=mn(Wq),Kq=se({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AT=mn(Kq),Gq=se({},Eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),Qq=mn(Gq),Yq=se({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xq=mn(Yq),Jq=se({},vh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Zq=mn(Jq),e8=[9,13,27,32],ev=o&&"CompositionEvent"in window,Au=null;o&&"documentMode"in document&&(Au=document.documentMode);var t8=o&&"TextEvent"in window&&!Au,TT=o&&(!ev||Au&&8<Au&&11>=Au),OT=" ",kT=!1;function PT(l,u){switch(l){case"keyup":return e8.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var il=!1;function r8(l,u){switch(l){case"compositionend":return NT(u);case"keypress":return u.which!==32?null:(kT=!0,OT);case"textInput":return l=u.data,l===OT&&kT?null:l;default:return null}}function n8(l,u){if(il)return l==="compositionend"||!ev&&PT(l,u)?(l=_T(),mh=Gy=La=null,il=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return TT&&u.locale!=="ko"?null:u.data;default:return null}}var i8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CT(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!i8[l.type]:u==="textarea"}function RT(l,u,y,_){fu(_),u=Sh(u,"onChange"),0<u.length&&(y=new Qy("onChange","change",null,y,_),l.push({event:y,listeners:u}))}var Tu=null,Ou=null;function a8(l){XT(l,0)}function xh(l){var u=cl(l);if(he(u))return l}function s8(l,u){if(l==="change")return u}var IT=!1;if(o){var tv;if(o){var rv="oninput"in document;if(!rv){var DT=document.createElement("div");DT.setAttribute("oninput","return;"),rv=typeof DT.oninput=="function"}tv=rv}else tv=!1;IT=tv&&(!document.documentMode||9<document.documentMode)}function MT(){Tu&&(Tu.detachEvent("onpropertychange",LT),Ou=Tu=null)}function LT(l){if(l.propertyName==="value"&&xh(Ou)){var u=[];RT(u,Ou,l,jr(l)),nT(a8,u)}}function o8(l,u,y){l==="focusin"?(MT(),Tu=u,Ou=y,Tu.attachEvent("onpropertychange",LT)):l==="focusout"&&MT()}function l8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return xh(Ou)}function c8(l,u){if(l==="click")return xh(u)}function u8(l,u){if(l==="input"||l==="change")return xh(u)}function d8(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Gn=typeof Object.is=="function"?Object.is:d8;function ku(l,u){if(Gn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var y=Object.keys(l),_=Object.keys(u);if(y.length!==_.length)return!1;for(_=0;_<y.length;_++){var A=y[_];if(!c.call(u,A)||!Gn(l[A],u[A]))return!1}return!0}function FT(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function $T(l,u){var y=FT(l);l=0;for(var _;y;){if(y.nodeType===3){if(_=l+y.textContent.length,l<=u&&_>=u)return{node:y,offset:u-l};l=_}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=FT(y)}}function UT(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?UT(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function BT(){for(var l=window,u=st();u instanceof l.HTMLIFrameElement;){try{var y=typeof u.contentWindow.location.href=="string"}catch{y=!1}if(y)l=u.contentWindow;else break;u=st(l.document)}return u}function nv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function f8(l){var u=BT(),y=l.focusedElem,_=l.selectionRange;if(u!==y&&y&&y.ownerDocument&&UT(y.ownerDocument.documentElement,y)){if(_!==null&&nv(y)){if(u=_.start,l=_.end,l===void 0&&(l=u),"selectionStart"in y)y.selectionStart=u,y.selectionEnd=Math.min(l,y.value.length);else if(l=(u=y.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var A=y.textContent.length,P=Math.min(_.start,A);_=_.end===void 0?P:Math.min(_.end,A),!l.extend&&P>_&&(A=_,_=P,P=A),A=$T(y,P);var F=$T(y,_);A&&F&&(l.rangeCount!==1||l.anchorNode!==A.node||l.anchorOffset!==A.offset||l.focusNode!==F.node||l.focusOffset!==F.offset)&&(u=u.createRange(),u.setStart(A.node,A.offset),l.removeAllRanges(),P>_?(l.addRange(u),l.extend(F.node,F.offset)):(u.setEnd(F.node,F.offset),l.addRange(u)))}}for(u=[],l=y;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<u.length;y++)l=u[y],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var h8=o&&"documentMode"in document&&11>=document.documentMode,al=null,iv=null,Pu=null,av=!1;function qT(l,u,y){var _=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;av||al==null||al!==st(_)||(_=al,"selectionStart"in _&&nv(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Pu&&ku(Pu,_)||(Pu=_,_=Sh(iv,"onSelect"),0<_.length&&(u=new Qy("onSelect","select",null,u,y),l.push({event:u,listeners:_}),u.target=al)))}function bh(l,u){var y={};return y[l.toLowerCase()]=u.toLowerCase(),y["Webkit"+l]="webkit"+u,y["Moz"+l]="moz"+u,y}var sl={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},sv={},zT={};o&&(zT=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function wh(l){if(sv[l])return sv[l];if(!sl[l])return l;var u=sl[l],y;for(y in u)if(u.hasOwnProperty(y)&&y in zT)return sv[l]=u[y];return l}var VT=wh("animationend"),WT=wh("animationiteration"),HT=wh("animationstart"),KT=wh("transitionend"),GT=new Map,QT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fa(l,u){GT.set(l,u),a(u,[l])}for(var ov=0;ov<QT.length;ov++){var lv=QT[ov],p8=lv.toLowerCase(),m8=lv[0].toUpperCase()+lv.slice(1);Fa(p8,"on"+m8)}Fa(VT,"onAnimationEnd"),Fa(WT,"onAnimationIteration"),Fa(HT,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(KT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nu));function YT(l,u,y){var _=l.type||"unknown-event";l.currentTarget=y,pq(_,u,void 0,l),l.currentTarget=null}function XT(l,u){u=(u&4)!==0;for(var y=0;y<l.length;y++){var _=l[y],A=_.event;_=_.listeners;e:{var P=void 0;if(u)for(var F=_.length-1;0<=F;F--){var K=_[F],Y=K.instance,ue=K.currentTarget;if(K=K.listener,Y!==P&&A.isPropagationStopped())break e;YT(A,K,ue),P=Y}else for(F=0;F<_.length;F++){if(K=_[F],Y=K.instance,ue=K.currentTarget,K=K.listener,Y!==P&&A.isPropagationStopped())break e;YT(A,K,ue),P=Y}}}if(ah)throw l=$y,ah=!1,$y=null,l}function Pt(l,u){var y=u[gv];y===void 0&&(y=u[gv]=new Set);var _=l+"__bubble";y.has(_)||(JT(u,l,2,!1),y.add(_))}function cv(l,u,y){var _=0;u&&(_|=4),JT(y,l,_,u)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Cu(l){if(!l[_h]){l[_h]=!0,n.forEach(function(y){y!=="selectionchange"&&(g8.has(y)||cv(y,!1,l),cv(y,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[_h]||(u[_h]=!0,cv("selectionchange",!1,u))}}function JT(l,u,y,_){switch(wT(u)){case 1:var A=Pq;break;case 4:A=Nq;break;default:A=Hy}y=A.bind(null,u,y,l),A=void 0,!Fy||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),_?A!==void 0?l.addEventListener(u,y,{capture:!0,passive:A}):l.addEventListener(u,y,!0):A!==void 0?l.addEventListener(u,y,{passive:A}):l.addEventListener(u,y,!1)}function uv(l,u,y,_,A){var P=_;if((u&1)===0&&(u&2)===0&&_!==null)e:for(;;){if(_===null)return;var F=_.tag;if(F===3||F===4){var K=_.stateNode.containerInfo;if(K===A||K.nodeType===8&&K.parentNode===A)break;if(F===4)for(F=_.return;F!==null;){var Y=F.tag;if((Y===3||Y===4)&&(Y=F.stateNode.containerInfo,Y===A||Y.nodeType===8&&Y.parentNode===A))return;F=F.return}for(;K!==null;){if(F=Ls(K),F===null)return;if(Y=F.tag,Y===5||Y===6){_=P=F;continue e}K=K.parentNode}}_=_.return}nT(function(){var ue=P,ve=jr(y),xe=[];e:{var ye=GT.get(l);if(ye!==void 0){var Te=Qy,Ie=l;switch(l){case"keypress":if(gh(y)===0)break e;case"keydown":case"keyup":Te=Hq;break;case"focusin":Ie="focus",Te=Jy;break;case"focusout":Ie="blur",Te=Jy;break;case"beforeblur":case"afterblur":Te=Jy;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ET;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Iq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Qq;break;case VT:case WT:case HT:Te=Lq;break;case KT:Te=Xq;break;case"scroll":Te=Cq;break;case"wheel":Te=Zq;break;case"copy":case"cut":case"paste":Te=$q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=AT}var Le=(u&4)!==0,Xt=!Le&&l==="scroll",le=Le?ye!==null?ye+"Capture":null:ye;Le=[];for(var re=ue,ce;re!==null;){ce=re;var we=ce.stateNode;if(ce.tag===5&&we!==null&&(ce=we,le!==null&&(we=pu(re,le),we!=null&&Le.push(Ru(re,we,ce)))),Xt)break;re=re.return}0<Le.length&&(ye=new Te(ye,Ie,null,y,ve),xe.push({event:ye,listeners:Le}))}}if((u&7)===0){e:{if(ye=l==="mouseover"||l==="pointerover",Te=l==="mouseout"||l==="pointerout",ye&&y!==Ee&&(Ie=y.relatedTarget||y.fromElement)&&(Ls(Ie)||Ie[Vi]))break e;if((Te||ye)&&(ye=ve.window===ve?ve:(ye=ve.ownerDocument)?ye.defaultView||ye.parentWindow:window,Te?(Ie=y.relatedTarget||y.toElement,Te=ue,Ie=Ie?Ls(Ie):null,Ie!==null&&(Xt=Ms(Ie),Ie!==Xt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=ue),Te!==Ie)){if(Le=ET,we="onMouseLeave",le="onMouseEnter",re="mouse",(l==="pointerout"||l==="pointerover")&&(Le=AT,we="onPointerLeave",le="onPointerEnter",re="pointer"),Xt=Te==null?ye:cl(Te),ce=Ie==null?ye:cl(Ie),ye=new Le(we,re+"leave",Te,y,ve),ye.target=Xt,ye.relatedTarget=ce,we=null,Ls(ve)===ue&&(Le=new Le(le,re+"enter",Ie,y,ve),Le.target=ce,Le.relatedTarget=Xt,we=Le),Xt=we,Te&&Ie)t:{for(Le=Te,le=Ie,re=0,ce=Le;ce;ce=ol(ce))re++;for(ce=0,we=le;we;we=ol(we))ce++;for(;0<re-ce;)Le=ol(Le),re--;for(;0<ce-re;)le=ol(le),ce--;for(;re--;){if(Le===le||le!==null&&Le===le.alternate)break t;Le=ol(Le),le=ol(le)}Le=null}else Le=null;Te!==null&&ZT(xe,ye,Te,Le,!1),Ie!==null&&Xt!==null&&ZT(xe,Xt,Ie,Le,!0)}}e:{if(ye=ue?cl(ue):window,Te=ye.nodeName&&ye.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ye.type==="file")var $e=s8;else if(CT(ye))if(IT)$e=u8;else{$e=l8;var We=o8}else(Te=ye.nodeName)&&Te.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&($e=c8);if($e&&($e=$e(l,ue))){RT(xe,$e,y,ve);break e}We&&We(l,ye,ue),l==="focusout"&&(We=ye._wrapperState)&&We.controlled&&ye.type==="number"&&er(ye,"number",ye.value)}switch(We=ue?cl(ue):window,l){case"focusin":(CT(We)||We.contentEditable==="true")&&(al=We,iv=ue,Pu=null);break;case"focusout":Pu=iv=al=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,qT(xe,y,ve);break;case"selectionchange":if(h8)break;case"keydown":case"keyup":qT(xe,y,ve)}var He;if(ev)e:{switch(l){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else il?PT(l,y)&&(Je="onCompositionEnd"):l==="keydown"&&y.keyCode===229&&(Je="onCompositionStart");Je&&(TT&&y.locale!=="ko"&&(il||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&il&&(He=_T()):(La=ve,Gy="value"in La?La.value:La.textContent,il=!0)),We=Sh(ue,Je),0<We.length&&(Je=new jT(Je,l,null,y,ve),xe.push({event:Je,listeners:We}),He?Je.data=He:(He=NT(y),He!==null&&(Je.data=He)))),(He=t8?r8(l,y):n8(l,y))&&(ue=Sh(ue,"onBeforeInput"),0<ue.length&&(ve=new jT("onBeforeInput","beforeinput",null,y,ve),xe.push({event:ve,listeners:ue}),ve.data=He))}XT(xe,u)})}function Ru(l,u,y){return{instance:l,listener:u,currentTarget:y}}function Sh(l,u){for(var y=u+"Capture",_=[];l!==null;){var A=l,P=A.stateNode;A.tag===5&&P!==null&&(A=P,P=pu(l,y),P!=null&&_.unshift(Ru(l,P,A)),P=pu(l,u),P!=null&&_.push(Ru(l,P,A))),l=l.return}return _}function ol(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function ZT(l,u,y,_,A){for(var P=u._reactName,F=[];y!==null&&y!==_;){var K=y,Y=K.alternate,ue=K.stateNode;if(Y!==null&&Y===_)break;K.tag===5&&ue!==null&&(K=ue,A?(Y=pu(y,P),Y!=null&&F.unshift(Ru(y,Y,K))):A||(Y=pu(y,P),Y!=null&&F.push(Ru(y,Y,K)))),y=y.return}F.length!==0&&l.push({event:u,listeners:F})}var y8=/\r\n?/g,v8=/\u0000|\uFFFD/g;function eO(l){return(typeof l=="string"?l:""+l).replace(y8,`
`).replace(v8,"")}function Eh(l,u,y){if(u=eO(u),eO(l)!==u&&y)throw Error(r(425))}function jh(){}var dv=null,fv=null;function hv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var pv=typeof setTimeout=="function"?setTimeout:void 0,x8=typeof clearTimeout=="function"?clearTimeout:void 0,tO=typeof Promise=="function"?Promise:void 0,b8=typeof queueMicrotask=="function"?queueMicrotask:typeof tO<"u"?function(l){return tO.resolve(null).then(l).catch(w8)}:pv;function w8(l){setTimeout(function(){throw l})}function mv(l,u){var y=u,_=0;do{var A=y.nextSibling;if(l.removeChild(y),A&&A.nodeType===8)if(y=A.data,y==="/$"){if(_===0){l.removeChild(A),Su(u);return}_--}else y!=="$"&&y!=="$?"&&y!=="$!"||_++;y=A}while(y);Su(u)}function $a(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function rO(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var y=l.data;if(y==="$"||y==="$!"||y==="$?"){if(u===0)return l;u--}else y==="/$"&&u++}l=l.previousSibling}return null}var ll=Math.random().toString(36).slice(2),bi="__reactFiber$"+ll,Iu="__reactProps$"+ll,Vi="__reactContainer$"+ll,gv="__reactEvents$"+ll,_8="__reactListeners$"+ll,S8="__reactHandles$"+ll;function Ls(l){var u=l[bi];if(u)return u;for(var y=l.parentNode;y;){if(u=y[Vi]||y[bi]){if(y=u.alternate,u.child!==null||y!==null&&y.child!==null)for(l=rO(l);l!==null;){if(y=l[bi])return y;l=rO(l)}return u}l=y,y=l.parentNode}return null}function Du(l){return l=l[bi]||l[Vi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function cl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Ah(l){return l[Iu]||null}var yv=[],ul=-1;function Ua(l){return{current:l}}function Nt(l){0>ul||(l.current=yv[ul],yv[ul]=null,ul--)}function jt(l,u){ul++,yv[ul]=l.current,l.current=u}var Ba={},Rr=Ua(Ba),sn=Ua(!1),Fs=Ba;function dl(l,u){var y=l.type.contextTypes;if(!y)return Ba;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var A={},P;for(P in y)A[P]=u[P];return _&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function on(l){return l=l.childContextTypes,l!=null}function Th(){Nt(sn),Nt(Rr)}function nO(l,u,y){if(Rr.current!==Ba)throw Error(r(168));jt(Rr,u),jt(sn,y)}function iO(l,u,y){var _=l.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return y;_=_.getChildContext();for(var A in _)if(!(A in u))throw Error(r(108,Ze(l)||"Unknown",A));return se({},y,_)}function Oh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ba,Fs=Rr.current,jt(Rr,l),jt(sn,sn.current),!0}function aO(l,u,y){var _=l.stateNode;if(!_)throw Error(r(169));y?(l=iO(l,u,Fs),_.__reactInternalMemoizedMergedChildContext=l,Nt(sn),Nt(Rr),jt(Rr,l)):Nt(sn),jt(sn,y)}var Wi=null,kh=!1,vv=!1;function sO(l){Wi===null?Wi=[l]:Wi.push(l)}function E8(l){kh=!0,sO(l)}function qa(){if(!vv&&Wi!==null){vv=!0;var l=0,u=xt;try{var y=Wi;for(xt=1;l<y.length;l++){var _=y[l];do _=_(!0);while(_!==null)}Wi=null,kh=!1}catch(A){throw Wi!==null&&(Wi=Wi.slice(l+1)),lT(Uy,qa),A}finally{xt=u,vv=!1}}return null}var fl=[],hl=0,Ph=null,Nh=0,An=[],Tn=0,$s=null,Hi=1,Ki="";function Us(l,u){fl[hl++]=Nh,fl[hl++]=Ph,Ph=l,Nh=u}function oO(l,u,y){An[Tn++]=Hi,An[Tn++]=Ki,An[Tn++]=$s,$s=l;var _=Hi;l=Ki;var A=32-Kn(_)-1;_&=~(1<<A),y+=1;var P=32-Kn(u)+A;if(30<P){var F=A-A%5;P=(_&(1<<F)-1).toString(32),_>>=F,A-=F,Hi=1<<32-Kn(u)+A|y<<A|_,Ki=P+l}else Hi=1<<P|y<<A|_,Ki=l}function xv(l){l.return!==null&&(Us(l,1),oO(l,1,0))}function bv(l){for(;l===Ph;)Ph=fl[--hl],fl[hl]=null,Nh=fl[--hl],fl[hl]=null;for(;l===$s;)$s=An[--Tn],An[Tn]=null,Ki=An[--Tn],An[Tn]=null,Hi=An[--Tn],An[Tn]=null}var gn=null,yn=null,Dt=!1,Qn=null;function lO(l,u){var y=Nn(5,null,null,0);y.elementType="DELETED",y.stateNode=u,y.return=l,u=l.deletions,u===null?(l.deletions=[y],l.flags|=16):u.push(y)}function cO(l,u){switch(l.tag){case 5:var y=l.type;return u=u.nodeType!==1||y.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,gn=l,yn=$a(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,gn=l,yn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(y=$s!==null?{id:Hi,overflow:Ki}:null,l.memoizedState={dehydrated:u,treeContext:y,retryLane:1073741824},y=Nn(18,null,null,0),y.stateNode=u,y.return=l,l.child=y,gn=l,yn=null,!0):!1;default:return!1}}function wv(l){return(l.mode&1)!==0&&(l.flags&128)===0}function _v(l){if(Dt){var u=yn;if(u){var y=u;if(!cO(l,u)){if(wv(l))throw Error(r(418));u=$a(y.nextSibling);var _=gn;u&&cO(l,u)?lO(_,y):(l.flags=l.flags&-4097|2,Dt=!1,gn=l)}}else{if(wv(l))throw Error(r(418));l.flags=l.flags&-4097|2,Dt=!1,gn=l}}}function uO(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;gn=l}function Ch(l){if(l!==gn)return!1;if(!Dt)return uO(l),Dt=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!hv(l.type,l.memoizedProps)),u&&(u=yn)){if(wv(l))throw dO(),Error(r(418));for(;u;)lO(l,u),u=$a(u.nextSibling)}if(uO(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var y=l.data;if(y==="/$"){if(u===0){yn=$a(l.nextSibling);break e}u--}else y!=="$"&&y!=="$!"&&y!=="$?"||u++}l=l.nextSibling}yn=null}}else yn=gn?$a(l.stateNode.nextSibling):null;return!0}function dO(){for(var l=yn;l;)l=$a(l.nextSibling)}function pl(){yn=gn=null,Dt=!1}function Sv(l){Qn===null?Qn=[l]:Qn.push(l)}var j8=T.ReactCurrentBatchConfig;function Mu(l,u,y){if(l=y.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var _=y.stateNode}if(!_)throw Error(r(147,l));var A=_,P=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===P?u.ref:(u=function(F){var K=A.refs;F===null?delete K[P]:K[P]=F},u._stringRef=P,u)}if(typeof l!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,l))}return l}function Rh(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function fO(l){var u=l._init;return u(l._payload)}function hO(l){function u(le,re){if(l){var ce=le.deletions;ce===null?(le.deletions=[re],le.flags|=16):ce.push(re)}}function y(le,re){if(!l)return null;for(;re!==null;)u(le,re),re=re.sibling;return null}function _(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function A(le,re){return le=Ya(le,re),le.index=0,le.sibling=null,le}function P(le,re,ce){return le.index=ce,l?(ce=le.alternate,ce!==null?(ce=ce.index,ce<re?(le.flags|=2,re):ce):(le.flags|=2,re)):(le.flags|=1048576,re)}function F(le){return l&&le.alternate===null&&(le.flags|=2),le}function K(le,re,ce,we){return re===null||re.tag!==6?(re=p0(ce,le.mode,we),re.return=le,re):(re=A(re,ce),re.return=le,re)}function Y(le,re,ce,we){var $e=ce.type;return $e===N?ve(le,re,ce.props.children,we,ce.key):re!==null&&(re.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===X&&fO($e)===re.type)?(we=A(re,ce.props),we.ref=Mu(le,re,ce),we.return=le,we):(we=np(ce.type,ce.key,ce.props,null,le.mode,we),we.ref=Mu(le,re,ce),we.return=le,we)}function ue(le,re,ce,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==ce.containerInfo||re.stateNode.implementation!==ce.implementation?(re=m0(ce,le.mode,we),re.return=le,re):(re=A(re,ce.children||[]),re.return=le,re)}function ve(le,re,ce,we,$e){return re===null||re.tag!==7?(re=Gs(ce,le.mode,we,$e),re.return=le,re):(re=A(re,ce),re.return=le,re)}function xe(le,re,ce){if(typeof re=="string"&&re!==""||typeof re=="number")return re=p0(""+re,le.mode,ce),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return ce=np(re.type,re.key,re.props,null,le.mode,ce),ce.ref=Mu(le,null,re),ce.return=le,ce;case O:return re=m0(re,le.mode,ce),re.return=le,re;case X:var we=re._init;return xe(le,we(re._payload),ce)}if(tr(re)||oe(re))return re=Gs(re,le.mode,ce,null),re.return=le,re;Rh(le,re)}return null}function ye(le,re,ce,we){var $e=re!==null?re.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return $e!==null?null:K(le,re,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return ce.key===$e?Y(le,re,ce,we):null;case O:return ce.key===$e?ue(le,re,ce,we):null;case X:return $e=ce._init,ye(le,re,$e(ce._payload),we)}if(tr(ce)||oe(ce))return $e!==null?null:ve(le,re,ce,we,null);Rh(le,ce)}return null}function Te(le,re,ce,we,$e){if(typeof we=="string"&&we!==""||typeof we=="number")return le=le.get(ce)||null,K(re,le,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case j:return le=le.get(we.key===null?ce:we.key)||null,Y(re,le,we,$e);case O:return le=le.get(we.key===null?ce:we.key)||null,ue(re,le,we,$e);case X:var We=we._init;return Te(le,re,ce,We(we._payload),$e)}if(tr(we)||oe(we))return le=le.get(ce)||null,ve(re,le,we,$e,null);Rh(re,we)}return null}function Ie(le,re,ce,we){for(var $e=null,We=null,He=re,Je=re=0,xr=null;He!==null&&Je<ce.length;Je++){He.index>Je?(xr=He,He=null):xr=He.sibling;var ft=ye(le,He,ce[Je],we);if(ft===null){He===null&&(He=xr);break}l&&He&&ft.alternate===null&&u(le,He),re=P(ft,re,Je),We===null?$e=ft:We.sibling=ft,We=ft,He=xr}if(Je===ce.length)return y(le,He),Dt&&Us(le,Je),$e;if(He===null){for(;Je<ce.length;Je++)He=xe(le,ce[Je],we),He!==null&&(re=P(He,re,Je),We===null?$e=He:We.sibling=He,We=He);return Dt&&Us(le,Je),$e}for(He=_(le,He);Je<ce.length;Je++)xr=Te(He,le,Je,ce[Je],we),xr!==null&&(l&&xr.alternate!==null&&He.delete(xr.key===null?Je:xr.key),re=P(xr,re,Je),We===null?$e=xr:We.sibling=xr,We=xr);return l&&He.forEach(function(Xa){return u(le,Xa)}),Dt&&Us(le,Je),$e}function Le(le,re,ce,we){var $e=oe(ce);if(typeof $e!="function")throw Error(r(150));if(ce=$e.call(ce),ce==null)throw Error(r(151));for(var We=$e=null,He=re,Je=re=0,xr=null,ft=ce.next();He!==null&&!ft.done;Je++,ft=ce.next()){He.index>Je?(xr=He,He=null):xr=He.sibling;var Xa=ye(le,He,ft.value,we);if(Xa===null){He===null&&(He=xr);break}l&&He&&Xa.alternate===null&&u(le,He),re=P(Xa,re,Je),We===null?$e=Xa:We.sibling=Xa,We=Xa,He=xr}if(ft.done)return y(le,He),Dt&&Us(le,Je),$e;if(He===null){for(;!ft.done;Je++,ft=ce.next())ft=xe(le,ft.value,we),ft!==null&&(re=P(ft,re,Je),We===null?$e=ft:We.sibling=ft,We=ft);return Dt&&Us(le,Je),$e}for(He=_(le,He);!ft.done;Je++,ft=ce.next())ft=Te(He,le,Je,ft.value,we),ft!==null&&(l&&ft.alternate!==null&&He.delete(ft.key===null?Je:ft.key),re=P(ft,re,Je),We===null?$e=ft:We.sibling=ft,We=ft);return l&&He.forEach(function(iz){return u(le,iz)}),Dt&&Us(le,Je),$e}function Xt(le,re,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===N&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:e:{for(var $e=ce.key,We=re;We!==null;){if(We.key===$e){if($e=ce.type,$e===N){if(We.tag===7){y(le,We.sibling),re=A(We,ce.props.children),re.return=le,le=re;break e}}else if(We.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===X&&fO($e)===We.type){y(le,We.sibling),re=A(We,ce.props),re.ref=Mu(le,We,ce),re.return=le,le=re;break e}y(le,We);break}else u(le,We);We=We.sibling}ce.type===N?(re=Gs(ce.props.children,le.mode,we,ce.key),re.return=le,le=re):(we=np(ce.type,ce.key,ce.props,null,le.mode,we),we.ref=Mu(le,re,ce),we.return=le,le=we)}return F(le);case O:e:{for(We=ce.key;re!==null;){if(re.key===We)if(re.tag===4&&re.stateNode.containerInfo===ce.containerInfo&&re.stateNode.implementation===ce.implementation){y(le,re.sibling),re=A(re,ce.children||[]),re.return=le,le=re;break e}else{y(le,re);break}else u(le,re);re=re.sibling}re=m0(ce,le.mode,we),re.return=le,le=re}return F(le);case X:return We=ce._init,Xt(le,re,We(ce._payload),we)}if(tr(ce))return Ie(le,re,ce,we);if(oe(ce))return Le(le,re,ce,we);Rh(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,re!==null&&re.tag===6?(y(le,re.sibling),re=A(re,ce),re.return=le,le=re):(y(le,re),re=p0(ce,le.mode,we),re.return=le,le=re),F(le)):y(le,re)}return Xt}var ml=hO(!0),pO=hO(!1),Ih=Ua(null),Dh=null,gl=null,Ev=null;function jv(){Ev=gl=Dh=null}function Av(l){var u=Ih.current;Nt(Ih),l._currentValue=u}function Tv(l,u,y){for(;l!==null;){var _=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),l===y)break;l=l.return}}function yl(l,u){Dh=l,Ev=gl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(ln=!0),l.firstContext=null)}function On(l){var u=l._currentValue;if(Ev!==l)if(l={context:l,memoizedValue:u,next:null},gl===null){if(Dh===null)throw Error(r(308));gl=l,Dh.dependencies={lanes:0,firstContext:l}}else gl=gl.next=l;return u}var Bs=null;function Ov(l){Bs===null?Bs=[l]:Bs.push(l)}function mO(l,u,y,_){var A=u.interleaved;return A===null?(y.next=y,Ov(u)):(y.next=A.next,A.next=y),u.interleaved=y,Gi(l,_)}function Gi(l,u){l.lanes|=u;var y=l.alternate;for(y!==null&&(y.lanes|=u),y=l,l=l.return;l!==null;)l.childLanes|=u,y=l.alternate,y!==null&&(y.childLanes|=u),y=l,l=l.return;return y.tag===3?y.stateNode:null}var za=!1;function kv(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gO(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Qi(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Va(l,u,y){var _=l.updateQueue;if(_===null)return null;if(_=_.shared,(dt&2)!==0){var A=_.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),_.pending=u,Gi(l,y)}return A=_.interleaved,A===null?(u.next=u,Ov(_)):(u.next=A.next,A.next=u),_.interleaved=u,Gi(l,y)}function Mh(l,u,y){if(u=u.updateQueue,u!==null&&(u=u.shared,(y&4194240)!==0)){var _=u.lanes;_&=l.pendingLanes,y|=_,u.lanes=y,zy(l,y)}}function yO(l,u){var y=l.updateQueue,_=l.alternate;if(_!==null&&(_=_.updateQueue,y===_)){var A=null,P=null;if(y=y.firstBaseUpdate,y!==null){do{var F={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};P===null?A=P=F:P=P.next=F,y=y.next}while(y!==null);P===null?A=P=u:P=P.next=u}else A=P=u;y={baseState:_.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:_.shared,effects:_.effects},l.updateQueue=y;return}l=y.lastBaseUpdate,l===null?y.firstBaseUpdate=u:l.next=u,y.lastBaseUpdate=u}function Lh(l,u,y,_){var A=l.updateQueue;za=!1;var P=A.firstBaseUpdate,F=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var Y=K,ue=Y.next;Y.next=null,F===null?P=ue:F.next=ue,F=Y;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,K=ve.lastBaseUpdate,K!==F&&(K===null?ve.firstBaseUpdate=ue:K.next=ue,ve.lastBaseUpdate=Y))}if(P!==null){var xe=A.baseState;F=0,ve=ue=Y=null,K=P;do{var ye=K.lane,Te=K.eventTime;if((_&ye)===ye){ve!==null&&(ve=ve.next={eventTime:Te,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ie=l,Le=K;switch(ye=u,Te=y,Le.tag){case 1:if(Ie=Le.payload,typeof Ie=="function"){xe=Ie.call(Te,xe,ye);break e}xe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Le.payload,ye=typeof Ie=="function"?Ie.call(Te,xe,ye):Ie,ye==null)break e;xe=se({},xe,ye);break e;case 2:za=!0}}K.callback!==null&&K.lane!==0&&(l.flags|=64,ye=A.effects,ye===null?A.effects=[K]:ye.push(K))}else Te={eventTime:Te,lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ve===null?(ue=ve=Te,Y=xe):ve=ve.next=Te,F|=ye;if(K=K.next,K===null){if(K=A.shared.pending,K===null)break;ye=K,K=ye.next,ye.next=null,A.lastBaseUpdate=ye,A.shared.pending=null}}while(!0);if(ve===null&&(Y=xe),A.baseState=Y,A.firstBaseUpdate=ue,A.lastBaseUpdate=ve,u=A.shared.interleaved,u!==null){A=u;do F|=A.lane,A=A.next;while(A!==u)}else P===null&&(A.shared.lanes=0);Vs|=F,l.lanes=F,l.memoizedState=xe}}function vO(l,u,y){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var _=l[u],A=_.callback;if(A!==null){if(_.callback=null,_=y,typeof A!="function")throw Error(r(191,A));A.call(_)}}}var Lu={},wi=Ua(Lu),Fu=Ua(Lu),$u=Ua(Lu);function qs(l){if(l===Lu)throw Error(r(174));return l}function Pv(l,u){switch(jt($u,u),jt(Fu,l),jt(wi,Lu),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:$(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=$(u,l)}Nt(wi),jt(wi,u)}function vl(){Nt(wi),Nt(Fu),Nt($u)}function xO(l){qs($u.current);var u=qs(wi.current),y=$(u,l.type);u!==y&&(jt(Fu,l),jt(wi,y))}function Nv(l){Fu.current===l&&(Nt(wi),Nt(Fu))}var Ut=Ua(0);function Fh(l){for(var u=l;u!==null;){if(u.tag===13){var y=u.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Cv=[];function Rv(){for(var l=0;l<Cv.length;l++)Cv[l]._workInProgressVersionPrimary=null;Cv.length=0}var $h=T.ReactCurrentDispatcher,Iv=T.ReactCurrentBatchConfig,zs=0,Bt=null,lr=null,yr=null,Uh=!1,Uu=!1,Bu=0,A8=0;function Ir(){throw Error(r(321))}function Dv(l,u){if(u===null)return!1;for(var y=0;y<u.length&&y<l.length;y++)if(!Gn(l[y],u[y]))return!1;return!0}function Mv(l,u,y,_,A,P){if(zs=P,Bt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,$h.current=l===null||l.memoizedState===null?P8:N8,l=y(_,A),Uu){P=0;do{if(Uu=!1,Bu=0,25<=P)throw Error(r(301));P+=1,yr=lr=null,u.updateQueue=null,$h.current=C8,l=y(_,A)}while(Uu)}if($h.current=zh,u=lr!==null&&lr.next!==null,zs=0,yr=lr=Bt=null,Uh=!1,u)throw Error(r(300));return l}function Lv(){var l=Bu!==0;return Bu=0,l}function _i(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Bt.memoizedState=yr=l:yr=yr.next=l,yr}function kn(){if(lr===null){var l=Bt.alternate;l=l!==null?l.memoizedState:null}else l=lr.next;var u=yr===null?Bt.memoizedState:yr.next;if(u!==null)yr=u,lr=l;else{if(l===null)throw Error(r(310));lr=l,l={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},yr===null?Bt.memoizedState=yr=l:yr=yr.next=l}return yr}function qu(l,u){return typeof u=="function"?u(l):u}function Fv(l){var u=kn(),y=u.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=l;var _=lr,A=_.baseQueue,P=y.pending;if(P!==null){if(A!==null){var F=A.next;A.next=P.next,P.next=F}_.baseQueue=A=P,y.pending=null}if(A!==null){P=A.next,_=_.baseState;var K=F=null,Y=null,ue=P;do{var ve=ue.lane;if((zs&ve)===ve)Y!==null&&(Y=Y.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),_=ue.hasEagerState?ue.eagerState:l(_,ue.action);else{var xe={lane:ve,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};Y===null?(K=Y=xe,F=_):Y=Y.next=xe,Bt.lanes|=ve,Vs|=ve}ue=ue.next}while(ue!==null&&ue!==P);Y===null?F=_:Y.next=K,Gn(_,u.memoizedState)||(ln=!0),u.memoizedState=_,u.baseState=F,u.baseQueue=Y,y.lastRenderedState=_}if(l=y.interleaved,l!==null){A=l;do P=A.lane,Bt.lanes|=P,Vs|=P,A=A.next;while(A!==l)}else A===null&&(y.lanes=0);return[u.memoizedState,y.dispatch]}function $v(l){var u=kn(),y=u.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=l;var _=y.dispatch,A=y.pending,P=u.memoizedState;if(A!==null){y.pending=null;var F=A=A.next;do P=l(P,F.action),F=F.next;while(F!==A);Gn(P,u.memoizedState)||(ln=!0),u.memoizedState=P,u.baseQueue===null&&(u.baseState=P),y.lastRenderedState=P}return[P,_]}function bO(){}function wO(l,u){var y=Bt,_=kn(),A=u(),P=!Gn(_.memoizedState,A);if(P&&(_.memoizedState=A,ln=!0),_=_.queue,Uv(EO.bind(null,y,_,l),[l]),_.getSnapshot!==u||P||yr!==null&&yr.memoizedState.tag&1){if(y.flags|=2048,zu(9,SO.bind(null,y,_,A,u),void 0,null),vr===null)throw Error(r(349));(zs&30)!==0||_O(y,u,A)}return A}function _O(l,u,y){l.flags|=16384,l={getSnapshot:u,value:y},u=Bt.updateQueue,u===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.stores=[l]):(y=u.stores,y===null?u.stores=[l]:y.push(l))}function SO(l,u,y,_){u.value=y,u.getSnapshot=_,jO(u)&&AO(l)}function EO(l,u,y){return y(function(){jO(u)&&AO(l)})}function jO(l){var u=l.getSnapshot;l=l.value;try{var y=u();return!Gn(l,y)}catch{return!0}}function AO(l){var u=Gi(l,1);u!==null&&Zn(u,l,1,-1)}function TO(l){var u=_i();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:l},u.queue=l,l=l.dispatch=k8.bind(null,Bt,l),[u.memoizedState,l]}function zu(l,u,y,_){return l={tag:l,create:u,destroy:y,deps:_,next:null},u=Bt.updateQueue,u===null?(u={lastEffect:null,stores:null},Bt.updateQueue=u,u.lastEffect=l.next=l):(y=u.lastEffect,y===null?u.lastEffect=l.next=l:(_=y.next,y.next=l,l.next=_,u.lastEffect=l)),l}function OO(){return kn().memoizedState}function Bh(l,u,y,_){var A=_i();Bt.flags|=l,A.memoizedState=zu(1|u,y,void 0,_===void 0?null:_)}function qh(l,u,y,_){var A=kn();_=_===void 0?null:_;var P=void 0;if(lr!==null){var F=lr.memoizedState;if(P=F.destroy,_!==null&&Dv(_,F.deps)){A.memoizedState=zu(u,y,P,_);return}}Bt.flags|=l,A.memoizedState=zu(1|u,y,P,_)}function kO(l,u){return Bh(8390656,8,l,u)}function Uv(l,u){return qh(2048,8,l,u)}function PO(l,u){return qh(4,2,l,u)}function NO(l,u){return qh(4,4,l,u)}function CO(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function RO(l,u,y){return y=y!=null?y.concat([l]):null,qh(4,4,CO.bind(null,u,l),y)}function Bv(){}function IO(l,u){var y=kn();u=u===void 0?null:u;var _=y.memoizedState;return _!==null&&u!==null&&Dv(u,_[1])?_[0]:(y.memoizedState=[l,u],l)}function DO(l,u){var y=kn();u=u===void 0?null:u;var _=y.memoizedState;return _!==null&&u!==null&&Dv(u,_[1])?_[0]:(l=l(),y.memoizedState=[l,u],l)}function MO(l,u,y){return(zs&21)===0?(l.baseState&&(l.baseState=!1,ln=!0),l.memoizedState=y):(Gn(y,u)||(y=fT(),Bt.lanes|=y,Vs|=y,l.baseState=!0),u)}function T8(l,u){var y=xt;xt=y!==0&&4>y?y:4,l(!0);var _=Iv.transition;Iv.transition={};try{l(!1),u()}finally{xt=y,Iv.transition=_}}function LO(){return kn().memoizedState}function O8(l,u,y){var _=Ga(l);if(y={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null},FO(l))$O(u,y);else if(y=mO(l,u,y,_),y!==null){var A=Hr();Zn(y,l,_,A),UO(y,u,_)}}function k8(l,u,y){var _=Ga(l),A={lane:_,action:y,hasEagerState:!1,eagerState:null,next:null};if(FO(l))$O(u,A);else{var P=l.alternate;if(l.lanes===0&&(P===null||P.lanes===0)&&(P=u.lastRenderedReducer,P!==null))try{var F=u.lastRenderedState,K=P(F,y);if(A.hasEagerState=!0,A.eagerState=K,Gn(K,F)){var Y=u.interleaved;Y===null?(A.next=A,Ov(u)):(A.next=Y.next,Y.next=A),u.interleaved=A;return}}catch{}finally{}y=mO(l,u,A,_),y!==null&&(A=Hr(),Zn(y,l,_,A),UO(y,u,_))}}function FO(l){var u=l.alternate;return l===Bt||u!==null&&u===Bt}function $O(l,u){Uu=Uh=!0;var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}function UO(l,u,y){if((y&4194240)!==0){var _=u.lanes;_&=l.pendingLanes,y|=_,u.lanes=y,zy(l,y)}}var zh={readContext:On,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},P8={readContext:On,useCallback:function(l,u){return _i().memoizedState=[l,u===void 0?null:u],l},useContext:On,useEffect:kO,useImperativeHandle:function(l,u,y){return y=y!=null?y.concat([l]):null,Bh(4194308,4,CO.bind(null,u,l),y)},useLayoutEffect:function(l,u){return Bh(4194308,4,l,u)},useInsertionEffect:function(l,u){return Bh(4,2,l,u)},useMemo:function(l,u){var y=_i();return u=u===void 0?null:u,l=l(),y.memoizedState=[l,u],l},useReducer:function(l,u,y){var _=_i();return u=y!==void 0?y(u):u,_.memoizedState=_.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},_.queue=l,l=l.dispatch=O8.bind(null,Bt,l),[_.memoizedState,l]},useRef:function(l){var u=_i();return l={current:l},u.memoizedState=l},useState:TO,useDebugValue:Bv,useDeferredValue:function(l){return _i().memoizedState=l},useTransition:function(){var l=TO(!1),u=l[0];return l=T8.bind(null,l[1]),_i().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,y){var _=Bt,A=_i();if(Dt){if(y===void 0)throw Error(r(407));y=y()}else{if(y=u(),vr===null)throw Error(r(349));(zs&30)!==0||_O(_,u,y)}A.memoizedState=y;var P={value:y,getSnapshot:u};return A.queue=P,kO(EO.bind(null,_,P,l),[l]),_.flags|=2048,zu(9,SO.bind(null,_,P,y,u),void 0,null),y},useId:function(){var l=_i(),u=vr.identifierPrefix;if(Dt){var y=Ki,_=Hi;y=(_&~(1<<32-Kn(_)-1)).toString(32)+y,u=":"+u+"R"+y,y=Bu++,0<y&&(u+="H"+y.toString(32)),u+=":"}else y=A8++,u=":"+u+"r"+y.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},N8={readContext:On,useCallback:IO,useContext:On,useEffect:Uv,useImperativeHandle:RO,useInsertionEffect:PO,useLayoutEffect:NO,useMemo:DO,useReducer:Fv,useRef:OO,useState:function(){return Fv(qu)},useDebugValue:Bv,useDeferredValue:function(l){var u=kn();return MO(u,lr.memoizedState,l)},useTransition:function(){var l=Fv(qu)[0],u=kn().memoizedState;return[l,u]},useMutableSource:bO,useSyncExternalStore:wO,useId:LO,unstable_isNewReconciler:!1},C8={readContext:On,useCallback:IO,useContext:On,useEffect:Uv,useImperativeHandle:RO,useInsertionEffect:PO,useLayoutEffect:NO,useMemo:DO,useReducer:$v,useRef:OO,useState:function(){return $v(qu)},useDebugValue:Bv,useDeferredValue:function(l){var u=kn();return lr===null?u.memoizedState=l:MO(u,lr.memoizedState,l)},useTransition:function(){var l=$v(qu)[0],u=kn().memoizedState;return[l,u]},useMutableSource:bO,useSyncExternalStore:wO,useId:LO,unstable_isNewReconciler:!1};function Yn(l,u){if(l&&l.defaultProps){u=se({},u),l=l.defaultProps;for(var y in l)u[y]===void 0&&(u[y]=l[y]);return u}return u}function qv(l,u,y,_){u=l.memoizedState,y=y(_,u),y=y==null?u:se({},u,y),l.memoizedState=y,l.lanes===0&&(l.updateQueue.baseState=y)}var Vh={isMounted:function(l){return(l=l._reactInternals)?Ms(l)===l:!1},enqueueSetState:function(l,u,y){l=l._reactInternals;var _=Hr(),A=Ga(l),P=Qi(_,A);P.payload=u,y!=null&&(P.callback=y),u=Va(l,P,A),u!==null&&(Zn(u,l,A,_),Mh(u,l,A))},enqueueReplaceState:function(l,u,y){l=l._reactInternals;var _=Hr(),A=Ga(l),P=Qi(_,A);P.tag=1,P.payload=u,y!=null&&(P.callback=y),u=Va(l,P,A),u!==null&&(Zn(u,l,A,_),Mh(u,l,A))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var y=Hr(),_=Ga(l),A=Qi(y,_);A.tag=2,u!=null&&(A.callback=u),u=Va(l,A,_),u!==null&&(Zn(u,l,_,y),Mh(u,l,_))}};function BO(l,u,y,_,A,P,F){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,P,F):u.prototype&&u.prototype.isPureReactComponent?!ku(y,_)||!ku(A,P):!0}function qO(l,u,y){var _=!1,A=Ba,P=u.contextType;return typeof P=="object"&&P!==null?P=On(P):(A=on(u)?Fs:Rr.current,_=u.contextTypes,P=(_=_!=null)?dl(l,A):Ba),u=new u(y,P),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vh,l.stateNode=u,u._reactInternals=l,_&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=A,l.__reactInternalMemoizedMaskedChildContext=P),u}function zO(l,u,y,_){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(y,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(y,_),u.state!==l&&Vh.enqueueReplaceState(u,u.state,null)}function zv(l,u,y,_){var A=l.stateNode;A.props=y,A.state=l.memoizedState,A.refs={},kv(l);var P=u.contextType;typeof P=="object"&&P!==null?A.context=On(P):(P=on(u)?Fs:Rr.current,A.context=dl(l,P)),A.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(qv(l,u,P,y),A.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(u=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),u!==A.state&&Vh.enqueueReplaceState(A,A.state,null),Lh(l,y,A,_),A.state=l.memoizedState),typeof A.componentDidMount=="function"&&(l.flags|=4194308)}function xl(l,u){try{var y="",_=u;do y+=Pe(_),_=_.return;while(_);var A=y}catch(P){A=`
Error generating stack: `+P.message+`
`+P.stack}return{value:l,source:u,stack:A,digest:null}}function Vv(l,u,y){return{value:l,source:null,stack:y??null,digest:u??null}}function Wv(l,u){try{console.error(u.value)}catch(y){setTimeout(function(){throw y})}}var R8=typeof WeakMap=="function"?WeakMap:Map;function VO(l,u,y){y=Qi(-1,y),y.tag=3,y.payload={element:null};var _=u.value;return y.callback=function(){Xh||(Xh=!0,s0=_),Wv(l,u)},y}function WO(l,u,y){y=Qi(-1,y),y.tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var A=u.value;y.payload=function(){return _(A)},y.callback=function(){Wv(l,u)}}var P=l.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(y.callback=function(){Wv(l,u),typeof _!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),y}function HO(l,u,y){var _=l.pingCache;if(_===null){_=l.pingCache=new R8;var A=new Set;_.set(u,A)}else A=_.get(u),A===void 0&&(A=new Set,_.set(u,A));A.has(y)||(A.add(y),l=K8.bind(null,l,u,y),u.then(l,l))}function KO(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function GO(l,u,y,_,A){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(u=Qi(-1,1),u.tag=2,Va(y,u,1))),y.lanes|=1),l):(l.flags|=65536,l.lanes=A,l)}var I8=T.ReactCurrentOwner,ln=!1;function Wr(l,u,y,_){u.child=l===null?pO(u,null,y,_):ml(u,l.child,y,_)}function QO(l,u,y,_,A){y=y.render;var P=u.ref;return yl(u,A),_=Mv(l,u,y,_,P,A),y=Lv(),l!==null&&!ln?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,Yi(l,u,A)):(Dt&&y&&xv(u),u.flags|=1,Wr(l,u,_,A),u.child)}function YO(l,u,y,_,A){if(l===null){var P=y.type;return typeof P=="function"&&!h0(P)&&P.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(u.tag=15,u.type=P,XO(l,u,P,_,A)):(l=np(y.type,null,_,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(P=l.child,(l.lanes&A)===0){var F=P.memoizedProps;if(y=y.compare,y=y!==null?y:ku,y(F,_)&&l.ref===u.ref)return Yi(l,u,A)}return u.flags|=1,l=Ya(P,_),l.ref=u.ref,l.return=u,u.child=l}function XO(l,u,y,_,A){if(l!==null){var P=l.memoizedProps;if(ku(P,_)&&l.ref===u.ref)if(ln=!1,u.pendingProps=_=P,(l.lanes&A)!==0)(l.flags&131072)!==0&&(ln=!0);else return u.lanes=l.lanes,Yi(l,u,A)}return Hv(l,u,y,_,A)}function JO(l,u,y){var _=u.pendingProps,A=_.children,P=l!==null?l.memoizedState:null;if(_.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(wl,vn),vn|=y;else{if((y&1073741824)===0)return l=P!==null?P.baseLanes|y:y,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,jt(wl,vn),vn|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=P!==null?P.baseLanes:y,jt(wl,vn),vn|=_}else P!==null?(_=P.baseLanes|y,u.memoizedState=null):_=y,jt(wl,vn),vn|=_;return Wr(l,u,A,y),u.child}function ZO(l,u){var y=u.ref;(l===null&&y!==null||l!==null&&l.ref!==y)&&(u.flags|=512,u.flags|=2097152)}function Hv(l,u,y,_,A){var P=on(y)?Fs:Rr.current;return P=dl(u,P),yl(u,A),y=Mv(l,u,y,_,P,A),_=Lv(),l!==null&&!ln?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~A,Yi(l,u,A)):(Dt&&_&&xv(u),u.flags|=1,Wr(l,u,y,A),u.child)}function ek(l,u,y,_,A){if(on(y)){var P=!0;Oh(u)}else P=!1;if(yl(u,A),u.stateNode===null)Hh(l,u),qO(u,y,_),zv(u,y,_,A),_=!0;else if(l===null){var F=u.stateNode,K=u.memoizedProps;F.props=K;var Y=F.context,ue=y.contextType;typeof ue=="object"&&ue!==null?ue=On(ue):(ue=on(y)?Fs:Rr.current,ue=dl(u,ue));var ve=y.getDerivedStateFromProps,xe=typeof ve=="function"||typeof F.getSnapshotBeforeUpdate=="function";xe||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==_||Y!==ue)&&zO(u,F,_,ue),za=!1;var ye=u.memoizedState;F.state=ye,Lh(u,_,F,A),Y=u.memoizedState,K!==_||ye!==Y||sn.current||za?(typeof ve=="function"&&(qv(u,y,ve,_),Y=u.memoizedState),(K=za||BO(u,y,K,_,ye,Y,ue))?(xe||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Y),F.props=_,F.state=Y,F.context=ue,_=K):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{F=u.stateNode,gO(l,u),K=u.memoizedProps,ue=u.type===u.elementType?K:Yn(u.type,K),F.props=ue,xe=u.pendingProps,ye=F.context,Y=y.contextType,typeof Y=="object"&&Y!==null?Y=On(Y):(Y=on(y)?Fs:Rr.current,Y=dl(u,Y));var Te=y.getDerivedStateFromProps;(ve=typeof Te=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(K!==xe||ye!==Y)&&zO(u,F,_,Y),za=!1,ye=u.memoizedState,F.state=ye,Lh(u,_,F,A);var Ie=u.memoizedState;K!==xe||ye!==Ie||sn.current||za?(typeof Te=="function"&&(qv(u,y,Te,_),Ie=u.memoizedState),(ue=za||BO(u,y,ue,_,ye,Ie,Y)||!1)?(ve||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(_,Ie,Y),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(_,Ie,Y)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||K===l.memoizedProps&&ye===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&ye===l.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=Ie),F.props=_,F.state=Ie,F.context=Y,_=ue):(typeof F.componentDidUpdate!="function"||K===l.memoizedProps&&ye===l.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&ye===l.memoizedState||(u.flags|=1024),_=!1)}return Kv(l,u,y,_,P,A)}function Kv(l,u,y,_,A,P){ZO(l,u);var F=(u.flags&128)!==0;if(!_&&!F)return A&&aO(u,y,!1),Yi(l,u,P);_=u.stateNode,I8.current=u;var K=F&&typeof y.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,l!==null&&F?(u.child=ml(u,l.child,null,P),u.child=ml(u,null,K,P)):Wr(l,u,K,P),u.memoizedState=_.state,A&&aO(u,y,!0),u.child}function tk(l){var u=l.stateNode;u.pendingContext?nO(l,u.pendingContext,u.pendingContext!==u.context):u.context&&nO(l,u.context,!1),Pv(l,u.containerInfo)}function rk(l,u,y,_,A){return pl(),Sv(A),u.flags|=256,Wr(l,u,y,_),u.child}var Gv={dehydrated:null,treeContext:null,retryLane:0};function Qv(l){return{baseLanes:l,cachePool:null,transitions:null}}function nk(l,u,y){var _=u.pendingProps,A=Ut.current,P=!1,F=(u.flags&128)!==0,K;if((K=F)||(K=l!==null&&l.memoizedState===null?!1:(A&2)!==0),K?(P=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(A|=1),jt(Ut,A&1),l===null)return _v(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(F=_.children,l=_.fallback,P?(_=u.mode,P=u.child,F={mode:"hidden",children:F},(_&1)===0&&P!==null?(P.childLanes=0,P.pendingProps=F):P=ip(F,_,0,null),l=Gs(l,_,y,null),P.return=u,l.return=u,P.sibling=l,u.child=P,u.child.memoizedState=Qv(y),u.memoizedState=Gv,l):Yv(u,F));if(A=l.memoizedState,A!==null&&(K=A.dehydrated,K!==null))return D8(l,u,F,_,K,A,y);if(P){P=_.fallback,F=u.mode,A=l.child,K=A.sibling;var Y={mode:"hidden",children:_.children};return(F&1)===0&&u.child!==A?(_=u.child,_.childLanes=0,_.pendingProps=Y,u.deletions=null):(_=Ya(A,Y),_.subtreeFlags=A.subtreeFlags&14680064),K!==null?P=Ya(K,P):(P=Gs(P,F,y,null),P.flags|=2),P.return=u,_.return=u,_.sibling=P,u.child=_,_=P,P=u.child,F=l.child.memoizedState,F=F===null?Qv(y):{baseLanes:F.baseLanes|y,cachePool:null,transitions:F.transitions},P.memoizedState=F,P.childLanes=l.childLanes&~y,u.memoizedState=Gv,_}return P=l.child,l=P.sibling,_=Ya(P,{mode:"visible",children:_.children}),(u.mode&1)===0&&(_.lanes=y),_.return=u,_.sibling=null,l!==null&&(y=u.deletions,y===null?(u.deletions=[l],u.flags|=16):y.push(l)),u.child=_,u.memoizedState=null,_}function Yv(l,u){return u=ip({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function Wh(l,u,y,_){return _!==null&&Sv(_),ml(u,l.child,null,y),l=Yv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function D8(l,u,y,_,A,P,F){if(y)return u.flags&256?(u.flags&=-257,_=Vv(Error(r(422))),Wh(l,u,F,_)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(P=_.fallback,A=u.mode,_=ip({mode:"visible",children:_.children},A,0,null),P=Gs(P,A,F,null),P.flags|=2,_.return=u,P.return=u,_.sibling=P,u.child=_,(u.mode&1)!==0&&ml(u,l.child,null,F),u.child.memoizedState=Qv(F),u.memoizedState=Gv,P);if((u.mode&1)===0)return Wh(l,u,F,null);if(A.data==="$!"){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;return _=K,P=Error(r(419)),_=Vv(P,_,void 0),Wh(l,u,F,_)}if(K=(F&l.childLanes)!==0,ln||K){if(_=vr,_!==null){switch(F&-F){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(_.suspendedLanes|F))!==0?0:A,A!==0&&A!==P.retryLane&&(P.retryLane=A,Gi(l,A),Zn(_,l,A,-1))}return f0(),_=Vv(Error(r(421))),Wh(l,u,F,_)}return A.data==="$?"?(u.flags|=128,u.child=l.child,u=G8.bind(null,l),A._reactRetry=u,null):(l=P.treeContext,yn=$a(A.nextSibling),gn=u,Dt=!0,Qn=null,l!==null&&(An[Tn++]=Hi,An[Tn++]=Ki,An[Tn++]=$s,Hi=l.id,Ki=l.overflow,$s=u),u=Yv(u,_.children),u.flags|=4096,u)}function ik(l,u,y){l.lanes|=u;var _=l.alternate;_!==null&&(_.lanes|=u),Tv(l.return,u,y)}function Xv(l,u,y,_,A){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:y,tailMode:A}:(P.isBackwards=u,P.rendering=null,P.renderingStartTime=0,P.last=_,P.tail=y,P.tailMode=A)}function ak(l,u,y){var _=u.pendingProps,A=_.revealOrder,P=_.tail;if(Wr(l,u,_.children,y),_=Ut.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ik(l,y,u);else if(l.tag===19)ik(l,y,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(jt(Ut,_),(u.mode&1)===0)u.memoizedState=null;else switch(A){case"forwards":for(y=u.child,A=null;y!==null;)l=y.alternate,l!==null&&Fh(l)===null&&(A=y),y=y.sibling;y=A,y===null?(A=u.child,u.child=null):(A=y.sibling,y.sibling=null),Xv(u,!1,A,y,P);break;case"backwards":for(y=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&Fh(l)===null){u.child=A;break}l=A.sibling,A.sibling=y,y=A,A=l}Xv(u,!0,y,null,P);break;case"together":Xv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Hh(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Yi(l,u,y){if(l!==null&&(u.dependencies=l.dependencies),Vs|=u.lanes,(y&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,y=Ya(l,l.pendingProps),u.child=y,y.return=u;l.sibling!==null;)l=l.sibling,y=y.sibling=Ya(l,l.pendingProps),y.return=u;y.sibling=null}return u.child}function M8(l,u,y){switch(u.tag){case 3:tk(u),pl();break;case 5:xO(u);break;case 1:on(u.type)&&Oh(u);break;case 4:Pv(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,A=u.memoizedProps.value;jt(Ih,_._currentValue),_._currentValue=A;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(jt(Ut,Ut.current&1),u.flags|=128,null):(y&u.child.childLanes)!==0?nk(l,u,y):(jt(Ut,Ut.current&1),l=Yi(l,u,y),l!==null?l.sibling:null);jt(Ut,Ut.current&1);break;case 19:if(_=(y&u.childLanes)!==0,(l.flags&128)!==0){if(_)return ak(l,u,y);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),jt(Ut,Ut.current),_)break;return null;case 22:case 23:return u.lanes=0,JO(l,u,y)}return Yi(l,u,y)}var sk,Jv,ok,lk;sk=function(l,u){for(var y=u.child;y!==null;){if(y.tag===5||y.tag===6)l.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Jv=function(){},ok=function(l,u,y,_){var A=l.memoizedProps;if(A!==_){l=u.stateNode,qs(wi.current);var P=null;switch(y){case"input":A=Xe(l,A),_=Xe(l,_),P=[];break;case"select":A=se({},A,{value:void 0}),_=se({},_,{value:void 0}),P=[];break;case"textarea":A=Et(l,A),_=Et(l,_),P=[];break;default:typeof A.onClick!="function"&&typeof _.onClick=="function"&&(l.onclick=jh)}Ae(y,_);var F;y=null;for(ue in A)if(!_.hasOwnProperty(ue)&&A.hasOwnProperty(ue)&&A[ue]!=null)if(ue==="style"){var K=A[ue];for(F in K)K.hasOwnProperty(F)&&(y||(y={}),y[F]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(i.hasOwnProperty(ue)?P||(P=[]):(P=P||[]).push(ue,null));for(ue in _){var Y=_[ue];if(K=A!=null?A[ue]:void 0,_.hasOwnProperty(ue)&&Y!==K&&(Y!=null||K!=null))if(ue==="style")if(K){for(F in K)!K.hasOwnProperty(F)||Y&&Y.hasOwnProperty(F)||(y||(y={}),y[F]="");for(F in Y)Y.hasOwnProperty(F)&&K[F]!==Y[F]&&(y||(y={}),y[F]=Y[F])}else y||(P||(P=[]),P.push(ue,y)),y=Y;else ue==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,K=K?K.__html:void 0,Y!=null&&K!==Y&&(P=P||[]).push(ue,Y)):ue==="children"?typeof Y!="string"&&typeof Y!="number"||(P=P||[]).push(ue,""+Y):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(i.hasOwnProperty(ue)?(Y!=null&&ue==="onScroll"&&Pt("scroll",l),P||K===Y||(P=[])):(P=P||[]).push(ue,Y))}y&&(P=P||[]).push("style",y);var ue=P;(u.updateQueue=ue)&&(u.flags|=4)}},lk=function(l,u,y,_){y!==_&&(u.flags|=4)};function Vu(l,u){if(!Dt)switch(l.tailMode){case"hidden":u=l.tail;for(var y=null;u!==null;)u.alternate!==null&&(y=u),u=u.sibling;y===null?l.tail=null:y.sibling=null;break;case"collapsed":y=l.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function Dr(l){var u=l.alternate!==null&&l.alternate.child===l.child,y=0,_=0;if(u)for(var A=l.child;A!==null;)y|=A.lanes|A.childLanes,_|=A.subtreeFlags&14680064,_|=A.flags&14680064,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)y|=A.lanes|A.childLanes,_|=A.subtreeFlags,_|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=_,l.childLanes=y,u}function L8(l,u,y){var _=u.pendingProps;switch(bv(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(u),null;case 1:return on(u.type)&&Th(),Dr(u),null;case 3:return _=u.stateNode,vl(),Nt(sn),Nt(Rr),Rv(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(l===null||l.child===null)&&(Ch(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Qn!==null&&(c0(Qn),Qn=null))),Jv(l,u),Dr(u),null;case 5:Nv(u);var A=qs($u.current);if(y=u.type,l!==null&&u.stateNode!=null)ok(l,u,y,_,A),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(r(166));return Dr(u),null}if(l=qs(wi.current),Ch(u)){_=u.stateNode,y=u.type;var P=u.memoizedProps;switch(_[bi]=u,_[Iu]=P,l=(u.mode&1)!==0,y){case"dialog":Pt("cancel",_),Pt("close",_);break;case"iframe":case"object":case"embed":Pt("load",_);break;case"video":case"audio":for(A=0;A<Nu.length;A++)Pt(Nu[A],_);break;case"source":Pt("error",_);break;case"img":case"image":case"link":Pt("error",_),Pt("load",_);break;case"details":Pt("toggle",_);break;case"input":yt(_,P),Pt("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!P.multiple},Pt("invalid",_);break;case"textarea":Vr(_,P),Pt("invalid",_)}Ae(y,P),A=null;for(var F in P)if(P.hasOwnProperty(F)){var K=P[F];F==="children"?typeof K=="string"?_.textContent!==K&&(P.suppressHydrationWarning!==!0&&Eh(_.textContent,K,l),A=["children",K]):typeof K=="number"&&_.textContent!==""+K&&(P.suppressHydrationWarning!==!0&&Eh(_.textContent,K,l),A=["children",""+K]):i.hasOwnProperty(F)&&K!=null&&F==="onScroll"&&Pt("scroll",_)}switch(y){case"input":Ve(_),or(_,P,!0);break;case"textarea":Ve(_),Re(_);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(_.onclick=jh)}_=A,u.updateQueue=_,_!==null&&(u.flags|=4)}else{F=A.nodeType===9?A:A.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=_t(y)),l==="http://www.w3.org/1999/xhtml"?y==="script"?(l=F.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof _.is=="string"?l=F.createElement(y,{is:_.is}):(l=F.createElement(y),y==="select"&&(F=l,_.multiple?F.multiple=!0:_.size&&(F.size=_.size))):l=F.createElementNS(l,y),l[bi]=u,l[Iu]=_,sk(l,u,!1,!1),u.stateNode=l;e:{switch(F=pe(y,_),y){case"dialog":Pt("cancel",l),Pt("close",l),A=_;break;case"iframe":case"object":case"embed":Pt("load",l),A=_;break;case"video":case"audio":for(A=0;A<Nu.length;A++)Pt(Nu[A],l);A=_;break;case"source":Pt("error",l),A=_;break;case"img":case"image":case"link":Pt("error",l),Pt("load",l),A=_;break;case"details":Pt("toggle",l),A=_;break;case"input":yt(l,_),A=Xe(l,_),Pt("invalid",l);break;case"option":A=_;break;case"select":l._wrapperState={wasMultiple:!!_.multiple},A=se({},_,{value:void 0}),Pt("invalid",l);break;case"textarea":Vr(l,_),A=Et(l,_),Pt("invalid",l);break;default:A=_}Ae(y,A),K=A;for(P in K)if(K.hasOwnProperty(P)){var Y=K[P];P==="style"?J(l,Y):P==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&C(l,Y)):P==="children"?typeof Y=="string"?(y!=="textarea"||Y!=="")&&z(l,Y):typeof Y=="number"&&z(l,""+Y):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(i.hasOwnProperty(P)?Y!=null&&P==="onScroll"&&Pt("scroll",l):Y!=null&&E(l,P,Y,F))}switch(y){case"input":Ve(l),or(l,_,!1);break;case"textarea":Ve(l),Re(l);break;case"option":_.value!=null&&l.setAttribute("value",""+Fe(_.value));break;case"select":l.multiple=!!_.multiple,P=_.value,P!=null?$t(l,!!_.multiple,P,!1):_.defaultValue!=null&&$t(l,!!_.multiple,_.defaultValue,!0);break;default:typeof A.onClick=="function"&&(l.onclick=jh)}switch(y){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Dr(u),null;case 6:if(l&&u.stateNode!=null)lk(l,u,l.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(r(166));if(y=qs($u.current),qs(wi.current),Ch(u)){if(_=u.stateNode,y=u.memoizedProps,_[bi]=u,(P=_.nodeValue!==y)&&(l=gn,l!==null))switch(l.tag){case 3:Eh(_.nodeValue,y,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Eh(_.nodeValue,y,(l.mode&1)!==0)}P&&(u.flags|=4)}else _=(y.nodeType===9?y:y.ownerDocument).createTextNode(_),_[bi]=u,u.stateNode=_}return Dr(u),null;case 13:if(Nt(Ut),_=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Dt&&yn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)dO(),pl(),u.flags|=98560,P=!1;else if(P=Ch(u),_!==null&&_.dehydrated!==null){if(l===null){if(!P)throw Error(r(318));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[bi]=u}else pl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Dr(u),P=!1}else Qn!==null&&(c0(Qn),Qn=null),P=!0;if(!P)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=y,u):(_=_!==null,_!==(l!==null&&l.memoizedState!==null)&&_&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Ut.current&1)!==0?cr===0&&(cr=3):f0())),u.updateQueue!==null&&(u.flags|=4),Dr(u),null);case 4:return vl(),Jv(l,u),l===null&&Cu(u.stateNode.containerInfo),Dr(u),null;case 10:return Av(u.type._context),Dr(u),null;case 17:return on(u.type)&&Th(),Dr(u),null;case 19:if(Nt(Ut),P=u.memoizedState,P===null)return Dr(u),null;if(_=(u.flags&128)!==0,F=P.rendering,F===null)if(_)Vu(P,!1);else{if(cr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(F=Fh(l),F!==null){for(u.flags|=128,Vu(P,!1),_=F.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=y,y=u.child;y!==null;)P=y,l=_,P.flags&=14680066,F=P.alternate,F===null?(P.childLanes=0,P.lanes=l,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=F.childLanes,P.lanes=F.lanes,P.child=F.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=F.memoizedProps,P.memoizedState=F.memoizedState,P.updateQueue=F.updateQueue,P.type=F.type,l=F.dependencies,P.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),y=y.sibling;return jt(Ut,Ut.current&1|2),u.child}l=l.sibling}P.tail!==null&&Yt()>_l&&(u.flags|=128,_=!0,Vu(P,!1),u.lanes=4194304)}else{if(!_)if(l=Fh(F),l!==null){if(u.flags|=128,_=!0,y=l.updateQueue,y!==null&&(u.updateQueue=y,u.flags|=4),Vu(P,!0),P.tail===null&&P.tailMode==="hidden"&&!F.alternate&&!Dt)return Dr(u),null}else 2*Yt()-P.renderingStartTime>_l&&y!==1073741824&&(u.flags|=128,_=!0,Vu(P,!1),u.lanes=4194304);P.isBackwards?(F.sibling=u.child,u.child=F):(y=P.last,y!==null?y.sibling=F:u.child=F,P.last=F)}return P.tail!==null?(u=P.tail,P.rendering=u,P.tail=u.sibling,P.renderingStartTime=Yt(),u.sibling=null,y=Ut.current,jt(Ut,_?y&1|2:y&1),u):(Dr(u),null);case 22:case 23:return d0(),_=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==_&&(u.flags|=8192),_&&(u.mode&1)!==0?(vn&1073741824)!==0&&(Dr(u),u.subtreeFlags&6&&(u.flags|=8192)):Dr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function F8(l,u){switch(bv(u),u.tag){case 1:return on(u.type)&&Th(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return vl(),Nt(sn),Nt(Rr),Rv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Nv(u),null;case 13:if(Nt(Ut),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));pl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Nt(Ut),null;case 4:return vl(),null;case 10:return Av(u.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var Kh=!1,Mr=!1,$8=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function bl(l,u){var y=l.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(_){Vt(l,u,_)}else y.current=null}function Zv(l,u,y){try{y()}catch(_){Vt(l,u,_)}}var ck=!1;function U8(l,u){if(dv=hh,l=BT(),nv(l)){if("selectionStart"in l)var y={start:l.selectionStart,end:l.selectionEnd};else e:{y=(y=l.ownerDocument)&&y.defaultView||window;var _=y.getSelection&&y.getSelection();if(_&&_.rangeCount!==0){y=_.anchorNode;var A=_.anchorOffset,P=_.focusNode;_=_.focusOffset;try{y.nodeType,P.nodeType}catch{y=null;break e}var F=0,K=-1,Y=-1,ue=0,ve=0,xe=l,ye=null;t:for(;;){for(var Te;xe!==y||A!==0&&xe.nodeType!==3||(K=F+A),xe!==P||_!==0&&xe.nodeType!==3||(Y=F+_),xe.nodeType===3&&(F+=xe.nodeValue.length),(Te=xe.firstChild)!==null;)ye=xe,xe=Te;for(;;){if(xe===l)break t;if(ye===y&&++ue===A&&(K=F),ye===P&&++ve===_&&(Y=F),(Te=xe.nextSibling)!==null)break;xe=ye,ye=xe.parentNode}xe=Te}y=K===-1||Y===-1?null:{start:K,end:Y}}else y=null}y=y||{start:0,end:0}}else y=null;for(fv={focusedElem:l,selectionRange:y},hh=!1,Ne=u;Ne!==null;)if(u=Ne,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ne=l;else for(;Ne!==null;){u=Ne;try{var Ie=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Le=Ie.memoizedProps,Xt=Ie.memoizedState,le=u.stateNode,re=le.getSnapshotBeforeUpdate(u.elementType===u.type?Le:Yn(u.type,Le),Xt);le.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ce=u.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){Vt(u,u.return,we)}if(l=u.sibling,l!==null){l.return=u.return,Ne=l;break}Ne=u.return}return Ie=ck,ck=!1,Ie}function Wu(l,u,y){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var A=_=_.next;do{if((A.tag&l)===l){var P=A.destroy;A.destroy=void 0,P!==void 0&&Zv(u,y,P)}A=A.next}while(A!==_)}}function Gh(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var y=u=u.next;do{if((y.tag&l)===l){var _=y.create;y.destroy=_()}y=y.next}while(y!==u)}}function e0(l){var u=l.ref;if(u!==null){var y=l.stateNode;switch(l.tag){case 5:l=y;break;default:l=y}typeof u=="function"?u(l):u.current=l}}function uk(l){var u=l.alternate;u!==null&&(l.alternate=null,uk(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[bi],delete u[Iu],delete u[gv],delete u[_8],delete u[S8])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function dk(l){return l.tag===5||l.tag===3||l.tag===4}function fk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||dk(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function t0(l,u,y){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?y.nodeType===8?y.parentNode.insertBefore(l,u):y.insertBefore(l,u):(y.nodeType===8?(u=y.parentNode,u.insertBefore(l,y)):(u=y,u.appendChild(l)),y=y._reactRootContainer,y!=null||u.onclick!==null||(u.onclick=jh));else if(_!==4&&(l=l.child,l!==null))for(t0(l,u,y),l=l.sibling;l!==null;)t0(l,u,y),l=l.sibling}function r0(l,u,y){var _=l.tag;if(_===5||_===6)l=l.stateNode,u?y.insertBefore(l,u):y.appendChild(l);else if(_!==4&&(l=l.child,l!==null))for(r0(l,u,y),l=l.sibling;l!==null;)r0(l,u,y),l=l.sibling}var Ar=null,Xn=!1;function Wa(l,u,y){for(y=y.child;y!==null;)hk(l,u,y),y=y.sibling}function hk(l,u,y){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(oh,y)}catch{}switch(y.tag){case 5:Mr||bl(y,u);case 6:var _=Ar,A=Xn;Ar=null,Wa(l,u,y),Ar=_,Xn=A,Ar!==null&&(Xn?(l=Ar,y=y.stateNode,l.nodeType===8?l.parentNode.removeChild(y):l.removeChild(y)):Ar.removeChild(y.stateNode));break;case 18:Ar!==null&&(Xn?(l=Ar,y=y.stateNode,l.nodeType===8?mv(l.parentNode,y):l.nodeType===1&&mv(l,y),Su(l)):mv(Ar,y.stateNode));break;case 4:_=Ar,A=Xn,Ar=y.stateNode.containerInfo,Xn=!0,Wa(l,u,y),Ar=_,Xn=A;break;case 0:case 11:case 14:case 15:if(!Mr&&(_=y.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){A=_=_.next;do{var P=A,F=P.destroy;P=P.tag,F!==void 0&&((P&2)!==0||(P&4)!==0)&&Zv(y,u,F),A=A.next}while(A!==_)}Wa(l,u,y);break;case 1:if(!Mr&&(bl(y,u),_=y.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=y.memoizedProps,_.state=y.memoizedState,_.componentWillUnmount()}catch(K){Vt(y,u,K)}Wa(l,u,y);break;case 21:Wa(l,u,y);break;case 22:y.mode&1?(Mr=(_=Mr)||y.memoizedState!==null,Wa(l,u,y),Mr=_):Wa(l,u,y);break;default:Wa(l,u,y)}}function pk(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var y=l.stateNode;y===null&&(y=l.stateNode=new $8),u.forEach(function(_){var A=Q8.bind(null,l,_);y.has(_)||(y.add(_),_.then(A,A))})}}function Jn(l,u){var y=u.deletions;if(y!==null)for(var _=0;_<y.length;_++){var A=y[_];try{var P=l,F=u,K=F;e:for(;K!==null;){switch(K.tag){case 5:Ar=K.stateNode,Xn=!1;break e;case 3:Ar=K.stateNode.containerInfo,Xn=!0;break e;case 4:Ar=K.stateNode.containerInfo,Xn=!0;break e}K=K.return}if(Ar===null)throw Error(r(160));hk(P,F,A),Ar=null,Xn=!1;var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(ue){Vt(A,u,ue)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)mk(u,l),u=u.sibling}function mk(l,u){var y=l.alternate,_=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Jn(u,l),Si(l),_&4){try{Wu(3,l,l.return),Gh(3,l)}catch(Le){Vt(l,l.return,Le)}try{Wu(5,l,l.return)}catch(Le){Vt(l,l.return,Le)}}break;case 1:Jn(u,l),Si(l),_&512&&y!==null&&bl(y,y.return);break;case 5:if(Jn(u,l),Si(l),_&512&&y!==null&&bl(y,y.return),l.flags&32){var A=l.stateNode;try{z(A,"")}catch(Le){Vt(l,l.return,Le)}}if(_&4&&(A=l.stateNode,A!=null)){var P=l.memoizedProps,F=y!==null?y.memoizedProps:P,K=l.type,Y=l.updateQueue;if(l.updateQueue=null,Y!==null)try{K==="input"&&P.type==="radio"&&P.name!=null&&vt(A,P),pe(K,F);var ue=pe(K,P);for(F=0;F<Y.length;F+=2){var ve=Y[F],xe=Y[F+1];ve==="style"?J(A,xe):ve==="dangerouslySetInnerHTML"?C(A,xe):ve==="children"?z(A,xe):E(A,ve,xe,ue)}switch(K){case"input":pt(A,P);break;case"textarea":Se(A,P);break;case"select":var ye=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!P.multiple;var Te=P.value;Te!=null?$t(A,!!P.multiple,Te,!1):ye!==!!P.multiple&&(P.defaultValue!=null?$t(A,!!P.multiple,P.defaultValue,!0):$t(A,!!P.multiple,P.multiple?[]:"",!1))}A[Iu]=P}catch(Le){Vt(l,l.return,Le)}}break;case 6:if(Jn(u,l),Si(l),_&4){if(l.stateNode===null)throw Error(r(162));A=l.stateNode,P=l.memoizedProps;try{A.nodeValue=P}catch(Le){Vt(l,l.return,Le)}}break;case 3:if(Jn(u,l),Si(l),_&4&&y!==null&&y.memoizedState.isDehydrated)try{Su(u.containerInfo)}catch(Le){Vt(l,l.return,Le)}break;case 4:Jn(u,l),Si(l);break;case 13:Jn(u,l),Si(l),A=l.child,A.flags&8192&&(P=A.memoizedState!==null,A.stateNode.isHidden=P,!P||A.alternate!==null&&A.alternate.memoizedState!==null||(a0=Yt())),_&4&&pk(l);break;case 22:if(ve=y!==null&&y.memoizedState!==null,l.mode&1?(Mr=(ue=Mr)||ve,Jn(u,l),Mr=ue):Jn(u,l),Si(l),_&8192){if(ue=l.memoizedState!==null,(l.stateNode.isHidden=ue)&&!ve&&(l.mode&1)!==0)for(Ne=l,ve=l.child;ve!==null;){for(xe=Ne=ve;Ne!==null;){switch(ye=Ne,Te=ye.child,ye.tag){case 0:case 11:case 14:case 15:Wu(4,ye,ye.return);break;case 1:bl(ye,ye.return);var Ie=ye.stateNode;if(typeof Ie.componentWillUnmount=="function"){_=ye,y=ye.return;try{u=_,Ie.props=u.memoizedProps,Ie.state=u.memoizedState,Ie.componentWillUnmount()}catch(Le){Vt(_,y,Le)}}break;case 5:bl(ye,ye.return);break;case 22:if(ye.memoizedState!==null){vk(xe);continue}}Te!==null?(Te.return=ye,Ne=Te):vk(xe)}ve=ve.sibling}e:for(ve=null,xe=l;;){if(xe.tag===5){if(ve===null){ve=xe;try{A=xe.stateNode,ue?(P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(K=xe.stateNode,Y=xe.memoizedProps.style,F=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,K.style.display=H("display",F))}catch(Le){Vt(l,l.return,Le)}}}else if(xe.tag===6){if(ve===null)try{xe.stateNode.nodeValue=ue?"":xe.memoizedProps}catch(Le){Vt(l,l.return,Le)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===l)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===l)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===l)break e;ve===xe&&(ve=null),xe=xe.return}ve===xe&&(ve=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Jn(u,l),Si(l),_&4&&pk(l);break;case 21:break;default:Jn(u,l),Si(l)}}function Si(l){var u=l.flags;if(u&2){try{e:{for(var y=l.return;y!==null;){if(dk(y)){var _=y;break e}y=y.return}throw Error(r(160))}switch(_.tag){case 5:var A=_.stateNode;_.flags&32&&(z(A,""),_.flags&=-33);var P=fk(l);r0(l,P,A);break;case 3:case 4:var F=_.stateNode.containerInfo,K=fk(l);t0(l,K,F);break;default:throw Error(r(161))}}catch(Y){Vt(l,l.return,Y)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function B8(l,u,y){Ne=l,gk(l)}function gk(l,u,y){for(var _=(l.mode&1)!==0;Ne!==null;){var A=Ne,P=A.child;if(A.tag===22&&_){var F=A.memoizedState!==null||Kh;if(!F){var K=A.alternate,Y=K!==null&&K.memoizedState!==null||Mr;K=Kh;var ue=Mr;if(Kh=F,(Mr=Y)&&!ue)for(Ne=A;Ne!==null;)F=Ne,Y=F.child,F.tag===22&&F.memoizedState!==null?xk(A):Y!==null?(Y.return=F,Ne=Y):xk(A);for(;P!==null;)Ne=P,gk(P),P=P.sibling;Ne=A,Kh=K,Mr=ue}yk(l)}else(A.subtreeFlags&8772)!==0&&P!==null?(P.return=A,Ne=P):yk(l)}}function yk(l){for(;Ne!==null;){var u=Ne;if((u.flags&8772)!==0){var y=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Mr||Gh(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!Mr)if(y===null)_.componentDidMount();else{var A=u.elementType===u.type?y.memoizedProps:Yn(u.type,y.memoizedProps);_.componentDidUpdate(A,y.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var P=u.updateQueue;P!==null&&vO(u,P,_);break;case 3:var F=u.updateQueue;if(F!==null){if(y=null,u.child!==null)switch(u.child.tag){case 5:y=u.child.stateNode;break;case 1:y=u.child.stateNode}vO(u,F,y)}break;case 5:var K=u.stateNode;if(y===null&&u.flags&4){y=K;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&y.focus();break;case"img":Y.src&&(y.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ue=u.alternate;if(ue!==null){var ve=ue.memoizedState;if(ve!==null){var xe=ve.dehydrated;xe!==null&&Su(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mr||u.flags&512&&e0(u)}catch(ye){Vt(u,u.return,ye)}}if(u===l){Ne=null;break}if(y=u.sibling,y!==null){y.return=u.return,Ne=y;break}Ne=u.return}}function vk(l){for(;Ne!==null;){var u=Ne;if(u===l){Ne=null;break}var y=u.sibling;if(y!==null){y.return=u.return,Ne=y;break}Ne=u.return}}function xk(l){for(;Ne!==null;){var u=Ne;try{switch(u.tag){case 0:case 11:case 15:var y=u.return;try{Gh(4,u)}catch(Y){Vt(u,y,Y)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var A=u.return;try{_.componentDidMount()}catch(Y){Vt(u,A,Y)}}var P=u.return;try{e0(u)}catch(Y){Vt(u,P,Y)}break;case 5:var F=u.return;try{e0(u)}catch(Y){Vt(u,F,Y)}}}catch(Y){Vt(u,u.return,Y)}if(u===l){Ne=null;break}var K=u.sibling;if(K!==null){K.return=u.return,Ne=K;break}Ne=u.return}}var q8=Math.ceil,Qh=T.ReactCurrentDispatcher,n0=T.ReactCurrentOwner,Pn=T.ReactCurrentBatchConfig,dt=0,vr=null,rr=null,Tr=0,vn=0,wl=Ua(0),cr=0,Hu=null,Vs=0,Yh=0,i0=0,Ku=null,cn=null,a0=0,_l=1/0,Xi=null,Xh=!1,s0=null,Ha=null,Jh=!1,Ka=null,Zh=0,Gu=0,o0=null,ep=-1,tp=0;function Hr(){return(dt&6)!==0?Yt():ep!==-1?ep:ep=Yt()}function Ga(l){return(l.mode&1)===0?1:(dt&2)!==0&&Tr!==0?Tr&-Tr:j8.transition!==null?(tp===0&&(tp=fT()),tp):(l=xt,l!==0||(l=window.event,l=l===void 0?16:wT(l.type)),l)}function Zn(l,u,y,_){if(50<Gu)throw Gu=0,o0=null,Error(r(185));vu(l,y,_),((dt&2)===0||l!==vr)&&(l===vr&&((dt&2)===0&&(Yh|=y),cr===4&&Qa(l,Tr)),un(l,_),y===1&&dt===0&&(u.mode&1)===0&&(_l=Yt()+500,kh&&qa()))}function un(l,u){var y=l.callbackNode;jq(l,u);var _=uh(l,l===vr?Tr:0);if(_===0)y!==null&&cT(y),l.callbackNode=null,l.callbackPriority=0;else if(u=_&-_,l.callbackPriority!==u){if(y!=null&&cT(y),u===1)l.tag===0?E8(wk.bind(null,l)):sO(wk.bind(null,l)),b8(function(){(dt&6)===0&&qa()}),y=null;else{switch(hT(_)){case 1:y=Uy;break;case 4:y=uT;break;case 16:y=sh;break;case 536870912:y=dT;break;default:y=sh}y=kk(y,bk.bind(null,l))}l.callbackPriority=u,l.callbackNode=y}}function bk(l,u){if(ep=-1,tp=0,(dt&6)!==0)throw Error(r(327));var y=l.callbackNode;if(Sl()&&l.callbackNode!==y)return null;var _=uh(l,l===vr?Tr:0);if(_===0)return null;if((_&30)!==0||(_&l.expiredLanes)!==0||u)u=rp(l,_);else{u=_;var A=dt;dt|=2;var P=Sk();(vr!==l||Tr!==u)&&(Xi=null,_l=Yt()+500,Hs(l,u));do try{W8();break}catch(K){_k(l,K)}while(!0);jv(),Qh.current=P,dt=A,rr!==null?u=0:(vr=null,Tr=0,u=cr)}if(u!==0){if(u===2&&(A=By(l),A!==0&&(_=A,u=l0(l,A))),u===1)throw y=Hu,Hs(l,0),Qa(l,_),un(l,Yt()),y;if(u===6)Qa(l,_);else{if(A=l.current.alternate,(_&30)===0&&!z8(A)&&(u=rp(l,_),u===2&&(P=By(l),P!==0&&(_=P,u=l0(l,P))),u===1))throw y=Hu,Hs(l,0),Qa(l,_),un(l,Yt()),y;switch(l.finishedWork=A,l.finishedLanes=_,u){case 0:case 1:throw Error(r(345));case 2:Ks(l,cn,Xi);break;case 3:if(Qa(l,_),(_&130023424)===_&&(u=a0+500-Yt(),10<u)){if(uh(l,0)!==0)break;if(A=l.suspendedLanes,(A&_)!==_){Hr(),l.pingedLanes|=l.suspendedLanes&A;break}l.timeoutHandle=pv(Ks.bind(null,l,cn,Xi),u);break}Ks(l,cn,Xi);break;case 4:if(Qa(l,_),(_&4194240)===_)break;for(u=l.eventTimes,A=-1;0<_;){var F=31-Kn(_);P=1<<F,F=u[F],F>A&&(A=F),_&=~P}if(_=A,_=Yt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*q8(_/1960))-_,10<_){l.timeoutHandle=pv(Ks.bind(null,l,cn,Xi),_);break}Ks(l,cn,Xi);break;case 5:Ks(l,cn,Xi);break;default:throw Error(r(329))}}}return un(l,Yt()),l.callbackNode===y?bk.bind(null,l):null}function l0(l,u){var y=Ku;return l.current.memoizedState.isDehydrated&&(Hs(l,u).flags|=256),l=rp(l,u),l!==2&&(u=cn,cn=y,u!==null&&c0(u)),l}function c0(l){cn===null?cn=l:cn.push.apply(cn,l)}function z8(l){for(var u=l;;){if(u.flags&16384){var y=u.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var _=0;_<y.length;_++){var A=y[_],P=A.getSnapshot;A=A.value;try{if(!Gn(P(),A))return!1}catch{return!1}}}if(y=u.child,u.subtreeFlags&16384&&y!==null)y.return=u,u=y;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Qa(l,u){for(u&=~i0,u&=~Yh,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var y=31-Kn(u),_=1<<y;l[y]=-1,u&=~_}}function wk(l){if((dt&6)!==0)throw Error(r(327));Sl();var u=uh(l,0);if((u&1)===0)return un(l,Yt()),null;var y=rp(l,u);if(l.tag!==0&&y===2){var _=By(l);_!==0&&(u=_,y=l0(l,_))}if(y===1)throw y=Hu,Hs(l,0),Qa(l,u),un(l,Yt()),y;if(y===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Ks(l,cn,Xi),un(l,Yt()),null}function u0(l,u){var y=dt;dt|=1;try{return l(u)}finally{dt=y,dt===0&&(_l=Yt()+500,kh&&qa())}}function Ws(l){Ka!==null&&Ka.tag===0&&(dt&6)===0&&Sl();var u=dt;dt|=1;var y=Pn.transition,_=xt;try{if(Pn.transition=null,xt=1,l)return l()}finally{xt=_,Pn.transition=y,dt=u,(dt&6)===0&&qa()}}function d0(){vn=wl.current,Nt(wl)}function Hs(l,u){l.finishedWork=null,l.finishedLanes=0;var y=l.timeoutHandle;if(y!==-1&&(l.timeoutHandle=-1,x8(y)),rr!==null)for(y=rr.return;y!==null;){var _=y;switch(bv(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Th();break;case 3:vl(),Nt(sn),Nt(Rr),Rv();break;case 5:Nv(_);break;case 4:vl();break;case 13:Nt(Ut);break;case 19:Nt(Ut);break;case 10:Av(_.type._context);break;case 22:case 23:d0()}y=y.return}if(vr=l,rr=l=Ya(l.current,null),Tr=vn=u,cr=0,Hu=null,i0=Yh=Vs=0,cn=Ku=null,Bs!==null){for(u=0;u<Bs.length;u++)if(y=Bs[u],_=y.interleaved,_!==null){y.interleaved=null;var A=_.next,P=y.pending;if(P!==null){var F=P.next;P.next=A,_.next=F}y.pending=_}Bs=null}return l}function _k(l,u){do{var y=rr;try{if(jv(),$h.current=zh,Uh){for(var _=Bt.memoizedState;_!==null;){var A=_.queue;A!==null&&(A.pending=null),_=_.next}Uh=!1}if(zs=0,yr=lr=Bt=null,Uu=!1,Bu=0,n0.current=null,y===null||y.return===null){cr=1,Hu=u,rr=null;break}e:{var P=l,F=y.return,K=y,Y=u;if(u=Tr,K.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ue=Y,ve=K,xe=ve.tag;if((ve.mode&1)===0&&(xe===0||xe===11||xe===15)){var ye=ve.alternate;ye?(ve.updateQueue=ye.updateQueue,ve.memoizedState=ye.memoizedState,ve.lanes=ye.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Te=KO(F);if(Te!==null){Te.flags&=-257,GO(Te,F,K,P,u),Te.mode&1&&HO(P,ue,u),u=Te,Y=ue;var Ie=u.updateQueue;if(Ie===null){var Le=new Set;Le.add(Y),u.updateQueue=Le}else Ie.add(Y);break e}else{if((u&1)===0){HO(P,ue,u),f0();break e}Y=Error(r(426))}}else if(Dt&&K.mode&1){var Xt=KO(F);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),GO(Xt,F,K,P,u),Sv(xl(Y,K));break e}}P=Y=xl(Y,K),cr!==4&&(cr=2),Ku===null?Ku=[P]:Ku.push(P),P=F;do{switch(P.tag){case 3:P.flags|=65536,u&=-u,P.lanes|=u;var le=VO(P,Y,u);yO(P,le);break e;case 1:K=Y;var re=P.type,ce=P.stateNode;if((P.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Ha===null||!Ha.has(ce)))){P.flags|=65536,u&=-u,P.lanes|=u;var we=WO(P,K,u);yO(P,we);break e}}P=P.return}while(P!==null)}jk(y)}catch($e){u=$e,rr===y&&y!==null&&(rr=y=y.return);continue}break}while(!0)}function Sk(){var l=Qh.current;return Qh.current=zh,l===null?zh:l}function f0(){(cr===0||cr===3||cr===2)&&(cr=4),vr===null||(Vs&268435455)===0&&(Yh&268435455)===0||Qa(vr,Tr)}function rp(l,u){var y=dt;dt|=2;var _=Sk();(vr!==l||Tr!==u)&&(Xi=null,Hs(l,u));do try{V8();break}catch(A){_k(l,A)}while(!0);if(jv(),dt=y,Qh.current=_,rr!==null)throw Error(r(261));return vr=null,Tr=0,cr}function V8(){for(;rr!==null;)Ek(rr)}function W8(){for(;rr!==null&&!gq();)Ek(rr)}function Ek(l){var u=Ok(l.alternate,l,vn);l.memoizedProps=l.pendingProps,u===null?jk(l):rr=u,n0.current=null}function jk(l){var u=l;do{var y=u.alternate;if(l=u.return,(u.flags&32768)===0){if(y=L8(y,u,vn),y!==null){rr=y;return}}else{if(y=F8(y,u),y!==null){y.flags&=32767,rr=y;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{cr=6,rr=null;return}}if(u=u.sibling,u!==null){rr=u;return}rr=u=l}while(u!==null);cr===0&&(cr=5)}function Ks(l,u,y){var _=xt,A=Pn.transition;try{Pn.transition=null,xt=1,H8(l,u,y,_)}finally{Pn.transition=A,xt=_}return null}function H8(l,u,y,_){do Sl();while(Ka!==null);if((dt&6)!==0)throw Error(r(327));y=l.finishedWork;var A=l.finishedLanes;if(y===null)return null;if(l.finishedWork=null,l.finishedLanes=0,y===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var P=y.lanes|y.childLanes;if(Aq(l,P),l===vr&&(rr=vr=null,Tr=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Jh||(Jh=!0,kk(sh,function(){return Sl(),null})),P=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||P){P=Pn.transition,Pn.transition=null;var F=xt;xt=1;var K=dt;dt|=4,n0.current=null,U8(l,y),mk(y,l),f8(fv),hh=!!dv,fv=dv=null,l.current=y,B8(y),yq(),dt=K,xt=F,Pn.transition=P}else l.current=y;if(Jh&&(Jh=!1,Ka=l,Zh=A),P=l.pendingLanes,P===0&&(Ha=null),bq(y.stateNode),un(l,Yt()),u!==null)for(_=l.onRecoverableError,y=0;y<u.length;y++)A=u[y],_(A.value,{componentStack:A.stack,digest:A.digest});if(Xh)throw Xh=!1,l=s0,s0=null,l;return(Zh&1)!==0&&l.tag!==0&&Sl(),P=l.pendingLanes,(P&1)!==0?l===o0?Gu++:(Gu=0,o0=l):Gu=0,qa(),null}function Sl(){if(Ka!==null){var l=hT(Zh),u=Pn.transition,y=xt;try{if(Pn.transition=null,xt=16>l?16:l,Ka===null)var _=!1;else{if(l=Ka,Ka=null,Zh=0,(dt&6)!==0)throw Error(r(331));var A=dt;for(dt|=4,Ne=l.current;Ne!==null;){var P=Ne,F=P.child;if((Ne.flags&16)!==0){var K=P.deletions;if(K!==null){for(var Y=0;Y<K.length;Y++){var ue=K[Y];for(Ne=ue;Ne!==null;){var ve=Ne;switch(ve.tag){case 0:case 11:case 15:Wu(8,ve,P)}var xe=ve.child;if(xe!==null)xe.return=ve,Ne=xe;else for(;Ne!==null;){ve=Ne;var ye=ve.sibling,Te=ve.return;if(uk(ve),ve===ue){Ne=null;break}if(ye!==null){ye.return=Te,Ne=ye;break}Ne=Te}}}var Ie=P.alternate;if(Ie!==null){var Le=Ie.child;if(Le!==null){Ie.child=null;do{var Xt=Le.sibling;Le.sibling=null,Le=Xt}while(Le!==null)}}Ne=P}}if((P.subtreeFlags&2064)!==0&&F!==null)F.return=P,Ne=F;else e:for(;Ne!==null;){if(P=Ne,(P.flags&2048)!==0)switch(P.tag){case 0:case 11:case 15:Wu(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,Ne=le;break e}Ne=P.return}}var re=l.current;for(Ne=re;Ne!==null;){F=Ne;var ce=F.child;if((F.subtreeFlags&2064)!==0&&ce!==null)ce.return=F,Ne=ce;else e:for(F=re;Ne!==null;){if(K=Ne,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Gh(9,K)}}catch($e){Vt(K,K.return,$e)}if(K===F){Ne=null;break e}var we=K.sibling;if(we!==null){we.return=K.return,Ne=we;break e}Ne=K.return}}if(dt=A,qa(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(oh,l)}catch{}_=!0}return _}finally{xt=y,Pn.transition=u}}return!1}function Ak(l,u,y){u=xl(y,u),u=VO(l,u,1),l=Va(l,u,1),u=Hr(),l!==null&&(vu(l,1,u),un(l,u))}function Vt(l,u,y){if(l.tag===3)Ak(l,l,y);else for(;u!==null;){if(u.tag===3){Ak(u,l,y);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ha===null||!Ha.has(_))){l=xl(y,l),l=WO(u,l,1),u=Va(u,l,1),l=Hr(),u!==null&&(vu(u,1,l),un(u,l));break}}u=u.return}}function K8(l,u,y){var _=l.pingCache;_!==null&&_.delete(u),u=Hr(),l.pingedLanes|=l.suspendedLanes&y,vr===l&&(Tr&y)===y&&(cr===4||cr===3&&(Tr&130023424)===Tr&&500>Yt()-a0?Hs(l,0):i0|=y),un(l,u)}function Tk(l,u){u===0&&((l.mode&1)===0?u=1:(u=ch,ch<<=1,(ch&130023424)===0&&(ch=4194304)));var y=Hr();l=Gi(l,u),l!==null&&(vu(l,u,y),un(l,y))}function G8(l){var u=l.memoizedState,y=0;u!==null&&(y=u.retryLane),Tk(l,y)}function Q8(l,u){var y=0;switch(l.tag){case 13:var _=l.stateNode,A=l.memoizedState;A!==null&&(y=A.retryLane);break;case 19:_=l.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(u),Tk(l,y)}var Ok;Ok=function(l,u,y){if(l!==null)if(l.memoizedProps!==u.pendingProps||sn.current)ln=!0;else{if((l.lanes&y)===0&&(u.flags&128)===0)return ln=!1,M8(l,u,y);ln=(l.flags&131072)!==0}else ln=!1,Dt&&(u.flags&1048576)!==0&&oO(u,Nh,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;Hh(l,u),l=u.pendingProps;var A=dl(u,Rr.current);yl(u,y),A=Mv(null,u,_,l,A,y);var P=Lv();return u.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,on(_)?(P=!0,Oh(u)):P=!1,u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,kv(u),A.updater=Vh,u.stateNode=A,A._reactInternals=u,zv(u,_,l,y),u=Kv(null,u,_,!0,P,y)):(u.tag=0,Dt&&P&&xv(u),Wr(null,u,A,y),u=u.child),u;case 16:_=u.elementType;e:{switch(Hh(l,u),l=u.pendingProps,A=_._init,_=A(_._payload),u.type=_,A=u.tag=X8(_),l=Yn(_,l),A){case 0:u=Hv(null,u,_,l,y);break e;case 1:u=ek(null,u,_,l,y);break e;case 11:u=QO(null,u,_,l,y);break e;case 14:u=YO(null,u,_,Yn(_.type,l),y);break e}throw Error(r(306,_,""))}return u;case 0:return _=u.type,A=u.pendingProps,A=u.elementType===_?A:Yn(_,A),Hv(l,u,_,A,y);case 1:return _=u.type,A=u.pendingProps,A=u.elementType===_?A:Yn(_,A),ek(l,u,_,A,y);case 3:e:{if(tk(u),l===null)throw Error(r(387));_=u.pendingProps,P=u.memoizedState,A=P.element,gO(l,u),Lh(u,_,null,y);var F=u.memoizedState;if(_=F.element,P.isDehydrated)if(P={element:_,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){A=xl(Error(r(423)),u),u=rk(l,u,_,y,A);break e}else if(_!==A){A=xl(Error(r(424)),u),u=rk(l,u,_,y,A);break e}else for(yn=$a(u.stateNode.containerInfo.firstChild),gn=u,Dt=!0,Qn=null,y=pO(u,null,_,y),u.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(pl(),_===A){u=Yi(l,u,y);break e}Wr(l,u,_,y)}u=u.child}return u;case 5:return xO(u),l===null&&_v(u),_=u.type,A=u.pendingProps,P=l!==null?l.memoizedProps:null,F=A.children,hv(_,A)?F=null:P!==null&&hv(_,P)&&(u.flags|=32),ZO(l,u),Wr(l,u,F,y),u.child;case 6:return l===null&&_v(u),null;case 13:return nk(l,u,y);case 4:return Pv(u,u.stateNode.containerInfo),_=u.pendingProps,l===null?u.child=ml(u,null,_,y):Wr(l,u,_,y),u.child;case 11:return _=u.type,A=u.pendingProps,A=u.elementType===_?A:Yn(_,A),QO(l,u,_,A,y);case 7:return Wr(l,u,u.pendingProps,y),u.child;case 8:return Wr(l,u,u.pendingProps.children,y),u.child;case 12:return Wr(l,u,u.pendingProps.children,y),u.child;case 10:e:{if(_=u.type._context,A=u.pendingProps,P=u.memoizedProps,F=A.value,jt(Ih,_._currentValue),_._currentValue=F,P!==null)if(Gn(P.value,F)){if(P.children===A.children&&!sn.current){u=Yi(l,u,y);break e}}else for(P=u.child,P!==null&&(P.return=u);P!==null;){var K=P.dependencies;if(K!==null){F=P.child;for(var Y=K.firstContext;Y!==null;){if(Y.context===_){if(P.tag===1){Y=Qi(-1,y&-y),Y.tag=2;var ue=P.updateQueue;if(ue!==null){ue=ue.shared;var ve=ue.pending;ve===null?Y.next=Y:(Y.next=ve.next,ve.next=Y),ue.pending=Y}}P.lanes|=y,Y=P.alternate,Y!==null&&(Y.lanes|=y),Tv(P.return,y,u),K.lanes|=y;break}Y=Y.next}}else if(P.tag===10)F=P.type===u.type?null:P.child;else if(P.tag===18){if(F=P.return,F===null)throw Error(r(341));F.lanes|=y,K=F.alternate,K!==null&&(K.lanes|=y),Tv(F,y,u),F=P.sibling}else F=P.child;if(F!==null)F.return=P;else for(F=P;F!==null;){if(F===u){F=null;break}if(P=F.sibling,P!==null){P.return=F.return,F=P;break}F=F.return}P=F}Wr(l,u,A.children,y),u=u.child}return u;case 9:return A=u.type,_=u.pendingProps.children,yl(u,y),A=On(A),_=_(A),u.flags|=1,Wr(l,u,_,y),u.child;case 14:return _=u.type,A=Yn(_,u.pendingProps),A=Yn(_.type,A),YO(l,u,_,A,y);case 15:return XO(l,u,u.type,u.pendingProps,y);case 17:return _=u.type,A=u.pendingProps,A=u.elementType===_?A:Yn(_,A),Hh(l,u),u.tag=1,on(_)?(l=!0,Oh(u)):l=!1,yl(u,y),qO(u,_,A),zv(u,_,A,y),Kv(null,u,_,!0,l,y);case 19:return ak(l,u,y);case 22:return JO(l,u,y)}throw Error(r(156,u.tag))};function kk(l,u){return lT(l,u)}function Y8(l,u,y,_){this.tag=l,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(l,u,y,_){return new Y8(l,u,y,_)}function h0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function X8(l){if(typeof l=="function")return h0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===D)return 11;if(l===G)return 14}return 2}function Ya(l,u){var y=l.alternate;return y===null?(y=Nn(l.tag,u,l.key,l.mode),y.elementType=l.elementType,y.type=l.type,y.stateNode=l.stateNode,y.alternate=l,l.alternate=y):(y.pendingProps=u,y.type=l.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=l.flags&14680064,y.childLanes=l.childLanes,y.lanes=l.lanes,y.child=l.child,y.memoizedProps=l.memoizedProps,y.memoizedState=l.memoizedState,y.updateQueue=l.updateQueue,u=l.dependencies,y.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},y.sibling=l.sibling,y.index=l.index,y.ref=l.ref,y}function np(l,u,y,_,A,P){var F=2;if(_=l,typeof l=="function")h0(l)&&(F=1);else if(typeof l=="string")F=5;else e:switch(l){case N:return Gs(y.children,A,P,u);case R:F=8,A|=8;break;case I:return l=Nn(12,y,u,A|2),l.elementType=I,l.lanes=P,l;case B:return l=Nn(13,y,u,A),l.elementType=B,l.lanes=P,l;case V:return l=Nn(19,y,u,A),l.elementType=V,l.lanes=P,l;case ie:return ip(y,A,P,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case q:F=10;break e;case U:F=9;break e;case D:F=11;break e;case G:F=14;break e;case X:F=16,_=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=Nn(F,y,u,A),u.elementType=l,u.type=_,u.lanes=P,u}function Gs(l,u,y,_){return l=Nn(7,l,_,u),l.lanes=y,l}function ip(l,u,y,_){return l=Nn(22,l,_,u),l.elementType=ie,l.lanes=y,l.stateNode={isHidden:!1},l}function p0(l,u,y){return l=Nn(6,l,null,u),l.lanes=y,l}function m0(l,u,y){return u=Nn(4,l.children!==null?l.children:[],l.key,u),u.lanes=y,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function J8(l,u,y,_,A){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=_,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function g0(l,u,y,_,A,P,F,K,Y){return l=new J8(l,u,y,K,Y),u===1?(u=1,P===!0&&(u|=8)):u=0,P=Nn(3,null,null,u),l.current=P,P.stateNode=l,P.memoizedState={element:_,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},kv(P),l}function Z8(l,u,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:_==null?null:""+_,children:l,containerInfo:u,implementation:y}}function Pk(l){if(!l)return Ba;l=l._reactInternals;e:{if(Ms(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(on(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var y=l.type;if(on(y))return iO(l,y,u)}return u}function Nk(l,u,y,_,A,P,F,K,Y){return l=g0(y,_,!0,l,A,P,F,K,Y),l.context=Pk(null),y=l.current,_=Hr(),A=Ga(y),P=Qi(_,A),P.callback=u??null,Va(y,P,A),l.current.lanes=A,vu(l,A,_),un(l,_),l}function ap(l,u,y,_){var A=u.current,P=Hr(),F=Ga(A);return y=Pk(y),u.context===null?u.context=y:u.pendingContext=y,u=Qi(P,F),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Va(A,u,F),l!==null&&(Zn(l,A,F,P),Mh(l,A,F)),F}function sp(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Ck(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var y=l.retryLane;l.retryLane=y!==0&&y<u?y:u}}function y0(l,u){Ck(l,u),(l=l.alternate)&&Ck(l,u)}function ez(){return null}var Rk=typeof reportError=="function"?reportError:function(l){console.error(l)};function v0(l){this._internalRoot=l}op.prototype.render=v0.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));ap(l,u,null,null)},op.prototype.unmount=v0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ws(function(){ap(null,l,null,null)}),u[Vi]=null}};function op(l){this._internalRoot=l}op.prototype.unstable_scheduleHydration=function(l){if(l){var u=gT();l={blockedOn:null,target:l,priority:u};for(var y=0;y<Ma.length&&u!==0&&u<Ma[y].priority;y++);Ma.splice(y,0,l),y===0&&xT(l)}};function x0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function lp(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Ik(){}function tz(l,u,y,_,A){if(A){if(typeof _=="function"){var P=_;_=function(){var ue=sp(F);P.call(ue)}}var F=Nk(u,_,l,0,null,!1,!1,"",Ik);return l._reactRootContainer=F,l[Vi]=F.current,Cu(l.nodeType===8?l.parentNode:l),Ws(),F}for(;A=l.lastChild;)l.removeChild(A);if(typeof _=="function"){var K=_;_=function(){var ue=sp(Y);K.call(ue)}}var Y=g0(l,0,!1,null,null,!1,!1,"",Ik);return l._reactRootContainer=Y,l[Vi]=Y.current,Cu(l.nodeType===8?l.parentNode:l),Ws(function(){ap(u,Y,y,_)}),Y}function cp(l,u,y,_,A){var P=y._reactRootContainer;if(P){var F=P;if(typeof A=="function"){var K=A;A=function(){var Y=sp(F);K.call(Y)}}ap(u,F,l,A)}else F=tz(y,u,l,A,_);return sp(F)}pT=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var y=yu(u.pendingLanes);y!==0&&(zy(u,y|1),un(u,Yt()),(dt&6)===0&&(_l=Yt()+500,qa()))}break;case 13:Ws(function(){var _=Gi(l,1);if(_!==null){var A=Hr();Zn(_,l,1,A)}}),y0(l,1)}},Vy=function(l){if(l.tag===13){var u=Gi(l,134217728);if(u!==null){var y=Hr();Zn(u,l,134217728,y)}y0(l,134217728)}},mT=function(l){if(l.tag===13){var u=Ga(l),y=Gi(l,u);if(y!==null){var _=Hr();Zn(y,l,u,_)}y0(l,u)}},gT=function(){return xt},yT=function(l,u){var y=xt;try{return xt=l,u()}finally{xt=y}},vi=function(l,u,y){switch(u){case"input":if(pt(l,y),u=y.name,y.type==="radio"&&u!=null){for(y=l;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<y.length;u++){var _=y[u];if(_!==l&&_.form===l.form){var A=Ah(_);if(!A)throw Error(r(90));he(_),pt(_,A)}}}break;case"textarea":Se(l,y);break;case"select":u=y.value,u!=null&&$t(l,!!y.multiple,u,!1)}},hu=u0,rT=Ws;var rz={usingClientEntryPoint:!1,Events:[Du,cl,Ah,fu,nh,u0]},Qu={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nz={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=sT(l),l===null?null:l.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||ez,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{oh=up.inject(nz),xi=up}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rz,dn.createPortal=function(l,u){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x0(u))throw Error(r(200));return Z8(l,u,null,y)},dn.createRoot=function(l,u){if(!x0(l))throw Error(r(299));var y=!1,_="",A=Rk;return u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),u=g0(l,1,!1,null,null,y,!1,_,A),l[Vi]=u.current,Cu(l.nodeType===8?l.parentNode:l),new v0(u)},dn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=sT(u),l=l===null?null:l.stateNode,l},dn.flushSync=function(l){return Ws(l)},dn.hydrate=function(l,u,y){if(!lp(u))throw Error(r(200));return cp(null,l,u,!0,y)},dn.hydrateRoot=function(l,u,y){if(!x0(l))throw Error(r(405));var _=y!=null&&y.hydratedSources||null,A=!1,P="",F=Rk;if(y!=null&&(y.unstable_strictMode===!0&&(A=!0),y.identifierPrefix!==void 0&&(P=y.identifierPrefix),y.onRecoverableError!==void 0&&(F=y.onRecoverableError)),u=Nk(u,null,l,1,y??null,A,!1,P,F),l[Vi]=u.current,Cu(l),_)for(l=0;l<_.length;l++)y=_[l],A=y._getVersion,A=A(y._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[y,A]:u.mutableSourceEagerHydrationData.push(y,A);return new op(u)},dn.render=function(l,u,y){if(!lp(u))throw Error(r(200));return cp(null,l,u,!1,y)},dn.unmountComponentAtNode=function(l){if(!lp(l))throw Error(r(40));return l._reactRootContainer?(Ws(function(){cp(null,null,l,!1,function(){l._reactRootContainer=null,l[Vi]=null})}),!0):!1},dn.unstable_batchedUpdates=u0,dn.unstable_renderSubtreeIntoContainer=function(l,u,y,_){if(!lp(y))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return cp(l,u,y,!1,_)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var zk;function g4(){if(zk)return S0.exports;zk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S0.exports=pz(),S0.exports}var Vk;function mz(){if(Vk)return hp;Vk=1;var t=g4();return hp.createRoot=t.createRoot,hp.hydrateRoot=t.hydrateRoot,hp}var gz=mz();class y4 extends M.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("Error caught by boundary:",e,r)}render(){return this.state.hasError?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8 max-w-md w-full mx-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Something went wrong"}),f.jsx("p",{className:"text-gray-300 mb-6",children:"We apologize for the inconvenience. Please refresh the page or try again later."}),f.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Refresh Page"})]})}):this.props.children}}g4();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const Wk="popstate";function yz(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return pS("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:am(i)}return xz(e,r,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vz(){return Math.random().toString(36).substr(2,8)}function Hk(t,e){return{usr:t.state,key:t.key,idx:e}}function pS(t,e,r,n){return r===void 0&&(r=null),Fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xc(e):e,{state:r,key:e&&e.key||n||vz()})}function am(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function xz(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=ms.Pop,c=null,d=p();d==null&&(d=0,s.replaceState(Fd({},s.state,{idx:d}),""));function p(){return(s.state||{idx:null}).idx}function h(){o=ms.Pop;let x=p(),w=x==null?null:x-d;d=x,c&&c({action:o,location:v.location,delta:w})}function m(x,w){o=ms.Push;let S=pS(v.location,x,w);d=p()+1;let E=Hk(S,d),T=v.createHref(S);try{s.pushState(E,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(T)}a&&c&&c({action:o,location:v.location,delta:1})}function g(x,w){o=ms.Replace;let S=pS(v.location,x,w);d=p();let E=Hk(S,d),T=v.createHref(S);s.replaceState(E,"",T),a&&c&&c({action:o,location:v.location,delta:0})}function b(x){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:am(x);return S=S.replace(/ $/,"%20"),Zt(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let v={get action(){return o},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Wk,h),c=x,()=>{i.removeEventListener(Wk,h),c=null}},createHref(x){return e(i,x)},createURL:b,encodeLocation(x){let w=b(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:g,go(x){return s.go(x)}};return v}var Kk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kk||(Kk={}));function bz(t,e,r){return r===void 0&&(r="/"),wz(t,e,r)}function wz(t,e,r,n){let i=typeof e=="string"?Xc(e):e,a=HE(i.pathname||"/",r);if(a==null)return null;let s=v4(t);_z(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=Iz(a);o=Nz(s[c],d)}return o}function v4(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=xs([n,c.relativePath]),p=r.concat(c);a.children&&a.children.length>0&&(Zt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),v4(a.children,e,p,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:kz(d,a.index),routesMeta:p})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of x4(a.path))i(a,s,c)}),e}function x4(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=x4(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function _z(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Pz(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Sz=/^:[\w-]+$/,Ez=3,jz=2,Az=1,Tz=10,Oz=-2,Gk=t=>t==="*";function kz(t,e){let r=t.split("/"),n=r.length;return r.some(Gk)&&(n+=Oz),e&&(n+=jz),r.filter(i=>!Gk(i)).reduce((i,a)=>i+(Sz.test(a)?Ez:a===""?Az:Tz),n)}function Pz(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Nz(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",h=Cz({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),m=c.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:xs([a,h.pathname]),pathnameBase:$z(xs([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=xs([a,h.pathnameBase]))}return s}function Cz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Rz(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,p,h)=>{let{paramName:m,isOptional:g}=p;if(m==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const b=o[h];return g&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function Rz(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),WE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Iz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function HE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Dz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mz=t=>Dz.test(t);function Lz(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Xc(t):t,a;if(r)if(Mz(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),WE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=Qk(r.substring(1),"/"):a=Qk(r,e)}else a=e;return{pathname:a,search:Uz(n),hash:Bz(i)}}function Qk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function A0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fz(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KE(t,e){let r=Fz(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function GE(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Xc(t):(i=Fd({},t),Zt(!i.pathname||!i.pathname.includes("?"),A0("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),A0("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),A0("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?e[h]:"/"}let c=Lz(i,o),d=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const xs=t=>t.join("/").replace(/\/\/+/g,"/"),$z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Uz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Bz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const b4=["post","put","patch","delete"];new Set(b4);const zz=["get",...b4];new Set(zz);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$d.apply(this,arguments)}const QE=M.createContext(null),Vz=M.createContext(null),js=M.createContext(null),Dg=M.createContext(null),Ta=M.createContext({outlet:null,matches:[],isDataRoute:!1}),w4=M.createContext(null);function Wz(t,e){let{relative:r}=e===void 0?{}:e;Jc()||Zt(!1);let{basename:n,navigator:i}=M.useContext(js),{hash:a,pathname:s,search:o}=S4(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:xs([n,s])),i.createHref({pathname:c,search:o,hash:a})}function Jc(){return M.useContext(Dg)!=null}function Qo(){return Jc()||Zt(!1),M.useContext(Dg).location}function _4(t){M.useContext(js).static||M.useLayoutEffect(t)}function Bi(){let{isDataRoute:t}=M.useContext(Ta);return t?aV():Hz()}function Hz(){Jc()||Zt(!1);let t=M.useContext(QE),{basename:e,future:r,navigator:n}=M.useContext(js),{matches:i}=M.useContext(Ta),{pathname:a}=Qo(),s=JSON.stringify(KE(i,r.v7_relativeSplatPath)),o=M.useRef(!1);return _4(()=>{o.current=!0}),M.useCallback(function(d,p){if(p===void 0&&(p={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=GE(d,JSON.parse(s),a,p.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xs([e,h.pathname])),(p.replace?n.replace:n.push)(h,p.state,p)},[e,n,s,a,t])}function Kz(){let{matches:t}=M.useContext(Ta),e=t[t.length-1];return e?e.params:{}}function S4(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=M.useContext(js),{matches:i}=M.useContext(Ta),{pathname:a}=Qo(),s=JSON.stringify(KE(i,n.v7_relativeSplatPath));return M.useMemo(()=>GE(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function Gz(t,e){return Qz(t,e)}function Qz(t,e,r,n){Jc()||Zt(!1);let{navigator:i}=M.useContext(js),{matches:a}=M.useContext(Ta),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=Qo(),p;if(e){var h;let x=typeof e=="string"?Xc(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Zt(!1),p=x}else p=d;let m=p.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=bz(t,{pathname:g}),v=eV(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:xs([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:xs([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&v?M.createElement(Dg.Provider,{value:{location:$d({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:ms.Pop}},v):v}function Yz(){let t=iV(),e=qz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:i},r):null,null)}const Xz=M.createElement(Yz,null);class Jz extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?M.createElement(Ta.Provider,{value:this.props.routeContext},M.createElement(w4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zz(t){let{routeContext:e,match:r,children:n}=t,i=M.useContext(QE);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Ta.Provider,{value:e},n)}function eV(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let p=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);p>=0||Zt(!1),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let h=s[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=p),h.route.id){let{loaderData:m,errors:g}=r,b=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,h,m)=>{let g,b=!1,v=null,x=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Xz,c&&(d<0&&m===0?(sV("route-fallback"),b=!0,x=null):d===m&&(b=!0,x=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,m+1)),S=()=>{let E;return g?E=v:b?E=x:h.route.Component?E=M.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=p,M.createElement(Zz,{match:h,routeContext:{outlet:p,matches:w,isDataRoute:r!=null},children:E})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?M.createElement(Jz,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var E4=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(E4||{}),j4=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(j4||{});function tV(t){let e=M.useContext(QE);return e||Zt(!1),e}function rV(t){let e=M.useContext(Vz);return e||Zt(!1),e}function nV(t){let e=M.useContext(Ta);return e||Zt(!1),e}function A4(t){let e=nV(),r=e.matches[e.matches.length-1];return r.route.id||Zt(!1),r.route.id}function iV(){var t;let e=M.useContext(w4),r=rV(),n=A4();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function aV(){let{router:t}=tV(E4.UseNavigateStable),e=A4(j4.UseNavigateStable),r=M.useRef(!1);return _4(()=>{r.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$d({fromRouteId:e},a)))},[t,e])}const Yk={};function sV(t,e,r){Yk[t]||(Yk[t]=!0)}function oV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ki(t){let{to:e,replace:r,state:n,relative:i}=t;Jc()||Zt(!1);let{future:a,static:s}=M.useContext(js),{matches:o}=M.useContext(Ta),{pathname:c}=Qo(),d=Bi(),p=GE(e,KE(o,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(p);return M.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:i}),[d,h,i,r,n]),null}function Mt(t){Zt(!1)}function lV(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ms.Pop,navigator:a,static:s=!1,future:o}=t;Jc()&&Zt(!1);let c=e.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:a,static:s,future:$d({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=Xc(n));let{pathname:p="/",search:h="",hash:m="",state:g=null,key:b="default"}=n,v=M.useMemo(()=>{let x=HE(p,c);return x==null?null:{location:{pathname:x,search:h,hash:m,state:g,key:b},navigationType:i}},[c,p,h,m,g,b,i]);return v==null?null:M.createElement(js.Provider,{value:d},M.createElement(Dg.Provider,{children:r,value:v}))}function cV(t){let{children:e,location:r}=t;return Gz(mS(e),r)}new Promise(()=>{});function mS(t,e){e===void 0&&(e=[]);let r=[];return M.Children.forEach(t,(n,i)=>{if(!M.isValidElement(n))return;let a=[...e,i];if(n.type===M.Fragment){r.push.apply(r,mS(n.props.children,a));return}n.type!==Mt&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=mS(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function uV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function dV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fV(t,e){return t.button===0&&(!e||e==="_self")&&!dV(t)}function yS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function hV(t,e){let r=yS(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const pV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mV="6";try{window.__reactRouterVersion=mV}catch{}const gV="startTransition",Xk=dz[gV];function yV(t){let{basename:e,children:r,future:n,window:i}=t,a=M.useRef();a.current==null&&(a.current=yz({window:i,v5Compat:!0}));let s=a.current,[o,c]=M.useState({action:s.action,location:s.location}),{v7_startTransition:d}=n||{},p=M.useCallback(h=>{d&&Xk?Xk(()=>c(h)):c(h)},[c,d]);return M.useLayoutEffect(()=>s.listen(p),[s,p]),M.useEffect(()=>oV(n),[n]),M.createElement(lV,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const vV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=M.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:d,preventScrollReset:p,viewTransition:h}=e,m=uV(e,pV),{basename:g}=M.useContext(js),b,v=!1;if(typeof d=="string"&&xV.test(d)&&(b=d,vV))try{let E=new URL(window.location.href),T=d.startsWith("//")?new URL(E.protocol+d):new URL(d),j=HE(T.pathname,g);T.origin===E.origin&&j!=null?d=j+T.search+T.hash:v=!0}catch{}let x=Wz(d,{relative:i}),w=bV(d,{replace:s,state:o,target:c,preventScrollReset:p,relative:i,viewTransition:h});function S(E){n&&n(E),E.defaultPrevented||w(E)}return M.createElement("a",gS({},m,{href:b||x,onClick:v||a?n:S,ref:r,target:c}))});var Jk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jk||(Jk={}));var Zk;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zk||(Zk={}));function bV(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,c=Bi(),d=Qo(),p=S4(t,{relative:s});return M.useCallback(h=>{if(fV(h,r)){h.preventDefault();let m=n!==void 0?n:am(d)===am(p);c(t,{replace:m,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[d,c,p,n,i,r,t,a,s,o])}function wV(t){let e=M.useRef(yS(t)),r=M.useRef(!1),n=Qo(),i=M.useMemo(()=>hV(n.search,r.current?null:e.current),[n.search]),a=Bi(),s=M.useCallback((o,c)=>{const d=yS(typeof o=="function"?o(i):o);r.current=!0,a("?"+d,c)},[a,i]);return[i,s]}var Mg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_V={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},cs,zE,o4,SV=(o4=class{constructor(){ut(this,cs,_V);ut(this,zE,!1)}setTimeoutProvider(t){et(this,cs,t)}setTimeout(t,e){return fe(this,cs).setTimeout(t,e)}clearTimeout(t){fe(this,cs).clearTimeout(t)}setInterval(t,e){return fe(this,cs).setInterval(t,e)}clearInterval(t){fe(this,cs).clearInterval(t)}},cs=new WeakMap,zE=new WeakMap,o4),vS=new SV;function EV(t){setTimeout(t,0)}var Lg=typeof window>"u"||"Deno"in globalThis;function oi(){}function jV(t,e){return typeof t=="function"?t(e):t}function AV(t){return typeof t=="number"&&t>=0&&t!==1/0}function TV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xS(t,e){return typeof t=="function"?t(e):t}function OV(t,e){return typeof t=="function"?t(e):t}function eP(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(n){if(e.queryHash!==YE(s,e.options))return!1}else if(!Bd(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function tP(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ud(e.options.mutationKey)!==Ud(a))return!1}else if(!Bd(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function YE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ud)(t)}function Ud(t){return JSON.stringify(t,(e,r)=>bS(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Bd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Bd(t[r],e[r])):!1}var kV=Object.prototype.hasOwnProperty;function T4(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=rP(t)&&rP(e);if(!n&&!(bS(t)&&bS(e)))return e;const a=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,c=n?new Array(o):{};let d=0;for(let p=0;p<o;p++){const h=n?p:s[p],m=t[h],g=e[h];if(m===g){c[h]=m,(n?p<a:kV.call(t,h))&&d++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){c[h]=g;continue}const b=T4(m,g,r+1);c[h]=b,b===m&&d++}return a===o&&d===a?t:c}function rP(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bS(t){if(!nP(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!nP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nP(t){return Object.prototype.toString.call(t)==="[object Object]"}function PV(t){return new Promise(e=>{vS.setTimeout(e,t)})}function NV(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?T4(t,e):e}function CV(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function RV(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var XE=Symbol();function O4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===XE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function IV(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var jo,us,lc,l4,DV=(l4=class extends Mg{constructor(){super();ut(this,jo);ut(this,us);ut(this,lc);et(this,lc,e=>{if(!Lg&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){fe(this,us)||this.setEventListener(fe(this,lc))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,us))==null||e.call(this),et(this,us,void 0))}setEventListener(e){var r;et(this,lc,e),(r=fe(this,us))==null||r.call(this),et(this,us,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){fe(this,jo)!==e&&(et(this,jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof fe(this,jo)=="boolean"?fe(this,jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jo=new WeakMap,us=new WeakMap,lc=new WeakMap,l4),k4=new DV;function MV(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var LV=EV;function FV(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=LV;const a=o=>{e?t.push(o):i(()=>{r(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Zr=FV(),cc,ds,uc,c4,$V=(c4=class extends Mg{constructor(){super();ut(this,cc,!0);ut(this,ds);ut(this,uc);et(this,uc,e=>{if(!Lg&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){fe(this,ds)||this.setEventListener(fe(this,uc))}onUnsubscribe(){var e;this.hasListeners()||((e=fe(this,ds))==null||e.call(this),et(this,ds,void 0))}setEventListener(e){var r;et(this,uc,e),(r=fe(this,ds))==null||r.call(this),et(this,ds,e(this.setOnline.bind(this)))}setOnline(e){fe(this,cc)!==e&&(et(this,cc,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return fe(this,cc)}},cc=new WeakMap,ds=new WeakMap,uc=new WeakMap,c4),sm=new $V;function UV(t){return Math.min(1e3*2**t,3e4)}function P4(t){return(t??"online")==="online"?sm.isOnline():!0}var wS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function N4(t){let e=!1,r=0,n;const i=MV(),a=()=>i.status!=="pending",s=v=>{var x;if(!a()){const w=new wS(v);m(w),(x=t.onCancel)==null||x.call(t,w)}},o=()=>{e=!0},c=()=>{e=!1},d=()=>k4.isFocused()&&(t.networkMode==="always"||sm.isOnline())&&t.canRun(),p=()=>P4(t.networkMode)&&t.canRun(),h=v=>{a()||(n==null||n(),i.resolve(v))},m=v=>{a()||(n==null||n(),i.reject(v))},g=()=>new Promise(v=>{var x;n=w=>{(a()||d())&&v(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;n=void 0,a()||(v=t.onContinue)==null||v.call(t)}),b=()=>{if(a())return;let v;const x=r===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{var O;if(a())return;const S=t.retry??(Lg?0:3),E=t.retryDelay??UV,T=typeof E=="function"?E(r,w):E,j=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(e||!j){m(w);return}r++,(O=t.onFail)==null||O.call(t,r,w),PV(T).then(()=>d()?void 0:g()).then(()=>{e?m(w):b()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:p,start:()=>(p()?b():g().then(b),i)}}var Ao,u4,C4=(u4=class{constructor(){ut(this,Ao)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AV(this.gcTime)&&et(this,Ao,vS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Lg?1/0:300*1e3))}clearGcTimeout(){fe(this,Ao)&&(vS.clearTimeout(fe(this,Ao)),et(this,Ao,void 0))}},Ao=new WeakMap,u4),To,dc,Mn,Oo,br,Ff,ko,li,aa,d4,BV=(d4=class extends C4{constructor(e){super();ut(this,li);ut(this,To);ut(this,dc);ut(this,Mn);ut(this,Oo);ut(this,br);ut(this,Ff);ut(this,ko);et(this,ko,!1),et(this,Ff,e.defaultOptions),this.setOptions(e.options),this.observers=[],et(this,Oo,e.client),et(this,Mn,fe(this,Oo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,et(this,To,aP(this.options)),this.state=e.state??fe(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=fe(this,br))==null?void 0:e.promise}setOptions(e){if(this.options={...fe(this,Ff),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=aP(this.options);r.data!==void 0&&(this.setState(iP(r.data,r.dataUpdatedAt)),et(this,To,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&fe(this,Mn).remove(this)}setData(e,r){const n=NV(this.state.data,e,this.options);return Lr(this,li,aa).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Lr(this,li,aa).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=fe(this,br))==null?void 0:n.promise;return(i=fe(this,br))==null||i.cancel(e),r?r.then(oi).catch(oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(fe(this,To))}isActive(){return this.observers.some(e=>OV(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===XE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xS(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=fe(this,br))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=fe(this,br))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),fe(this,Mn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(fe(this,br)&&(fe(this,ko)?fe(this,br).cancel({revert:!0}):fe(this,br).cancelRetry()),this.scheduleGc()),fe(this,Mn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lr(this,li,aa).call(this,{type:"invalidate"})}async fetch(e,r){var c,d,p,h,m,g,b,v,x,w,S,E;if(this.state.fetchStatus!=="idle"&&((c=fe(this,br))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(fe(this,br))return fe(this,br).continueRetry(),fe(this,br).promise}if(e&&this.setOptions(e),!this.options.queryFn){const T=this.observers.find(j=>j.options.queryFn);T&&this.setOptions(T.options)}const n=new AbortController,i=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(et(this,ko,!0),n.signal)})},a=()=>{const T=O4(this.options,r),O=(()=>{const N={client:fe(this,Oo),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return et(this,ko,!1),this.options.persister?this.options.persister(T,O,this):T(O)},o=(()=>{const T={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:fe(this,Oo),state:this.state,fetchFn:a};return i(T),T})();(d=this.options.behavior)==null||d.onFetch(o,this),et(this,dc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=o.fetchOptions)==null?void 0:p.meta))&&Lr(this,li,aa).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),et(this,br,N4({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:T=>{T instanceof wS&&T.revert&&this.setState({...fe(this,dc),fetchStatus:"idle"}),n.abort()},onFail:(T,j)=>{Lr(this,li,aa).call(this,{type:"failed",failureCount:T,error:j})},onPause:()=>{Lr(this,li,aa).call(this,{type:"pause"})},onContinue:()=>{Lr(this,li,aa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const T=await fe(this,br).start();if(T===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(T),(g=(m=fe(this,Mn).config).onSuccess)==null||g.call(m,T,this),(v=(b=fe(this,Mn).config).onSettled)==null||v.call(b,T,this.state.error,this),T}catch(T){if(T instanceof wS){if(T.silent)return fe(this,br).promise;if(T.revert){if(this.state.data===void 0)throw T;return this.state.data}}throw Lr(this,li,aa).call(this,{type:"error",error:T}),(w=(x=fe(this,Mn).config).onError)==null||w.call(x,T,this),(E=(S=fe(this,Mn).config).onSettled)==null||E.call(S,this.state.data,T,this),T}finally{this.scheduleGc()}}},To=new WeakMap,dc=new WeakMap,Mn=new WeakMap,Oo=new WeakMap,br=new WeakMap,Ff=new WeakMap,ko=new WeakMap,li=new WeakSet,aa=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...iP(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return et(this,dc,e.manual?i:void 0),i;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Zr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),fe(this,Mn).notify({query:this,type:"updated",action:e})})},d4);function qV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iP(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function aP(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function sP(t){return{onFetch:(e,r)=>{var p,h,m,g,b;const n=e.options,i=(m=(h=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],s=((b=e.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const x=E=>{IV(E,()=>e.signal,()=>v=!0)},w=O4(e.options,e.fetchOptions),S=async(E,T,j)=>{if(v)return Promise.reject();if(T==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const U={client:e.client,queryKey:e.queryKey,pageParam:T,direction:j?"backward":"forward",meta:e.options.meta};return x(U),U})(),R=await w(N),{maxPages:I}=e.options,q=j?RV:CV;return{pages:q(E.pages,R,I),pageParams:q(E.pageParams,T,I)}};if(i&&a.length){const E=i==="backward",T=E?zV:oP,j={pages:a,pageParams:s},O=T(n,j);o=await S(j,O,E)}else{const E=t??a.length;do{const T=c===0?s[0]??n.initialPageParam:oP(n,o);if(c>0&&T==null)break;o=await S(o,T),c++}while(c<E)}return o};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function oP(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function zV(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var $f,Ai,Fr,Po,Ti,ts,f4,VV=(f4=class extends C4{constructor(e){super();ut(this,Ti);ut(this,$f);ut(this,Ai);ut(this,Fr);ut(this,Po);et(this,$f,e.client),this.mutationId=e.mutationId,et(this,Fr,e.mutationCache),et(this,Ai,[]),this.state=e.state||WV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){fe(this,Ai).includes(e)||(fe(this,Ai).push(e),this.clearGcTimeout(),fe(this,Fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){et(this,Ai,fe(this,Ai).filter(r=>r!==e)),this.scheduleGc(),fe(this,Fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){fe(this,Ai).length||(this.state.status==="pending"?this.scheduleGc():fe(this,Fr).remove(this))}continue(){var e;return((e=fe(this,Po))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,c,d,p,h,m,g,b,v,x,w,S,E,T,j,O,N;const r=()=>{Lr(this,Ti,ts).call(this,{type:"continue"})},n={client:fe(this,$f),meta:this.options.meta,mutationKey:this.options.mutationKey};et(this,Po,N4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(R,I)=>{Lr(this,Ti,ts).call(this,{type:"failed",failureCount:R,error:I})},onPause:()=>{Lr(this,Ti,ts).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>fe(this,Fr).canRun(this)}));const i=this.state.status==="pending",a=!fe(this,Po).canStart();try{if(i)r();else{Lr(this,Ti,ts).call(this,{type:"pending",variables:e,isPaused:a}),fe(this,Fr).config.onMutate&&await fe(this,Fr).config.onMutate(e,this,n);const I=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e,n));I!==this.state.context&&Lr(this,Ti,ts).call(this,{type:"pending",context:I,variables:e,isPaused:a})}const R=await fe(this,Po).start();return await((d=(c=fe(this,Fr).config).onSuccess)==null?void 0:d.call(c,R,e,this.state.context,this,n)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,R,e,this.state.context,n)),await((g=(m=fe(this,Fr).config).onSettled)==null?void 0:g.call(m,R,null,this.state.variables,this.state.context,this,n)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,R,null,e,this.state.context,n)),Lr(this,Ti,ts).call(this,{type:"success",data:R}),R}catch(R){try{await((w=(x=fe(this,Fr).config).onError)==null?void 0:w.call(x,R,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((E=(S=this.options).onError)==null?void 0:E.call(S,R,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((j=(T=fe(this,Fr).config).onSettled)==null?void 0:j.call(T,void 0,R,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((N=(O=this.options).onSettled)==null?void 0:N.call(O,void 0,R,e,this.state.context,n))}catch(I){Promise.reject(I)}throw Lr(this,Ti,ts).call(this,{type:"error",error:R}),R}finally{fe(this,Fr).runNext(this)}}},$f=new WeakMap,Ai=new WeakMap,Fr=new WeakMap,Po=new WeakMap,Ti=new WeakSet,ts=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zr.batch(()=>{fe(this,Ai).forEach(n=>{n.onMutationUpdate(e)}),fe(this,Fr).notify({mutation:this,type:"updated",action:e})})},f4);function WV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ca,ci,Uf,h4,HV=(h4=class extends Mg{constructor(e={}){super();ut(this,ca);ut(this,ci);ut(this,Uf);this.config=e,et(this,ca,new Set),et(this,ci,new Map),et(this,Uf,0)}build(e,r,n){const i=new VV({client:e,mutationCache:this,mutationId:++dp(this,Uf)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){fe(this,ca).add(e);const r=pp(e);if(typeof r=="string"){const n=fe(this,ci).get(r);n?n.push(e):fe(this,ci).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(fe(this,ca).delete(e)){const r=pp(e);if(typeof r=="string"){const n=fe(this,ci).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&fe(this,ci).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=pp(e);if(typeof r=="string"){const n=fe(this,ci).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=pp(e);if(typeof r=="string"){const i=(n=fe(this,ci).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zr.batch(()=>{fe(this,ca).forEach(e=>{this.notify({type:"removed",mutation:e})}),fe(this,ca).clear(),fe(this,ci).clear()})}getAll(){return Array.from(fe(this,ca))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>tP(r,n))}findAll(e={}){return this.getAll().filter(r=>tP(e,r))}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Zr.batch(()=>Promise.all(e.map(r=>r.continue().catch(oi))))}},ca=new WeakMap,ci=new WeakMap,Uf=new WeakMap,h4);function pp(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Oi,p4,KV=(p4=class extends Mg{constructor(e={}){super();ut(this,Oi);this.config=e,et(this,Oi,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??YE(i,r);let s=this.get(a);return s||(s=new BV({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){fe(this,Oi).has(e.queryHash)||(fe(this,Oi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=fe(this,Oi).get(e.queryHash);r&&(e.destroy(),r===e&&fe(this,Oi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return fe(this,Oi).get(e)}getAll(){return[...fe(this,Oi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>eP(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>eP(e,n)):r}notify(e){Zr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oi=new WeakMap,p4),Wt,fs,hs,fc,hc,ps,pc,mc,m4,GV=(m4=class{constructor(t={}){ut(this,Wt);ut(this,fs);ut(this,hs);ut(this,fc);ut(this,hc);ut(this,ps);ut(this,pc);ut(this,mc);et(this,Wt,t.queryCache||new KV),et(this,fs,t.mutationCache||new HV),et(this,hs,t.defaultOptions||{}),et(this,fc,new Map),et(this,hc,new Map),et(this,ps,0)}mount(){dp(this,ps)._++,fe(this,ps)===1&&(et(this,pc,k4.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Wt).onFocus())})),et(this,mc,sm.subscribe(async t=>{t&&(await this.resumePausedMutations(),fe(this,Wt).onOnline())})))}unmount(){var t,e;dp(this,ps)._--,fe(this,ps)===0&&((t=fe(this,pc))==null||t.call(this),et(this,pc,void 0),(e=fe(this,mc))==null||e.call(this),et(this,mc,void 0))}isFetching(t){return fe(this,Wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return fe(this,fs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=fe(this,Wt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=fe(this,Wt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(xS(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return fe(this,Wt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=fe(this,Wt).get(n.queryHash),a=i==null?void 0:i.state.data,s=jV(e,a);if(s!==void 0)return fe(this,Wt).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Zr.batch(()=>fe(this,Wt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=fe(this,Wt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=fe(this,Wt);Zr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=fe(this,Wt);return Zr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Zr.batch(()=>fe(this,Wt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(oi).catch(oi)}invalidateQueries(t,e={}){return Zr.batch(()=>(fe(this,Wt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Zr.batch(()=>fe(this,Wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(oi)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(oi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=fe(this,Wt).build(this,e);return r.isStaleByTime(xS(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oi).catch(oi)}fetchInfiniteQuery(t){return t.behavior=sP(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oi).catch(oi)}ensureInfiniteQueryData(t){return t.behavior=sP(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sm.isOnline()?fe(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return fe(this,Wt)}getMutationCache(){return fe(this,fs)}getDefaultOptions(){return fe(this,hs)}setDefaultOptions(t){et(this,hs,t)}setQueryDefaults(t,e){fe(this,fc).set(Ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...fe(this,fc).values()],r={};return e.forEach(n=>{Bd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){fe(this,hc).set(Ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...fe(this,hc).values()],r={};return e.forEach(n=>{Bd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...fe(this,hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===XE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...fe(this,hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){fe(this,Wt).clear(),fe(this,fs).clear()}},Wt=new WeakMap,fs=new WeakMap,hs=new WeakMap,fc=new WeakMap,hc=new WeakMap,ps=new WeakMap,pc=new WeakMap,mc=new WeakMap,m4),QV=M.createContext(void 0),YV=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(QV.Provider,{value:t,children:e}));let XV={data:""},JV=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||XV},ZV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eW=/\/\*[^]*?\*\/|  +/g,lP=/\n+/g,ss=(t,e)=>{let r="",n="",i="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?ss(s,a):a+"{"+ss(s,a[1]=="k"?"":e)+"}":typeof s=="object"?n+=ss(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ss.p?ss.p(a,s):a+":"+s+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Ji={},R4=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+R4(t[r]);return e}return t},tW=(t,e,r,n,i)=>{let a=R4(t),s=Ji[a]||(Ji[a]=(c=>{let d=0,p=11;for(;d<c.length;)p=101*p+c.charCodeAt(d++)>>>0;return"go"+p})(a));if(!Ji[s]){let c=a!==t?t:(d=>{let p,h,m=[{}];for(;p=ZV.exec(d.replace(eW,""));)p[4]?m.shift():p[3]?(h=p[3].replace(lP," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][p[1]]=p[2].replace(lP," ").trim();return m[0]})(t);Ji[s]=ss(i?{["@keyframes "+s]:c}:c,r?"":"."+s)}let o=r&&Ji.g?Ji.g:null;return r&&(Ji.g=Ji[s]),((c,d,p,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=p?c+d.data:d.data+c)})(Ji[s],e,n,o),s},rW=(t,e,r)=>t.reduce((n,i,a)=>{let s=e[a];if(s&&s.call){let o=s(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":ss(o,""):o===!1?"":o}return n+i+(s??"")},"");function Fg(t){let e=this||{},r=t.call?t(e.p):t;return tW(r.unshift?r.raw?rW(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,JV(e.target),e.g,e.o,e.k)}let I4,_S,SS;Fg.bind({g:1});let ba=Fg.bind({k:1});function nW(t,e,r,n){ss.p=e,I4=t,_S=r,SS=n}function As(t,e){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),c=o.className||i.className;r.p=Object.assign({theme:_S&&_S()},o),r.o=/ *go\d+/.test(c),o.className=Fg.apply(r,n)+(c?" "+c:"");let d=t;return t[0]&&(d=o.as||t,delete o.as),SS&&d[0]&&SS(o),I4(d,o)}return i}}var iW=t=>typeof t=="function",om=(t,e)=>iW(t)?t(e):t,aW=(()=>{let t=0;return()=>(++t).toString()})(),D4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),sW=20,JE="default",M4=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return M4(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Qp=[],L4={toasts:[],pausedAt:void 0,settings:{toastLimit:sW}},Pi={},F4=(t,e=JE)=>{Pi[e]=M4(Pi[e]||L4,t),Qp.forEach(([r,n])=>{r===e&&n(Pi[e])})},$4=t=>Object.keys(Pi).forEach(e=>F4(t,e)),oW=t=>Object.keys(Pi).find(e=>Pi[e].toasts.some(r=>r.id===t)),$g=(t=JE)=>e=>{F4(e,t)},lW={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cW=(t={},e=JE)=>{let[r,n]=M.useState(Pi[e]||L4),i=M.useRef(Pi[e]);M.useEffect(()=>(i.current!==Pi[e]&&n(Pi[e]),Qp.push([e,n]),()=>{let s=Qp.findIndex(([o])=>o===e);s>-1&&Qp.splice(s,1)}),[e]);let a=r.toasts.map(s=>{var o,c,d;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||lW[s.type],style:{...t.style,...(d=t[s.type])==null?void 0:d.style,...s.style}}});return{...r,toasts:a}},uW=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||aW()}),Bf=t=>(e,r)=>{let n=uW(e,t,r);return $g(n.toasterId||oW(n.id))({type:2,toast:n}),n.id},Qt=(t,e)=>Bf("blank")(t,e);Qt.error=Bf("error");Qt.success=Bf("success");Qt.loading=Bf("loading");Qt.custom=Bf("custom");Qt.dismiss=(t,e)=>{let r={type:3,toastId:t};e?$g(e)(r):$4(r)};Qt.dismissAll=t=>Qt.dismiss(void 0,t);Qt.remove=(t,e)=>{let r={type:4,toastId:t};e?$g(e)(r):$4(r)};Qt.removeAll=t=>Qt.remove(void 0,t);Qt.promise=(t,e,r)=>{let n=Qt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?om(e.success,i):void 0;return a?Qt.success(a,{id:n,...r,...r==null?void 0:r.success}):Qt.dismiss(n),i}).catch(i=>{let a=e.error?om(e.error,i):void 0;a?Qt.error(a,{id:n,...r,...r==null?void 0:r.error}):Qt.dismiss(n)}),t};var dW=1e3,fW=(t,e="default")=>{let{toasts:r,pausedAt:n}=cW(t,e),i=M.useRef(new Map).current,a=M.useCallback((h,m=dW)=>{if(i.has(h))return;let g=setTimeout(()=>{i.delete(h),s({type:4,toastId:h})},m);i.set(h,g)},[]);M.useEffect(()=>{if(n)return;let h=Date.now(),m=r.map(g=>{if(g.duration===1/0)return;let b=(g.duration||0)+g.pauseDuration-(h-g.createdAt);if(b<0){g.visible&&Qt.dismiss(g.id);return}return setTimeout(()=>Qt.dismiss(g.id,e),b)});return()=>{m.forEach(g=>g&&clearTimeout(g))}},[r,n,e]);let s=M.useCallback($g(e),[e]),o=M.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=M.useCallback((h,m)=>{s({type:1,toast:{id:h,height:m}})},[s]),d=M.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),p=M.useCallback((h,m)=>{let{reverseOrder:g=!1,gutter:b=8,defaultPosition:v}=m||{},x=r.filter(E=>(E.position||v)===(h.position||v)&&E.height),w=x.findIndex(E=>E.id===h.id),S=x.filter((E,T)=>T<w&&E.visible).length;return x.filter(E=>E.visible).slice(...g?[S+1]:[0,S]).reduce((E,T)=>E+(T.height||0)+b,0)},[r]);return M.useEffect(()=>{r.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let m=i.get(h.id);m&&(clearTimeout(m),i.delete(h.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:p}}},hW=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pW=ba`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mW=ba`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gW=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pW} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mW} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yW=ba`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vW=As("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yW} 1s linear infinite;
`,xW=ba`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bW=ba`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wW=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xW} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bW} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_W=As("div")`
  position: absolute;
`,SW=As("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,EW=ba`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jW=As("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${EW} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AW=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?M.createElement(jW,null,e):e:r==="blank"?null:M.createElement(SW,null,M.createElement(vW,{...n}),r!=="loading"&&M.createElement(_W,null,r==="error"?M.createElement(gW,{...n}):M.createElement(wW,{...n})))},TW=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,OW=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,kW="0%{opacity:0;} 100%{opacity:1;}",PW="0%{opacity:1;} 100%{opacity:0;}",NW=As("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,CW=As("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,RW=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=D4()?[kW,PW]:[TW(r),OW(r)];return{animation:e?`${ba(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ba(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},IW=M.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?RW(t.position||e||"top-center",t.visible):{opacity:0},a=M.createElement(AW,{toast:t}),s=M.createElement(CW,{...t.ariaProps},om(t.message,t));return M.createElement(NW,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:s}):M.createElement(M.Fragment,null,a,s))});nW(M.createElement);var DW=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=M.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;n(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return M.createElement("div",{ref:a,className:e,style:r},i)},MW=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:D4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},LW=Fg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mp=16,FW=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:d}=fW(r,a);return M.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:mp,left:mp,right:mp,bottom:mp,pointerEvents:"none",...s},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(p=>{let h=p.position||e,m=d.calculateOffset(p,{reverseOrder:t,gutter:n,defaultPosition:e}),g=MW(h,m);return M.createElement(DW,{id:p.id,key:p.id,onHeightUpdate:d.updateHeight,className:p.visible?LW:"",style:g},p.type==="custom"?om(p.message,p):i?i(p):M.createElement(IW,{toast:p,position:h}))}))},ke=Qt;function Ug(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ts(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{d(n.next(p))}catch(h){s(h)}}function c(p){try{d(n.throw(p))}catch(h){s(h)}}function d(p){p.done?a(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})}const $W=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ZE extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class UW extends ZE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class cP extends ZE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class uP extends ZE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ES;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ES||(ES={}));class BW{constructor(e,{headers:r={},customFetch:n,region:i=ES.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=$W(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ts(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:c,body:d,signal:p,timeout:h}=n;let m={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let v;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=d):typeof d=="string"?(m["Content-Type"]="text/plain",v=d):typeof FormData<"u"&&d instanceof FormData?v=d:(m["Content-Type"]="application/json",v=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?v=JSON.stringify(d):v=d;let x=p;h&&(s=new AbortController,a=setTimeout(()=>s.abort(),h),p?(x=s.signal,p.addEventListener("abort",()=>s.abort())):x=s.signal);const w=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:v,signal:x}).catch(j=>{throw new UW(j)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new cP(w);if(!w.ok)throw new uP(w);let E=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield w.json():E==="application/octet-stream"||E==="application/pdf"?T=yield w.blob():E==="text/event-stream"?T=w:E==="multipart/form-data"?T=yield w.formData():T=yield w.text(),{data:T,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof uP||o instanceof cP?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var qW=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},zW=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,c=null,d=a.status,p=a.statusText;if(a.ok){var h,m;if(r.method!=="HEAD"){var g;const w=await a.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),x=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");v&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,d=406,p="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var b;const v=await a.text();try{s=JSON.parse(v),Array.isArray(s)&&a.status===404&&(o=[],s=null,d=200,p="OK")}catch{a.status===404&&v===""?(d=204,p="No Content"):s={message:v}}if(s&&r.isMaybeSingle&&(!(s==null||(b=s.details)===null||b===void 0)&&b.includes("0 rows"))&&(s=null,d=200,p="OK"),s&&r.shouldThrowOnError)throw new qW(s)}return{error:s,data:o,count:c,status:d,statusText:p}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const c=a==null?void 0:a.cause;if(c){var d,p,h,m;const b=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",v=(p=c==null?void 0:c.code)!==null&&p!==void 0?p:"";o=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${b}`,v&&(o+=` (${v})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var g;o=(g=a==null?void 0:a.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},VW=class extends zW{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const dP=new RegExp("[,()]");var Fl=class extends VW{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&dP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&dP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},WW=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Fl({method:i,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),r||s.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(o.length>0){const c=[...new Set(o)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new Fl({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((p,h)=>p.concat(Object.keys(h)),[]);if(d.length>0){const p=[...new Set(d)].map(h=>`"${h}"`);o.searchParams.set("columns",p.join(","))}}return new Fl({method:s,url:o,headers:c,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Fl({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Fl({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},HW=class U4{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new WW(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new U4(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${e}`);let d;const p=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(p)),h=n&&Object.values(r).some(p);h?(o="POST",d=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{c.searchParams.append(g,b)})):(o="POST",d=r);const m=new Headers(this.headers);return h?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new Fl({method:o,url:c,headers:m,schema:this.schemaName,body:d,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class KW{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const GW="2.93.1",QW=`realtime-js/${GW}`,YW="1.0.0",B4="2.0.0",fP=B4,jS=1e4,XW=1e3,JW=100;var is;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(is||(is={}));var fr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fr||(fr={}));var ui;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ui||(ui={}));var AS;(function(t){t.websocket="websocket"})(AS||(AS={}));var uo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(uo||(uo={}));class ZW{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,r,n){var i,a;const s=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",d=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(p).length===0?"":JSON.stringify(p);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+d.length+h.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let b=new DataView(g),v=0;b.setUint8(v++,this.KINDS.userBroadcastPush),b.setUint8(v++,c.length),b.setUint8(v++,o.length),b.setUint8(v++,s.length),b.setUint8(v++,d.length),b.setUint8(v++,h.length),b.setUint8(v++,r),Array.from(c,w=>b.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>b.setUint8(v++,w.charCodeAt(0))),Array.from(s,w=>b.setUint8(v++,w.charCodeAt(0))),Array.from(d,w=>b.setUint8(v++,w.charCodeAt(0))),Array.from(h,w=>b.setUint8(v++,w.charCodeAt(0)));var x=new Uint8Array(g.byteLength+n.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(n),g.byteLength),x.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,s,o,c]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const d=n.decode(e.slice(c,c+i));c=c+i;const p=n.decode(e.slice(c,c+a));c=c+a;const h=n.decode(e.slice(c,c+s));c=c+s;const m=e.slice(c,e.byteLength),g=o===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,b={type:this.BROADCAST_EVENT,event:p,payload:g};return s>0&&(b.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class q4{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var At;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(At||(At={}));const hP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=eH(s,t,e,i),a),{}):{}},eH=(t,e,r,n)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=r[t];return a&&!n.includes(a)?z4(a,s):TS(s)},z4=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return iH(e,r)}switch(t){case At.bool:return tH(e);case At.float4:case At.float8:case At.int2:case At.int4:case At.int8:case At.numeric:case At.oid:return rH(e);case At.json:case At.jsonb:return nH(e);case At.timestamp:return aH(e);case At.abstime:case At.date:case At.daterange:case At.int4range:case At.int8range:case At.money:case At.reltime:case At.text:case At.time:case At.timestamptz:case At.timetz:case At.tsrange:case At.tstzrange:return TS(e);default:return TS(e)}},TS=t=>t,tH=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},rH=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nH=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},iH=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const s=t.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>z4(e,o))}return t},aH=t=>typeof t=="string"?t.replace(" ","T"):t,V4=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class T0{constructor(e,r,n={},i=jS){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(pP||(pP={}));class Sd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sd.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Sd.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Sd.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),s=this.transformState(r),o={},c={};return this.map(a,(d,p)=>{s[d]||(c[d]=p)}),this.map(s,(d,p)=>{const h=a[d];if(h){const m=p.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),b=p.filter(x=>g.indexOf(x.presence_ref)<0),v=h.filter(x=>m.indexOf(x.presence_ref)<0);b.length>0&&(o[d]=b),v.length>0&&(c[d]=v)}else o[d]=p}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var d;const p=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),p.length>0){const h=e[o].map(g=>g.presence_ref),m=p.filter(g=>h.indexOf(g.presence_ref)<0);e[o].unshift(...m)}n(o,p,c)}),this.map(s,(o,c)=>{let d=e[o];if(!d)return;const p=c.map(h=>h.presence_ref);d=d.filter(h=>p.indexOf(h.presence_ref)<0),e[o]=d,i(o,d,c),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mP||(mP={}));var Ed;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ed||(Ed={}));var sa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(sa||(sa={}));class zl{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new T0(this,ui.join,this.params,this.timeout),this.rejoinTimer=new q4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Sd(this),this.broadcastEndpointURL=V4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==fr.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,d=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Ed.PRESENCE]&&this.bindings[Ed.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},m={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:p}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(sa.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(sa.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(sa.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,w=[];for(let S=0;S<x;S++){const E=v[S],{filter:{event:T,schema:j,table:O,filter:N}}=E,R=g&&g[S];if(R&&R.event===T&&zl.isFilterValueEqual(R.schema,j)&&zl.isFilterValueEqual(R.table,O)&&zl.isFilterValueEqual(R.filter,N))w.push(Object.assign(Object.assign({},E),{id:R.id}));else{this.unsubscribe(),this.state=fr.errored,e==null||e(sa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(sa.SUBSCRIBED);return}}).receive("error",g=>{this.state=fr.errored,e==null||e(sa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(sa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===fr.joined&&e===Ed.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const d=await o.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new T0(this,ui.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>JW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:p}=ui;if(n&&[o,c,d,p].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,v,x;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(v=g.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===s}).map(g=>g.callback(m,n)):(a=this.bindings[s])===null||a===void 0||a.filter(g=>{var b,v,x,w,S,E;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const T=g.id,j=(b=g.filter)===null||b===void 0?void 0:b.event;return T&&((v=r.ids)===null||v===void 0?void 0:v.includes(T))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const T=(S=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:v,table:x,commit_timestamp:w,type:S,errors:E}=b;m=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:S,new:{},old:{},errors:E}),this._getPayloadRecords(b))}g.callback(m,n)})}_isClosed(){return this.state===fr.closed}_isJoined(){return this.state===fr.joined}_isJoining(){return this.state===fr.joining}_isLeaving(){return this.state===fr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&zl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ui.close,{},e)}_onError(e){this._on(ui.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hP(e.columns,e.old_record)),r}}const O0=()=>{},gp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sH=[1e3,2e3,5e3,1e4],oH=1e4,lH=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cH{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jS,this.transport=null,this.heartbeatIntervalMs=gp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=O0,this.ref=0,this.reconnectTimer=null,this.vsn=fP,this.logger=O0,this.conn=null,this.sendBuffer=[],this.serializer=new ZW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${AS.websocket}`,this.httpEndpoint=V4(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KW.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return uo.Connecting;case is.open:return uo.Open;case is.closing:return uo.Closing;default:return uo.Closed}}isConnected(){return this.connectionState()===uo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new zl(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(XW,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",d)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===is.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===is.open||this.conn.readyState===is.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(ui.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([lH],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:QW};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ui.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new q4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,s,o,c,d,p,h,m,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:jS,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:gp.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:O0,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:fP,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(b=>sH[b-1]||oH),this.vsn){case YW:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:((b,v)=>v(JSON.stringify(b))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((b,v)=>v(JSON.parse(b)));break;case B4:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var qd=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uH(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function dH(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function fH(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const o=uH(t.baseUrl,n,i),c=await dH(t.auth),d=await e(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),p=await d.text(),h=(d.headers.get("content-type")||"").includes("application/json"),m=h&&p?JSON.parse(p):p;if(!d.ok){const g=h?m:void 0,b=g==null?void 0:g.error;throw new qd((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:d.status,headers:d.headers,data:m}}}}function yp(t){return t.join("")}var hH=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:yp(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yp(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yp(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yp(t.namespace)}`}),!0}catch(e){if(e instanceof qd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof qd&&r.status===409)return;throw r}}};function El(t){return t.join("")}var pH=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${El(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof qd&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof qd&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},mH=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=fH({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hH(this.client,e),this.tableOps=new pH(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Bg=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function qg(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var vp=class extends Bg{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},W4=class extends Bg{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const gH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yH=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OS=t=>{if(Array.isArray(t))return t.map(r=>OS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=OS(n)}),e},vH=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function xH(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bH(t){var e=xH(t,"string");return zd(e)=="symbol"?e:e+""}function wH(t,e,r){return(e=bH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){wH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const yP=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},_H=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";e(new vp(yP(s),a,o,n))}).catch(()=>{if(n==="vectors"){const s=a+"";e(new vp(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";e(new vp(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";e(new vp(i.statusText||`HTTP ${a} error`,a,s,n))}}else e(new W4(yP(t),t,n))},SH=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?Ye(Ye({},i),r):(yH(n)?(i.headers=Ye({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Ye(Ye({},i),r))};async function Xu(t,e,r,n,i,a,s){return new Promise((o,c)=>{t(r,SH(e,n,i,a)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;if(s==="vectors"){const p=d.headers.get("content-type");if(!p||!p.includes("application/json"))return{}}return d.json()}).then(d=>o(d)).catch(d=>_H(d,c,n,s))})}function EH(t="storage"){return{get:async(e,r,n,i)=>Xu(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,a)=>Xu(e,"POST",r,i,a,n,t),put:async(e,r,n,i,a)=>Xu(e,"PUT",r,i,a,n,t),head:async(e,r,n,i)=>Xu(e,"HEAD",r,Ye(Ye({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,a)=>Xu(e,"DELETE",r,i,a,n,t)}}const jH=EH("storage"),{get:Vd,post:Lt,put:kS,head:AH,remove:ej}=jH;var Zc=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=gH(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qg(r))return{data:null,error:r};throw r}}},TH=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qg(e))return{data:null,error:e};throw e}}};let H4;H4=Symbol.toStringTag;var OH=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[H4]="BlobDownloadBuilder",this.promise=null}asStream(){return new TH(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(qg(e))return{data:null,error:e};throw e}}};const kH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var PH=class extends Zc{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Ye(Ye({},vP),n);let o=Ye(Ye({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=Ye(Ye({},o),n.headers));const d=i._removeEmptyFolders(e),p=i._getFinalPath(d),h=await(t=="PUT"?kS:Lt)(i.fetch,`${i.url}/object/${p}`,a,Ye({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:d,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let c;const d=Ye({upsert:vP.upsert},n),p=Ye(Ye({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType),{path:a,fullPath:(await kS(i.fetch,o.toString(),c,{headers:p})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Ye({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await Lt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),o=s.searchParams.get("token");if(!o)throw new Bg("No token returned by API");return{signedUrl:s.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Lt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Lt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),a=await Lt(n.fetch,`${n.url}/object/sign/${i}`,Ye({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await Lt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Ye(Ye({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),s=()=>Vd(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new OH(s,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>OS(await Vd(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await AH(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(qg(n)&&n instanceof W4){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&n.push(s);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ej(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Ye(Ye(Ye({},kH),e),{},{prefix:t||""});return await Lt(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Ye({},t);return await Lt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const NH="2.93.1",qf={"X-Client-Info":`storage-js/${NH}`};var CH=class extends Zc{constructor(t,e={},r,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Ye(Ye({},qf),e);super(a,s,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Vd(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Vd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Lt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await kS(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ej(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},RH=class extends Zc{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ye(Ye({},qf),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Vd(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ej(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!vH(t))throw new Bg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mH({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},IH=class extends Zc{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ye(Ye({},qf),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Lt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Lt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},DH=class extends Zc{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ye(Ye({},qf),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},MH=class extends Zc{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Ye(Ye({},qf),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Lt(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},LH=class extends MH{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new FH(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},FH=class extends IH{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new $H(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},$H=class extends DH{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ye(Ye({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},UH=class extends CH{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new PH(this.url,this.headers,t,this.fetch)}get vectors(){return new LH(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RH(this.url+"/iceberg",this.headers,this.fetch)}};const K4="2.93.1",$l=30*1e3,PS=3,k0=PS*$l,BH="http://localhost:9999",qH="supabase.auth.token",zH={"X-Client-Info":`gotrue-js/${K4}`},NS="X-Supabase-Api-Version",G4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VH=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WH=600*1e3;class Wd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class HH extends Wd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function KH(t){return Ue(t)&&t.name==="AuthApiError"}class fo extends Wd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Oa extends Wd{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class xn extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function P0(t){return Ue(t)&&t.name==="AuthSessionMissingError"}class jl extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xp extends Oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bp extends Oa{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GH(t){return Ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class xP extends Oa{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class QH extends Oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class CS extends Oa{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function N0(t){return Ue(t)&&t.name==="AuthRetryableFetchError"}class bP extends Oa{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class RS extends Oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wP=` 	
\r=`.split(""),YH=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<wP.length;e+=1)t[wP[e].charCodeAt(0)]=-2;for(let e=0;e<lm.length;e+=1)t[lm[e].charCodeAt(0)]=e;return t})();function _P(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lm[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lm[n]),e.queuedBits-=6}}function Q4(t,e,r){const n=YH[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function SP(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{ZH(s,n,r)};for(let s=0;s<t.length;s+=1)Q4(t.charCodeAt(s),i,a);return e.join("")}function XH(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function JH(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}XH(n,e)}}function ZH(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Q4(t.charCodeAt(i),r,n);return new Uint8Array(e)}function e7(t){const e=[];return JH(t,r=>e.push(r)),new Uint8Array(e)}function go(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>_P(i,r,n)),_P(null,r,n),e.join("")}function t7(t){return Math.round(Date.now()/1e3)+t}function r7(){return Symbol("auth-callback")}const kr=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},Y4=()=>{if(!kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function n7(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const X4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i7=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ul=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ys=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Or=async(t,e)=>{await t.removeItem(e)};let J4=class Z4{constructor(){this.promise=new Z4.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};J4.promiseConstructor=Promise;function wp(t){const e=t.split(".");if(e.length!==3)throw new RS("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!VH.test(e[n]))throw new RS("JWT not in base64url format");return{header:JSON.parse(SP(e[0])),payload:JSON.parse(SP(e[1])),signature:rc(e[2]),raw:{header:e[0],payload:e[1]}}}async function a7(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function s7(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){n(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function o7(t){return("0"+t.toString(16)).substr(-2)}function l7(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,o7).join("")}async function c7(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function u7(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await c7(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Al(t,e,r=!1){const n=l7();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ul(t,`${e}-code-verifier`,i);const a=await u7(n);return[a,n===a?"plain":"s256"]}const d7=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f7(t){const e=t.headers.get(NS);if(!e||!e.match(d7))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function h7(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function p7(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const m7=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tl(t){if(!m7.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g7(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function EP(t){return JSON.parse(JSON.stringify(t))}const so=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),y7=[502,503,504];async function jP(t){var e;if(!i7(t))throw new CS(so(t),0);if(y7.includes(t.status))throw new CS(so(t),t.status);let r;try{r=await t.json()}catch(a){throw new fo(so(a),a)}let n;const i=f7(t);if(i&&i.getTime()>=G4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bP(so(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new xn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new bP(so(r),t.status,r.weak_password.reasons);throw new HH(so(r),t.status||500,n)}const v7=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ge(t,e,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[NS]||(a[NS]=G4["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await x7(t,e,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function x7(t,e,r,n,i,a){const s=v7(e,n,i,a);let o;try{o=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new CS(so(c),0)}if(o.ok||await jP(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await jP(c)}}function ii(t){var e;let r=null;_7(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=t7(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function AP(t){const e=ii(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function os(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b7(t){return{data:t,error:null}}function w7(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,s=Ug(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function TP(t){return t}function _7(t){return t.access_token&&t.refresh_token&&t.expires_in}const R0=["global","local","others"];class S7{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=X4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=R0[0]){if(R0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${R0.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:os})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ug(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:w7,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:os})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},p=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TP});if(p.error)throw p.error;const h=await p.json(),m=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=p.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ue(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Tl(e);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:os})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Tl(e);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:os})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Tl(e);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:os})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Tl(e.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Tl(e.userId),Tl(e.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,s,o,c;try{const d={nextPage:null,lastPage:0,total:0},p=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:TP});if(p.error)throw p.error;const h=await p.json(),m=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(c=(o=p.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);d[`${x}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Ue(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function OP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ol={debug:!!(globalThis&&Y4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e$ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class E7 extends e${}async function j7(t,e,r){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new E7(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ol.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function t$(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function T7(t){return parseInt(t,16)}function O7(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function k7(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:c,resources:d,scheme:p,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=t$(t.address),b=p?`${p}://${n}`:n,v=t.statement?`${t.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${g}

${v}`;let w=`URI: ${h}
Version: ${m}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),c&&(w+=`
Request ID: ${c}`),d){let S=`
Resources:`;for(const E of d){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);S+=`
- ${E}`}w+=S}return`${x}
${w}`}class ir extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class cm extends ir{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function P7({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(r$(s)){if(a.rp.id!==s)return new ir({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function N7({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(r$(n)){if(r.rpId!==n)return new ir({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class C7{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const R7=new C7;function I7(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Ug(t,["challenge","user","excludeCredentials"]),a=rc(e).buffer,s=Object.assign(Object.assign({},r),{id:rc(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:rc(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return o}function D7(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ug(t,["challenge","allowCredentials"]),i=rc(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:rc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function M7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:go(new Uint8Array(t.response.attestationObject)),clientDataJSON:go(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L7(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:go(new Uint8Array(i.authenticatorData)),clientDataJSON:go(new Uint8Array(i.clientDataJSON)),signature:go(new Uint8Array(i.signature)),userHandle:i.userHandle?go(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function r$(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kP(){var t,e;return!!(kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function F7(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",e)}:{data:null,error:new cm("Empty credential response",e)}}catch(e){return{data:null,error:P7({error:e,options:t})}}}async function $7(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cm("Browser returned unexpected credential type",e)}:{data:null,error:new cm("Empty credential response",e)}}catch(e){return{data:null,error:N7({error:e,options:t})}}}const U7={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B7={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function um(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(e(s)){const o=n[a];e(o)?n[a]=um(o,s):n[a]=um(s)}else n[a]=s}return n}function q7(t,e){return um(U7,t,e||{})}function z7(t,e){return um(B7,t,e||{})}class V7{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!s)return{data:null,error:o};const c=i??R7.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:d}=s.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(s.webauthn.type){case"create":{const d=q7(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:p,error:h}=await F7({publicKey:d,signal:c});return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const d=z7(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:p,error:h}=await $7(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:d,signal:c}));return p?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wd("rpId is required for WebAuthn authentication")};try{if(!kP())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Wd("rpId is required for WebAuthn registration")};try{if(!kP())return{data:null,error:new fo("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(p=>{var h;return(h=p.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:o};const{data:c,error:d}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(s){return Ue(s)?{data:null,error:s}:{data:null,error:new fo("Unexpected error in register",s)}}}}A7();const W7={url:BH,storageKey:qH,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zH,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function PP(t,e,r){return await r()}const kl={};class Hd{get jwks(){var e,r;return(r=(e=kl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kl[this.storageKey]=Object.assign(Object.assign({},kl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kl[this.storageKey]=Object.assign(Object.assign({},kl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},W7),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Hd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&kr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new S7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=X4(a.fetch),this.lock=a.lock||PP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=j7:this.lock=PP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new V7(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Y4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=OP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=OP(this.memoryStorage)),kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K4}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(kr()&&(r=n7(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),kr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),GH(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new fo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ii}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:p,password:h,options:m}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Al(this.storage,this.storageKey)),a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:p,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:ii})}else if("phone"in e){const{phone:p,password:h,options:m}=e;a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ii})}else throw new xp("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await Or(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:s,options:o}=e;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:AP})}else if("phone"in e){const{phone:a,password:s,options:o}=e;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:AP})}else throw new xp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new jl;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,s,o,c,d,p,h,m;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:v,wallet:x,statement:w,options:S}=e;let E;if(kr())if(typeof x=="object")E=x;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")E=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=x}const T=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),j=await E.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=t$(j[0]);let N=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const I=await E.request({method:"eth_chainId"});N=T7(I)}const R={domain:T.host,address:O,statement:w,uri:T.href,version:"1",chainId:N,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=S==null?void 0:S.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.resources};g=k7(R),b=await E.request({method:"personal_sign",params:[O7(g),O]})}try{const{data:v,error:x}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ii});if(x)throw x;if(!v||!v.session||!v.user){const w=new jl;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(Ue(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,a,s,o,c,d,p,h,m,g;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:x,wallet:w,statement:S,options:E}=e;let T;if(kr())if(typeof w=="object")T=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))T=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=w}const j=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const O=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),S?{statement:S}:null));let N;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")N=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)N=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=E==null?void 0:E.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=E==null?void 0:E.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((s=E==null?void 0:E.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((d=E==null?void 0:E.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(p=E==null?void 0:E.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const O=await T.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=O}}try{const{data:x,error:w}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:go(v)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:ii});if(w)throw w;if(!x||!x.session||!x.user){const S=new jl;return this._returnResult({data:{user:null,session:null},error:S})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(Ue(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new QH;const{data:a,error:s}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ii});if(await Or(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new jl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=e,o=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ii}),{data:c,error:d}=o;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const p=new jl;return this._returnResult({data:{user:null,session:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,s;try{if("email"in e){const{email:o,options:c}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await Al(this.storage,this.storageKey));const{error:h}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:p}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p})}throw new xp("You must provide either an email or phone number.")}catch(o){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ii});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,d=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Al(this.storage,this.storageKey));const d=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:b7});return!((a=d.data)===null||a===void 0)&&a.url&&kr()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(o){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new xn;const{error:i}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:s}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:s,error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new xp("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<k0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Ys(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=C0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=g7(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:os}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xn}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:os})})}catch(r){if(Ue(r))return P0(r)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new xn;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await Al(this.storage,this.storageKey));const{data:d,error:p}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:os});if(p)throw p;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new xn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=wp(e.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:o}=r;if(o)throw o;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new xn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!kr())throw new bp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xP("No code detected.");const{data:S,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:d}=e;if(!a||!o||!s||!d)throw new bp("No session defined in URL");const p=Math.round(Date.now()/1e3),h=parseInt(o);let m=p+h;c&&(m=parseInt(c));const g=m-p;g*1e3<=$l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const b=m-h;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,p);const{data:v,error:x}=await this._getUser(a);if(x)throw x;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:m,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!P0(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(KH(o)&&(o.status===404||o.status===401||o.status===403)||P0(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=r7(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Al(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,d,p;const{data:h,error:m}=a;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return kr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:c,access_token:d,nonce:p}=e,h=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:d,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ii}),{data:m,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new jl}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:g}))}catch(i){if(await Or(this.storage,`${this.storageKey}-code-verifier`),Ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await s7(async i=>(i>0&&await a7(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ii})),(i,a)=>{const s=200*Math.pow(2,i);return a&&N0(a)&&Date.now()+s-n<$l})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ys(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ul(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:C0()}else if(i&&!i.user&&!i.user){const s=await Ys(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Or(this.storage,this.storageKey+"-user"),await Ul(this.storage,this.storageKey,i)):i.user=C0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<k0;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${k0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),N0(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new xn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new J4;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new xn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Ue(a)){const s={data:null,error:a};return N0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Or(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ul(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=EP(i);await Ul(this.storage,this.storageKey,a)}else{const i=EP(r);await Ul(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Or(this.storage,this.storageKey),await Or(this.storage,this.storageKey+"-code-verifier"),await Or(this.storage,this.storageKey+"-user"),this.userStorage&&await Or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),$l);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/$l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$l}ms, refresh threshold is ${PS} ticks`),i<=PS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e$)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Al(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M7(e.webauthn.credential_response):L7(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:c}=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:I7(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:D7(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,a;if(e)try{const{payload:g}=wp(e);let b=null;g.aal&&(b=g.aal);let v=b;const{data:{user:x},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(T=>T.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const E=g.amr||[];return{data:{currentLevel:b,nextLevel:v,currentAuthenticationMethods:E},error:null}}catch(g){if(Ue(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=wp(s.access_token);let d=null;c.aal&&(d=c.aal);let p=d;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new xn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xn});const s=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new xn});const s=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xn})})}catch(e){if(Ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xn})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+WH>i)return n;const{data:a,error:s}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=wp(n);r!=null&&r.allowExpired||h7(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:s},error:null}}const p=p7(i.alg),h=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,h,s,e7(`${o}.${c}`)))throw new RS("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}Hd.nextInstanceID={};const H7=Hd,K7="2.93.1";let yd="";typeof Deno<"u"?yd="deno":typeof document<"u"?yd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yd="react-native":yd="node";function G7(){const t=globalThis.process;if(t&&t.platform){const e=t.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function Q7(){const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function Y7(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return"node"}return null}function X7(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node)return e.node}return null}function J7(){const t={"X-Client-Info":`supabase-js-${yd}/${K7}`},e=G7();e&&(t["X-Supabase-Client-Platform"]=e);const r=Q7();r&&(t["X-Supabase-Client-Platform-Version"]=r);const n=Y7();n&&(t["X-Supabase-Client-Runtime"]=n);const i=X7();return i&&(t["X-Supabase-Client-Runtime-Version"]=i),t}const Z7=J7(),e9={headers:Z7},t9={schema:"public"},r9={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n9={};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function i9(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a9(t){var e=i9(t,"string");return Kd(e)=="symbol"?e:e+""}function s9(t,e,r){return(e=a9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){s9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const o9=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),l9=()=>Headers,c9=(t,e,r)=>{const n=o9(r),i=l9();return async(a,s)=>{var o;const c=(o=await e())!==null&&o!==void 0?o:t;let d=new i(s==null?void 0:s.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(a,Ht(Ht({},s),{},{headers:d}))}};function u9(t){return t.endsWith("/")?t:t+"/"}function d9(t,e){var r,n;const{db:i,auth:a,realtime:s,global:o}=t,{db:c,auth:d,realtime:p,global:h}=e,m={db:Ht(Ht({},c),i),auth:Ht(Ht({},d),a),realtime:Ht(Ht({},p),s),storage:{},global:Ht(Ht(Ht({},h),o),{},{headers:Ht(Ht({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function f9(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u9(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var h9=class extends H7{constructor(t){super(t)}},p9=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=f9(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:t9,realtime:n9,auth:Ht(Ht({},r9),{},{storageKey:s}),global:e9},c=d9(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=c.auth)!==null&&d!==void 0?d:{},this.headers,c.global.fetch)}this.fetch=c9(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ht({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new HW(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new UH(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new BW(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:o,debug:c,throwOnError:d},p,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h9({url:this.authUrl.href,headers:Ht(Ht({},m),p),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:o,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cH(this.realtimeUrl.href,Ht(Ht({},t),{},{params:Ht(Ht({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const m9=(t,e,r)=>new p9(t,e,r);function g9(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}g9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y9="https://sebkzfhpsgjzztidlsnr.supabase.co",v9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNlYmt6Zmhwc2dqenp0aWRsc25yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NDMxMzMsImV4cCI6MjA2NzMxOTEzM30.h6fxjQkjFPXgCmIhr7_7LAaWrxGyqYZlY7Ope2b0RGg",lt=m9(y9,v9,{auth:{persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),n$=M.createContext(void 0);function Sr(){const t=M.useContext(n$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function x9({children:t}){const[e,r]=M.useState(null),[n,i]=M.useState(null),[a,s]=M.useState(null),[o,c]=M.useState(!0);M.useEffect(()=>{async function x(){c(!0);try{const{data:{session:S},error:E}=await lt.auth.getSession();if(E){console.error("Session error:",E),r(null),i(null),s(null);return}s(S),S!=null&&S.user?(r(S.user),setTimeout(async()=>{await d(S.user.id)},100)):(r(null),i(null))}catch(S){const E=S;E.message==="Auth session missing!"||E.name==="AuthSessionMissingError"?console.debug("No active session found (Guest user)"):console.error("Error loading user:",S),r(null),i(null),s(null)}finally{c(!1)}}x();const{data:{subscription:w}}=lt.auth.onAuthStateChange((S,E)=>{var T;console.log("Auth state changed:",S,(T=E==null?void 0:E.user)==null?void 0:T.email),s(E),r((E==null?void 0:E.user)||null),E!=null&&E.user&&S==="SIGNED_IN"?setTimeout(()=>{d(E.user.id).catch(console.error)},100):S==="SIGNED_OUT"&&i(null),c(!1)});return()=>w.unsubscribe()},[]);async function d(x){try{const{data:w,error:S}=await lt.from("profiles").select("*").eq("user_id",x).maybeSingle();if(S){console.error("Error loading profile:",S);return}i(w)}catch(w){console.error("Error loading profile:",w)}}async function p(x,w){try{const{data:S,error:E}=await lt.auth.signInWithPassword({email:x,password:w});return E?(ke.error(E.message),{error:E}):(S.user&&ke.success("Successfully signed in!"),{error:void 0})}catch(S){const E=S;return ke.error(E.message||"Sign in failed"),{error:E}}}async function h(x,w,S={}){try{const{data:E,error:T}=await lt.auth.signUp({email:x,password:w,options:{data:S,emailRedirectTo:`${window.location.origin}/auth/callback`}});return T?(ke.error(T.message),{error:T}):(E.user&&(E.user.email_confirmed_at?ke.success("Account created successfully!"):ke.success("Account created! Please check your email to verify your account.")),{error:void 0})}catch(E){const T=E;return ke.error(T.message||"Sign up failed"),{error:T}}}async function m(){try{const{error:x}=await lt.auth.signOut();if(x){ke.error(x.message);return}r(null),i(null),s(null),ke.success("Successfully signed out")}catch(x){console.error("Sign out error:",x),ke.error("Failed to sign out")}}async function g(x){try{const{data:{user:w},error:S}=await lt.auth.getUser();if(S||!w)throw new Error("User authentication failed, please login again");const{data:E,error:T}=await lt.from("profiles").update({...x,updated_at:new Date().toISOString()}).eq("user_id",w.id).select().maybeSingle();if(T)throw console.error("Database update error:",T),T;E&&(i(E),ke.success("Profile updated successfully!"))}catch(w){throw console.error("Profile update error:",w),ke.error("Failed to update profile"),w}}async function b(){var x,w;try{const{data:S,error:E}=await lt.auth.refreshSession();if(E){console.error("Session refresh error:",E);return}s(S.session),r(((x=S.session)==null?void 0:x.user)||null),(w=S.session)!=null&&w.user&&await d(S.session.user.id)}catch(S){console.error("Session refresh error:",S)}}const v={user:e,profile:n,session:a,loading:o,signIn:p,signUp:h,signOut:m,updateProfile:g,refreshSession:b};return f.jsx(n$.Provider,{value:v,children:t})}const b9=new Error("request for lock canceled");var w9=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{d(n.next(p))}catch(h){s(h)}}function c(p){try{d(n.throw(p))}catch(h){s(h)}}function d(p){p.done?a(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class _9{constructor(e,r=b9){this._value=e,this._cancelError=r,this._queue=[],this._weightedWaiters=[]}acquire(e=1,r=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((n,i)=>{const a={resolve:n,reject:i,weight:e,priority:r},s=i$(this._queue,o=>r<=o.priority);s===-1&&e<=this._value?this._dispatchItem(a):this._queue.splice(s+1,0,a)})}runExclusive(e){return w9(this,arguments,void 0,function*(r,n=1,i=0){const[a,s]=yield this.acquire(n,i);try{return yield r(a)}finally{s()}})}waitForUnlock(e=1,r=0){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return this._couldLockImmediately(e,r)?Promise.resolve():new Promise(n=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),S9(this._weightedWaiters[e-1],{resolve:n,priority:r})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){const r=this._value;this._value-=e.weight,e.resolve([r,this._newReleaser(e.weight)])}_newReleaser(e){let r=!1;return()=>{r||(r=!0,this.release(e))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let e=this._value;e>0;e--){const r=this._weightedWaiters[e-1];r&&(r.forEach(n=>n.resolve()),this._weightedWaiters[e-1]=[])}else{const e=this._queue[0].priority;for(let r=this._value;r>0;r--){const n=this._weightedWaiters[r-1];if(!n)continue;const i=n.findIndex(a=>a.priority<=e);(i===-1?n:n.splice(0,i)).forEach((a=>a.resolve()))}}}_couldLockImmediately(e,r){return(this._queue.length===0||this._queue[0].priority<r)&&e<=this._value}}function S9(t,e){const r=i$(t,n=>e.priority<=n.priority);t.splice(r+1,0,e)}function i$(t,e){for(let r=t.length-1;r>=0;r--)if(e(t[r]))return r;return-1}var E9=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(p){try{d(n.next(p))}catch(h){s(h)}}function c(p){try{d(n.throw(p))}catch(h){s(h)}}function d(p){p.done?a(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class Lo{constructor(e){this._semaphore=new _9(1,e)}acquire(){return E9(this,arguments,void 0,function*(e=0){const[,r]=yield this._semaphore.acquire(1,e);return r})}runExclusive(e,r=0){return this._semaphore.runExclusive(()=>e(),1,r)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(e=0){return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}function j9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pl={},Ju={},CP;function A9(){if(CP)return Ju;CP=1,Object.defineProperty(Ju,"__esModule",{value:!0});class t{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(n){if(this.isStopped)return;const i={value:n,done:!1};if(this.pullQueue.length){const a=this.pullQueue.shift();a&&a.resolve(i)}else this.pushQueue.push(Promise.resolve(i)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const n of this.pullQueue)n.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(n){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const i of this.pullQueue)i.reject(n);this.pullQueue.length=0}else{const i=Promise.reject(n);i.catch(()=>{}),this.pushQueue.push(i)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:n=>{const i=this.pushQueue.shift();return i?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),i):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((a,s)=>{this.pullQueue.push({resolve:a,reject:s})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class e{constructor(n,{highWaterMark:i=100,lowWaterMark:a=1}={}){const s=new t;s.highWaterMark=i,s.lowWaterMark=a,s.removeCallback=n({push:o=>s.push(o),stop:()=>s.stop(),fail:o=>s.fail(o),on:(o,c)=>{s.eventHandlers[o]=c}})||(()=>{}),this[Symbol.asyncIterator]=()=>s[Symbol.asyncIterator](),Object.freeze(this)}}return Ju.EventIterator=e,Ju.default=e,Ju}var RP;function T9(){if(RP)return Pl;RP=1,Object.defineProperty(Pl,"__esModule",{value:!0});const t=A9();Pl.EventIterator=t.EventIterator;function e(r,n,i){return new t.EventIterator(({push:a})=>(this.addEventListener(r,a,n),()=>this.removeEventListener(r,a,n)),i)}return Pl.subscribe=e,Pl.default=t.EventIterator,Pl}var IP=T9(),Yp={exports:{}};/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */var O9=Yp.exports,DP;function k9(){return DP||(DP=1,(function(t){(function(e){var r={};r.VERSION="1.6.1";var n,i={},a=function(p,h){return function(){return h.apply(p,arguments)}},s=function(){var p=arguments,h=p[0],m,g;for(g=1;g<p.length;g++)for(m in p[g])!(m in h)&&p[g].hasOwnProperty(m)&&(h[m]=p[g][m]);return h},o=function(p,h){return{value:p,name:h}};r.TRACE=o(1,"TRACE"),r.DEBUG=o(2,"DEBUG"),r.INFO=o(3,"INFO"),r.TIME=o(4,"TIME"),r.WARN=o(5,"WARN"),r.ERROR=o(8,"ERROR"),r.OFF=o(99,"OFF");var c=function(p){this.context=p,this.setLevel(p.filterLevel),this.log=this.info};c.prototype={setLevel:function(p){p&&"value"in p&&(this.context.filterLevel=p)},getLevel:function(){return this.context.filterLevel},enabledFor:function(p){var h=this.context.filterLevel;return p.value>=h.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(p){typeof p=="string"&&p.length>0&&this.invoke(r.TIME,[p,"start"])},timeEnd:function(p){typeof p=="string"&&p.length>0&&this.invoke(r.TIME,[p,"end"])},invoke:function(p,h){n&&this.enabledFor(p)&&n(h,s({level:p},this.context))}};var d=new c({filterLevel:r.OFF});(function(){var p=r;p.enabledFor=a(d,d.enabledFor),p.trace=a(d,d.trace),p.debug=a(d,d.debug),p.time=a(d,d.time),p.timeEnd=a(d,d.timeEnd),p.info=a(d,d.info),p.warn=a(d,d.warn),p.error=a(d,d.error),p.log=p.info})(),r.setHandler=function(p){n=p},r.setLevel=function(p){d.setLevel(p);for(var h in i)i.hasOwnProperty(h)&&i[h].setLevel(p)},r.getLevel=function(){return d.getLevel()},r.get=function(p){return i[p]||(i[p]=new c(s({name:p},d.context)))},r.createDefaultHandler=function(p){p=p||{},p.formatter=p.formatter||function(b,v){v.name&&b.unshift("["+v.name+"]")};var h={},m=function(g,b){Function.prototype.apply.call(g,console,b)};return typeof console>"u"?function(){}:function(g,b){g=Array.prototype.slice.call(g);var v=console.log,x;b.level===r.TIME?(x=(b.name?"["+b.name+"] ":"")+g[0],g[1]==="start"?console.time?console.time(x):h[x]=new Date().getTime():console.timeEnd?console.timeEnd(x):m(v,[x+": "+(new Date().getTime()-h[x])+"ms"])):(b.level===r.WARN&&console.warn?v=console.warn:b.level===r.ERROR&&console.error?v=console.error:b.level===r.INFO&&console.info?v=console.info:b.level===r.DEBUG&&console.debug?v=console.debug:b.level===r.TRACE&&console.trace&&(v=console.trace),p.formatter(g,b),m(v,g))}},r.useDefaults=function(p){r.setLevel(p&&p.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(p))},r.setDefaults=r.useDefaults,t.exports?t.exports=r:(r._prevLogger=e.Logger,r.noConflict=function(){return e.Logger=r._prevLogger,r},e.Logger=r)})(O9)})(Yp)),Yp.exports}var P9=k9(),Yo=j9(P9),MP;(function(t){t[t.SQLITE_INSERT=18]="SQLITE_INSERT",t[t.SQLITE_DELETE=9]="SQLITE_DELETE",t[t.SQLITE_UPDATE=23]="SQLITE_UPDATE"})(MP||(MP={}));function a$(t){return"tables"in t}function N9(t){return a$(t)?t.tables:[t.table]}const s$=2147483647;class C9{constructor(e){te(this,"internal");te(this,"totalOperations");te(this,"downloadedOperations");te(this,"downloadedFraction");this.internal=e;const r=this.untilPriority(s$);this.totalOperations=r.totalOperations,this.downloadedOperations=r.downloadedOperations,this.downloadedFraction=r.downloadedFraction}untilPriority(e){let r=0,n=0;for(const a of Object.values(this.internal))a.priority<=e&&(n+=a.since_last,r+=a.target_count-a.at_last);let i=r==0?0:n/r;return{totalOperations:r,downloadedOperations:n,downloadedFraction:i}}}class ua{constructor(e){te(this,"options");this.options=e}get clientImplementation(){return this.options.clientImplementation}get connected(){return this.options.connected??!1}get connecting(){return this.options.connecting??!1}get lastSyncedAt(){return this.options.lastSyncedAt}get hasSynced(){return this.options.hasSynced}get dataFlowStatus(){return this.options.dataFlow??{downloading:!1,uploading:!1}}get syncStreams(){var e,r;return(r=(e=this.options.dataFlow)==null?void 0:e.internalStreamSubscriptions)==null?void 0:r.map(n=>new LP(this,n))}forStream(e){var i,a;const r=JSON.stringify(e.parameters),n=(a=(i=this.options.dataFlow)==null?void 0:i.internalStreamSubscriptions)==null?void 0:a.find(s=>s.name==e.name&&r==JSON.stringify(s.parameters));return n&&new LP(this,n)}get priorityStatusEntries(){return(this.options.priorityStatusEntries??[]).slice().sort(ua.comparePriorities)}get downloadProgress(){var r;const e=(r=this.options.dataFlow)==null?void 0:r.downloadProgress;return e==null?null:new C9(e)}statusForPriority(e){for(const r of this.priorityStatusEntries)if(r.priority>=e)return r;return{priority:e,lastSyncedAt:this.lastSyncedAt,hasSynced:this.hasSynced}}isEqual(e){const r=(n,i)=>i instanceof Error?{name:i.name,message:i.message,stack:i.stack}:i;return JSON.stringify(this.options,r)==JSON.stringify(e.options,r)}getMessage(){const e=this.dataFlowStatus;return`SyncStatus<connected: ${this.connected} connecting: ${this.connecting} lastSyncedAt: ${this.lastSyncedAt} hasSynced: ${this.hasSynced}. Downloading: ${e.downloading}. Uploading: ${e.uploading}. UploadError: ${e.uploadError}, DownloadError?: ${e.downloadError}>`}toJSON(){return{connected:this.connected,connecting:this.connecting,dataFlow:{...this.dataFlowStatus,uploadError:this.serializeError(this.dataFlowStatus.uploadError),downloadError:this.serializeError(this.dataFlowStatus.downloadError)},lastSyncedAt:this.lastSyncedAt,hasSynced:this.hasSynced,priorityStatusEntries:this.priorityStatusEntries}}serializeError(e){if(!(typeof e>"u"))return{name:e.name,message:e.message,stack:e.stack}}static comparePriorities(e,r){return r.priority-e.priority}}class LP{constructor(e,r){te(this,"status");te(this,"core");te(this,"subscription");this.status=e,this.core=r,this.subscription={name:r.name,parameters:r.parameters,active:r.active,isDefault:r.is_default,hasExplicitSubscription:r.has_explicit_subscription,expiresAt:r.expires_at!=null?new Date(r.expires_at*1e3):null,hasSynced:r.last_synced_at!=null,lastSyncedAt:r.last_synced_at!=null?new Date(r.last_synced_at*1e3):null}}get progress(){if(this.status.dataFlowStatus.downloadProgress==null)return null;const{total:e,downloaded:r}=this.core.progress,n=e==0?0:r/e;return{totalOperations:e,downloadedOperations:r,downloadedFraction:n}}get priority(){return this.core.priority}}class FP{constructor(e,r=null){te(this,"count");te(this,"size");this.count=e,this.size=r}toString(){return this.size==null?`UploadQueueStats<count:${this.count}>`:`UploadQueueStats<count: $count size: ${this.size/1024}kB>`}}class Vn{constructor(){te(this,"listeners",new Set)}dispose(){this.listeners.clear()}registerListener(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}iterateListeners(e){for(const r of this.listeners)e(r)}async iterateAsyncListeners(e){for(let r of Array.from(this.listeners.values()))await e(r)}}class R9{constructor(e,r){te(this,"task");te(this,"runningTask");te(this,"pendingTaskParam");te(this,"isThrottling");te(this,"closed");this.task=e;const{throttleEnabled:n=!0}=r??{};this.isThrottling=n,this.closed=!1}schedule(e){if(!this.closed){if(!this.isThrottling){this.task(e);return}if(this.runningTask){this.pendingTaskParam=e;return}this.execute(e)}}dispose(){this.closed=!0,this.runningTask&&(this.runningTask=void 0)}async execute(e){if(this.runningTask=this.task(e),await this.runningTask,this.runningTask=void 0,this.pendingTaskParam){const r=this.pendingTaskParam;this.pendingTaskParam=void 0,this.execute(r)}}}const $P=Symbol.asyncIterator??Symbol.for("Symbol.asyncIterator");function I9(t,e){let r=null;const n=()=>{t(),r=null};return function(){r==null&&(r=setTimeout(n,e))}}function D9(t,e){let r=null,n=0;const i=()=>{t(),n=Date.now(),r=null};return function(){const a=Date.now(),s=e-(a-n);s<=0?i():r||(r=setTimeout(i,s))}}class M9 extends Vn{constructor(r){super();te(this,"options");te(this,"connectingPromise");te(this,"syncStreamInitPromise");te(this,"disconnectingPromise");te(this,"pendingConnectionOptions");te(this,"syncStreamImplementation");te(this,"syncDisposer");te(this,"locallyActiveSubscriptions",new Map);this.options=r,this.connectingPromise=null,this.syncStreamInitPromise=null,this.disconnectingPromise=null,this.pendingConnectionOptions=null,this.syncStreamImplementation=null,this.syncDisposer=null}get connector(){var r;return((r=this.pendingConnectionOptions)==null?void 0:r.connector)??null}get connectionOptions(){var r;return((r=this.pendingConnectionOptions)==null?void 0:r.options)??null}get logger(){return this.options.logger}async close(){var r,n;await((r=this.syncStreamImplementation)==null?void 0:r.dispose()),await((n=this.syncDisposer)==null?void 0:n.call(this))}async connect(r,n){const i=!!this.pendingConnectionOptions;this.pendingConnectionOptions={connector:r,options:n},(!i||this.syncStreamImplementation)&&await this.disconnectInternal();const a=async()=>{if(this.pendingConnectionOptions)return this.connectingPromise=this.connectInternal().catch(()=>{}).finally(a),this.connectingPromise;this.connectingPromise=null};return this.connectingPromise??(this.connectingPromise=this.connectInternal().catch(()=>{}).finally(a)),this.connectingPromise}async connectInternal(){var n;let r=null;await this.disconnectInternal(),this.syncStreamInitPromise=new Promise(async(i,a)=>{try{if(!this.pendingConnectionOptions){this.logger.debug("No pending connection options found, not creating sync stream implementation"),i();return}if(this.disconnectingPromise){i();return}const{connector:s,options:o}=this.pendingConnectionOptions;r=o,this.pendingConnectionOptions=null;const{sync:c,onDispose:d}=await this.options.createSyncImplementation(s,{subscriptions:this.activeStreams,...o});this.iterateListeners(p=>{var h;return(h=p.syncStreamCreated)==null?void 0:h.call(p,c)}),this.syncStreamImplementation=c,this.syncDisposer=d,await this.syncStreamImplementation.waitForReady(),i()}catch(s){a(s)}}),await this.syncStreamInitPromise,this.syncStreamInitPromise=null,r&&(await this.disconnectingPromise,this.logger.debug("Attempting to connect to PowerSync instance"),await((n=this.syncStreamImplementation)==null?void 0:n.connect(r)))}async disconnect(){this.pendingConnectionOptions=null,await this.disconnectInternal()}async disconnectInternal(){if(this.disconnectingPromise)return this.disconnectingPromise;this.disconnectingPromise=this.performDisconnect(),await this.disconnectingPromise,this.disconnectingPromise=null}async performDisconnect(){await this.syncStreamInitPromise;const r=this.syncStreamImplementation;this.syncStreamImplementation=null;const n=this.syncDisposer;this.syncDisposer=null,await(r==null?void 0:r.disconnect()),await(r==null?void 0:r.dispose()),await(n==null?void 0:n())}stream(r,n,i){const a={name:n,parameters:i},s=o=>r.firstStatusMatching(c=>{var d;return(d=c.forStream(a))==null?void 0:d.subscription.hasSynced},o);return{...a,subscribe:async o=>{await r.rustSubscriptionsCommand({subscribe:{stream:{name:n,params:i},ttl:o==null?void 0:o.ttl,priority:o==null?void 0:o.priority}}),this.syncStreamImplementation||await r.resolveOfflineSyncStatus();const c=`${n}|${JSON.stringify(i)}`;let d=this.locallyActiveSubscriptions.get(c);if(d==null){const p=()=>{this.locallyActiveSubscriptions.delete(c),this.subscriptionsMayHaveChanged()};d=new L9(n,i,this.logger,s,p),this.locallyActiveSubscriptions.set(c,d),this.subscriptionsMayHaveChanged()}return new F9(d)},unsubscribeAll:async()=>{await r.rustSubscriptionsCommand({unsubscribe:{name:n,params:i}}),this.subscriptionsMayHaveChanged()}}}get activeStreams(){return[...this.locallyActiveSubscriptions.values()].map(r=>({name:r.name,params:r.parameters}))}subscriptionsMayHaveChanged(){var r;(r=this.syncStreamImplementation)==null||r.updateSubscriptions(this.activeStreams)}}class L9{constructor(e,r,n,i,a){te(this,"name");te(this,"parameters");te(this,"logger");te(this,"waitForFirstSync");te(this,"clearSubscription");te(this,"refcount",0);this.name=e,this.parameters=r,this.logger=n,this.waitForFirstSync=i,this.clearSubscription=a}decrementRefCount(){this.refcount--,this.refcount==0&&this.clearSubscription()}}class F9{constructor(e){te(this,"subscription");te(this,"active",!0);this.subscription=e,e.refcount++,Nl==null||Nl.register(this,e)}get name(){return this.subscription.name}get parameters(){return this.subscription.parameters}waitForFirstSync(e){return this.subscription.waitForFirstSync(e)}unsubscribe(){this.active&&(this.active=!1,Nl==null||Nl.unregister(this),this.subscription.decrementRefCount())}}const Nl="FinalizationRegistry"in globalThis?new FinalizationRegistry(t=>{t.logger.warn(`A subscription to ${t.name} with params ${JSON.stringify(t.parameters)} leaked! Please ensure calling unsubscribe() when you don't need a subscription anymore. For global subscriptions, consider storing them in global fields to avoid this warning.`)}):null,$9={checkEquality:()=>!1};class U9 extends Vn{constructor(){super();te(this,"metaListener");this.metaListener=new Vn}get listenerCounts(){const r={};let n=0;for(const i of this.listeners)for(const a in i)i[a]&&(r[a]=(r[a]??0)+1,n++);return{...r,total:n}}get listenerMeta(){return{counts:this.listenerCounts,registerListener:r=>this.metaListener.registerListener(r)}}registerListener(r){const n=super.registerListener(r),i=this.listenerCounts;return this.metaListener.iterateListeners(a=>{var s;(s=a.listenersChanged)==null||s.call(a,i)}),()=>{n();const a=this.listenerCounts;this.metaListener.iterateListeners(s=>{var o;(o=s.listenersChanged)==null||o.call(s,a)})}}}var IS;(function(t){t.ON_DATA="onData",t.ON_ERROR="onError",t.ON_STATE_CHANGE="onStateChange",t.SETTINGS_WILL_UPDATE="settingsWillUpdate",t.CLOSED="closed"})(IS||(IS={}));const dm=30,UP={throttleMs:dm,reportFetching:!0};class o$ extends U9{constructor(r){super();te(this,"options");te(this,"state");te(this,"abortController");te(this,"initialized");te(this,"_closed");te(this,"disposeListeners");this.options=r,this.abortController=new AbortController,this._closed=!1,this.state=this.constructInitialState(),this.disposeListeners=null,this.initialized=this.init(this.abortController.signal)}get closed(){return this._closed}constructInitialState(){return{isLoading:!0,isFetching:this.reportFetching,error:null,lastUpdated:null,data:this.options.placeholderData}}get reportFetching(){return this.options.watchOptions.reportFetching??!0}async updateSettingsInternal(r,n){this._closed||n.aborted||(this.options.watchOptions=r,this.iterateListeners(i=>{var a;return(a=i[IS.SETTINGS_WILL_UPDATE])==null?void 0:a.call(i)}),!this.state.isFetching&&this.reportFetching&&await this.updateState({isFetching:!0}),await this.runWithReporting(()=>this.linkQuery({abortSignal:n,settings:r})))}async updateSettings(r){this.abortController.abort();const n=new AbortController;return this.abortController=n,await this.initialized,this.updateSettingsInternal(r,n.signal)}async updateState(r){this._closed||(typeof r.error<"u"&&(await this.iterateAsyncListenersWithError(async n=>{var i;return(i=n.onError)==null?void 0:i.call(n,r.error)}),r.isFetching=!1,r.isLoading=!1),Object.assign(this.state,{lastUpdated:new Date},r),typeof r.data<"u"&&await this.iterateAsyncListenersWithError(async n=>{var i;return(i=n.onData)==null?void 0:i.call(n,this.state.data)}),await this.iterateAsyncListenersWithError(async n=>{var i;return(i=n.onStateChange)==null?void 0:i.call(n,this.state)}))}async init(r){const{db:n}=this.options,i=n.registerListener({closing:async()=>{await this.close()}});await n.waitForReady();const a=n.registerListener({schemaChanged:async()=>{await this.runWithReporting(async()=>{await this.updateSettings(this.options.watchOptions)})}});this.disposeListeners=()=>{i(),a()},await this.runWithReporting(async()=>{await this.updateSettingsInternal(this.options.watchOptions,r)})}async close(){var r;this._closed=!0,this.abortController.abort(),(r=this.disposeListeners)==null||r.call(this),this.disposeListeners=null,this.iterateListeners(n=>{var i;return(i=n.closed)==null?void 0:i.call(n)}),this.listeners.clear()}async runWithReporting(r){try{await r()}catch(n){await this.updateState({error:n})}}async iterateAsyncListenersWithError(r){try{await this.iterateAsyncListeners(async n=>r(n))}catch(n){try{await this.iterateAsyncListeners(async i=>{var a;return(a=i.onError)==null?void 0:a.call(i,n)})}catch(i){this.options.db.logger.error("Watched query error handler threw an Error",i)}}}}const B9={keyBy:t=>t&&typeof t=="object"&&typeof t.id=="string"?t.id:JSON.stringify(t),compareBy:t=>JSON.stringify(t)};class q9 extends o${constructor(r){super(r);te(this,"options");te(this,"comparator");this.options=r,this.comparator=r.rowComparator??B9}differentiate(r,n){const{keyBy:i,compareBy:a}=this.comparator;let s=!1;const o=new Map,c=new Set(n.keys()),d={all:[],added:[],removed:[],updated:[],unchanged:[]};for(const p of r){const h=i(p),m=a(p);o.set(h,{hash:m,item:p});const g=n.get(h);g?m==g.hash?(d.unchanged.push(g.item),d.all.push(g.item),o.set(h,g)):(s=!0,d.updated.push({current:p,previous:g.item}),d.all.push(p)):(s=!0,d.added.push(p),d.all.push(p)),c.delete(h)}return d.removed=Array.from(c).map(p=>n.get(p).item),s=s||d.removed.length>0,{diff:d,hasChanged:s,map:o}}async linkQuery(r){const{db:n,watchOptions:i}=this.options,{abortSignal:a}=r,s=i.query.compile(),o=await n.resolveTables(s.sql,s.parameters,{tables:r.settings.triggerOnTables});let c=new Map;this.state.data.forEach(d=>{c.set(this.comparator.keyBy(d),{hash:this.comparator.compareBy(d),item:d})}),n.onChangeWithCallback({onChange:async()=>{if(!(this.closed||a.aborted))try{this.reportFetching&&!this.state.isFetching&&await this.updateState({isFetching:!0});const d={},p=await i.query.execute({sql:s.sql,parameters:[...s.parameters],db:this.options.db});if(a.aborted)return;this.reportFetching&&(d.isFetching=!1),this.state.isLoading&&(d.isLoading=!1);const{diff:h,hasChanged:m,map:g}=this.differentiate(p,c);c=g,m&&(await this.iterateAsyncListenersWithError(b=>{var v;return(v=b.onDiff)==null?void 0:v.call(b,h)}),Object.assign(d,{data:h.all})),this.state.error&&(d.error=null),Object.keys(d).length>0&&await this.updateState(d)}catch(d){await this.updateState({error:d})}},onError:async d=>{await this.updateState({error:d})}},{signal:a,tables:o,throttleMs:i.throttleMs,triggerImmediate:!0})}}class l$ extends o${constructor(r){super(r);te(this,"options");this.options=r}checkEquality(r,n){var i,a;return((a=(i=this.options.comparator)==null?void 0:i.checkEquality)==null?void 0:a.call(i,r,n))??!1}async linkQuery(r){const{db:n,watchOptions:i}=this.options,{abortSignal:a}=r,s=i.query.compile(),o=await n.resolveTables(s.sql,s.parameters,{tables:r.settings.triggerOnTables});n.onChangeWithCallback({onChange:async()=>{if(!(this.closed||a.aborted))try{this.reportFetching&&!this.state.isFetching&&await this.updateState({isFetching:!0});const c={},d=await i.query.execute({sql:s.sql,parameters:[...s.parameters],db:this.options.db});if(a.aborted)return;this.reportFetching&&(c.isFetching=!1),this.state.isLoading&&(c.isLoading=!1),this.checkEquality(d,this.state.data)||Object.assign(c,{data:d}),this.state.error&&(c.error=null),Object.keys(c).length>0&&await this.updateState(c)}catch(c){await this.updateState({error:c})}},onError:async c=>{await this.updateState({error:c})}},{signal:a,tables:o,throttleMs:i.throttleMs,triggerImmediate:!0})}}class z9{constructor(e){te(this,"options");this.options=e}resolveOptions(e){return{reportFetching:(e==null?void 0:e.reportFetching)??UP.reportFetching,throttleMs:(e==null?void 0:e.throttleMs)??UP.throttleMs,triggerOnTables:e==null?void 0:e.triggerOnTables}}watch(e){return new l$({db:this.options.db,comparator:(e==null?void 0:e.comparator)??$9,placeholderData:(e==null?void 0:e.placeholderData)??[],watchOptions:{...this.resolveOptions(e),query:this.options.query}})}differentialWatch(e){return new q9({db:this.options.db,rowComparator:e==null?void 0:e.rowComparator,placeholderData:(e==null?void 0:e.placeholderData)??[],watchOptions:{...this.resolveOptions(e),query:this.options.query}})}}const V9=t=>t&&typeof t=="object"&&"dbFilename"in t,DS=t=>typeof(t==null?void 0:t.openDB)=="function",c$=t=>typeof(t==null?void 0:t.writeTransaction)=="function";var ji;(function(t){t.DATA="ps_data",t.CRUD="ps_crud",t.BUCKETS="ps_buckets",t.OPLOG="ps_oplog",t.UNTYPED="ps_untyped"})(ji||(ji={}));var oa;(function(t){t.PROCESS_TEXT_LINE="line_text",t.PROCESS_BSON_LINE="line_binary",t.STOP="stop",t.START="start",t.NOTIFY_TOKEN_REFRESHED="refreshed_token",t.NOTIFY_CRUD_UPLOAD_COMPLETED="completed_upload",t.UPDATE_SUBSCRIPTIONS="update_subscriptions"})(oa||(oa={}));class u${constructor(e,r,n){te(this,"crud");te(this,"haveMore");te(this,"complete");this.crud=e,this.haveMore=r,this.complete=n}}var BP;(function(t){t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE"})(BP||(BP={}));class gc{constructor(e,r,n,i,a,s,o,c){te(this,"clientId");te(this,"id");te(this,"op");te(this,"opData");te(this,"previousValues");te(this,"table");te(this,"transactionId");te(this,"metadata");this.clientId=e,this.id=i,this.op=r,this.opData=s,this.table=n,this.transactionId=a,this.previousValues=o,this.metadata=c}static fromRow(e){const r=JSON.parse(e.data);return new gc(parseInt(e.id),r.op,r.type,r.id,e.tx_id,r.data,r.old,r.metadata)}toJSON(){return{op_id:this.clientId,op:this.op,type:this.table,id:this.id,tx_id:this.transactionId,data:this.opData,old:this.previousValues,metadata:this.metadata}}equals(e){return JSON.stringify(this.toComparisonArray())==JSON.stringify(e.toComparisonArray())}hashCode(){return JSON.stringify(this.toComparisonArray())}toComparisonArray(){return[this.transactionId,this.clientId,this.op,this.table,this.id,this.opData,this.previousValues,this.metadata]}}class W9 extends u${constructor(r,n,i){super(r,!1,n);te(this,"crud");te(this,"complete");te(this,"transactionId");this.crud=r,this.complete=n,this.transactionId=i}}class Ln extends Error{constructor(r){super(r);te(this,"reason");this.reason=r,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln)}}var fm;(function(t){t[t.CLEAR=1]="CLEAR",t[t.MOVE=2]="MOVE",t[t.PUT=3]="PUT",t[t.REMOVE=4]="REMOVE"})(fm||(fm={}));class tj{constructor(e){te(this,"value");this.value=e}static fromJSON(e){return new tj(fm[e])}toJSON(){return Object.entries(fm).find(([,e])=>e===this.value)[0]}}class rj{constructor(e,r,n,i,a,s,o){te(this,"op_id");te(this,"op");te(this,"checksum");te(this,"subkey");te(this,"object_type");te(this,"object_id");te(this,"data");this.op_id=e,this.op=r,this.checksum=n,this.subkey=i,this.object_type=a,this.object_id=s,this.data=o}static fromRow(e){return new rj(e.op_id,tj.fromJSON(e.op),e.checksum,e.subkey,e.object_type,e.object_id,e.data)}toJSON(e=!1){return{op_id:this.op_id,op:this.op.toJSON(),object_type:this.object_type,object_id:this.object_id,checksum:this.checksum,data:this.data,subkey:e?this.subkey:JSON.stringify(this.subkey)}}}class nj{constructor(e,r,n,i,a){te(this,"bucket");te(this,"data");te(this,"has_more");te(this,"after");te(this,"next_after");this.bucket=e,this.data=r,this.has_more=n,this.after=i,this.next_after=a}static fromRow(e){return new nj(e.bucket,e.data.map(r=>rj.fromRow(r)),e.has_more??!1,e.after,e.next_after)}toJSON(e=!1){return{bucket:this.bucket,has_more:this.has_more,after:this.after,next_after:this.next_after,data:this.data.map(r=>r.toJSON(e))}}}var I0={},Zu={},qP;function H9(){if(qP)return Zu;qP=1,Zu.byteLength=o,Zu.toByteArray=d,Zu.fromByteArray=m;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=b);var x=v===b?0:4-v%4;return[v,x]}function o(g){var b=s(g),v=b[0],x=b[1];return(v+x)*3/4-x}function c(g,b,v){return(b+v)*3/4-v}function d(g){var b,v=s(g),x=v[0],w=v[1],S=new r(c(g,x,w)),E=0,T=w>0?x-4:x,j;for(j=0;j<T;j+=4)b=e[g.charCodeAt(j)]<<18|e[g.charCodeAt(j+1)]<<12|e[g.charCodeAt(j+2)]<<6|e[g.charCodeAt(j+3)],S[E++]=b>>16&255,S[E++]=b>>8&255,S[E++]=b&255;return w===2&&(b=e[g.charCodeAt(j)]<<2|e[g.charCodeAt(j+1)]>>4,S[E++]=b&255),w===1&&(b=e[g.charCodeAt(j)]<<10|e[g.charCodeAt(j+1)]<<4|e[g.charCodeAt(j+2)]>>2,S[E++]=b>>8&255,S[E++]=b&255),S}function p(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function h(g,b,v){for(var x,w=[],S=b;S<v;S+=3)x=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(g[S+2]&255),w.push(p(x));return w.join("")}function m(g){for(var b,v=g.length,x=v%3,w=[],S=16383,E=0,T=v-x;E<T;E+=S)w.push(h(g,E,E+S>T?T:E+S));return x===1?(b=g[v-1],w.push(t[b>>2]+t[b<<4&63]+"==")):x===2&&(b=(g[v-2]<<8)+g[v-1],w.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),w.join("")}return Zu}var _p={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var zP;function K9(){return zP||(zP=1,_p.read=function(t,e,r,n,i){var a,s,o=i*8-n-1,c=(1<<o)-1,d=c>>1,p=-7,h=r?i-1:0,m=r?-1:1,g=t[e+h];for(h+=m,a=g&(1<<-p)-1,g>>=-p,p+=o;p>0;a=a*256+t[e+h],h+=m,p-=8);for(s=a&(1<<-p)-1,a>>=-p,p+=n;p>0;s=s*256+t[e+h],h+=m,p-=8);if(a===0)a=1-d;else{if(a===c)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),a=a-d}return(g?-1:1)*s*Math.pow(2,a-n)},_p.write=function(t,e,r,n,i,a){var s,o,c,d=a*8-i-1,p=(1<<d)-1,h=p>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,b=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+h>=1?e+=m/c:e+=m*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=p?(o=0,s=p):s+h>=1?(o=(e*c-1)*Math.pow(2,i),s=s+h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+g]=o&255,g+=b,o/=256,i-=8);for(s=s<<i|o,d+=i;d>0;t[r+g]=s&255,g+=b,s/=256,d-=8);t[r+g-b]|=v*128}),_p}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var VP;function G9(){return VP||(VP=1,(function(t){const e=H9(),r=K9(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const $=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf($,k),$.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s($){if($>i)throw new RangeError('The value "'+$+'" is invalid for option "size"');const k=new Uint8Array($);return Object.setPrototypeOf(k,o.prototype),k}function o($,k,C){if(typeof $=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h($)}return c($,k,C)}o.poolSize=8192;function c($,k,C){if(typeof $=="string")return m($,k);if(ArrayBuffer.isView($))return b($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(Et($,ArrayBuffer)||$&&Et($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et($,SharedArrayBuffer)||$&&Et($.buffer,SharedArrayBuffer)))return v($,k,C);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=$.valueOf&&$.valueOf();if(z!=null&&z!==$)return o.from(z,k,C);const ee=x($);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return o.from($[Symbol.toPrimitive]("string"),k,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}o.from=function($,k,C){return c($,k,C)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function p($,k,C){return d($),$<=0?s($):k!==void 0?typeof C=="string"?s($).fill(k,C):s($).fill(k):s($)}o.alloc=function($,k,C){return p($,k,C)};function h($){return d($),s($<0?0:w($)|0)}o.allocUnsafe=function($){return h($)},o.allocUnsafeSlow=function($){return h($)};function m($,k){if((typeof k!="string"||k==="")&&(k="utf8"),!o.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const C=E($,k)|0;let z=s(C);const ee=z.write($,k);return ee!==C&&(z=z.slice(0,ee)),z}function g($){const k=$.length<0?0:w($.length)|0,C=s(k);for(let z=0;z<k;z+=1)C[z]=$[z]&255;return C}function b($){if(Et($,Uint8Array)){const k=new Uint8Array($);return v(k.buffer,k.byteOffset,k.byteLength)}return g($)}function v($,k,C){if(k<0||$.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<k+(C||0))throw new RangeError('"length" is outside of buffer bounds');let z;return k===void 0&&C===void 0?z=new Uint8Array($):C===void 0?z=new Uint8Array($,k):z=new Uint8Array($,k,C),Object.setPrototypeOf(z,o.prototype),z}function x($){if(o.isBuffer($)){const k=w($.length)|0,C=s(k);return C.length===0||$.copy(C,0,0,k),C}if($.length!==void 0)return typeof $.length!="number"||Vr($.length)?s(0):g($);if($.type==="Buffer"&&Array.isArray($.data))return g($.data)}function w($){if($>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return $|0}function S($){return+$!=$&&($=0),o.alloc(+$)}o.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==o.prototype},o.compare=function(k,C){if(Et(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),Et(C,Uint8Array)&&(C=o.from(C,C.offset,C.byteLength)),!o.isBuffer(k)||!o.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===C)return 0;let z=k.length,ee=C.length;for(let L=0,H=Math.min(z,ee);L<H;++L)if(k[L]!==C[L]){z=k[L],ee=C[L];break}return z<ee?-1:ee<z?1:0},o.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(k,C){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return o.alloc(0);let z;if(C===void 0)for(C=0,z=0;z<k.length;++z)C+=k[z].length;const ee=o.allocUnsafe(C);let L=0;for(z=0;z<k.length;++z){let H=k[z];if(Et(H,Uint8Array))L+H.length>ee.length?(o.isBuffer(H)||(H=o.from(H)),H.copy(ee,L)):Uint8Array.prototype.set.call(ee,H,L);else if(o.isBuffer(H))H.copy(ee,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=H.length}return ee};function E($,k){if(o.isBuffer($))return $.length;if(ArrayBuffer.isView($)||Et($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);const C=$.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&C===0)return 0;let ee=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return pt($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return tr($).length;default:if(ee)return z?-1:pt($).length;k=(""+k).toLowerCase(),ee=!0}}o.byteLength=E;function T($,k,C){let z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,k>>>=0,C<=k))return"";for($||($="utf8");;)switch($){case"hex":return oe(this,k,C);case"utf8":case"utf-8":return V(this,k,C);case"ascii":return ie(this,k,C);case"latin1":case"binary":return ne(this,k,C);case"base64":return B(this,k,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,k,C);default:if(z)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),z=!0}}o.prototype._isBuffer=!0;function j($,k,C){const z=$[k];$[k]=$[C],$[C]=z}o.prototype.swap16=function(){const k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<k;C+=2)j(this,C,C+1);return this},o.prototype.swap32=function(){const k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<k;C+=4)j(this,C,C+3),j(this,C+1,C+2);return this},o.prototype.swap64=function(){const k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<k;C+=8)j(this,C,C+7),j(this,C+1,C+6),j(this,C+2,C+5),j(this,C+3,C+4);return this},o.prototype.toString=function(){const k=this.length;return k===0?"":arguments.length===0?V(this,0,k):T.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(k){if(!o.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:o.compare(this,k)===0},o.prototype.inspect=function(){let k="";const C=t.INSPECT_MAX_BYTES;return k=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(k+=" ... "),"<Buffer "+k+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(k,C,z,ee,L){if(Et(k,Uint8Array)&&(k=o.from(k,k.offset,k.byteLength)),!o.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(C===void 0&&(C=0),z===void 0&&(z=k?k.length:0),ee===void 0&&(ee=0),L===void 0&&(L=this.length),C<0||z>k.length||ee<0||L>this.length)throw new RangeError("out of range index");if(ee>=L&&C>=z)return 0;if(ee>=L)return-1;if(C>=z)return 1;if(C>>>=0,z>>>=0,ee>>>=0,L>>>=0,this===k)return 0;let H=L-ee,J=z-C;const ae=Math.min(H,J),Ae=this.slice(ee,L),pe=k.slice(C,z);for(let Ee=0;Ee<ae;++Ee)if(Ae[Ee]!==pe[Ee]){H=Ae[Ee],J=pe[Ee];break}return H<J?-1:J<H?1:0};function O($,k,C,z,ee){if($.length===0)return-1;if(typeof C=="string"?(z=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,Vr(C)&&(C=ee?0:$.length-1),C<0&&(C=$.length+C),C>=$.length){if(ee)return-1;C=$.length-1}else if(C<0)if(ee)C=0;else return-1;if(typeof k=="string"&&(k=o.from(k,z)),o.isBuffer(k))return k.length===0?-1:N($,k,C,z,ee);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call($,k,C):Uint8Array.prototype.lastIndexOf.call($,k,C):N($,[k],C,z,ee);throw new TypeError("val must be string, number or Buffer")}function N($,k,C,z,ee){let L=1,H=$.length,J=k.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if($.length<2||k.length<2)return-1;L=2,H/=2,J/=2,C/=2}function ae(pe,Ee){return L===1?pe[Ee]:pe.readUInt16BE(Ee*L)}let Ae;if(ee){let pe=-1;for(Ae=C;Ae<H;Ae++)if(ae($,Ae)===ae(k,pe===-1?0:Ae-pe)){if(pe===-1&&(pe=Ae),Ae-pe+1===J)return pe*L}else pe!==-1&&(Ae-=Ae-pe),pe=-1}else for(C+J>H&&(C=H-J),Ae=C;Ae>=0;Ae--){let pe=!0;for(let Ee=0;Ee<J;Ee++)if(ae($,Ae+Ee)!==ae(k,Ee)){pe=!1;break}if(pe)return Ae}return-1}o.prototype.includes=function(k,C,z){return this.indexOf(k,C,z)!==-1},o.prototype.indexOf=function(k,C,z){return O(this,k,C,z,!0)},o.prototype.lastIndexOf=function(k,C,z){return O(this,k,C,z,!1)};function R($,k,C,z){C=Number(C)||0;const ee=$.length-C;z?(z=Number(z),z>ee&&(z=ee)):z=ee;const L=k.length;z>L/2&&(z=L/2);let H;for(H=0;H<z;++H){const J=parseInt(k.substr(H*2,2),16);if(Vr(J))return H;$[C+H]=J}return H}function I($,k,C,z){return $t(pt(k,$.length-C),$,C,z)}function q($,k,C,z){return $t(or(k),$,C,z)}function U($,k,C,z){return $t(tr(k),$,C,z)}function D($,k,C,z){return $t(er(k,$.length-C),$,C,z)}o.prototype.write=function(k,C,z,ee){if(C===void 0)ee="utf8",z=this.length,C=0;else if(z===void 0&&typeof C=="string")ee=C,z=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(z)?(z=z>>>0,ee===void 0&&(ee="utf8")):(ee=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-C;if((z===void 0||z>L)&&(z=L),k.length>0&&(z<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let H=!1;for(;;)switch(ee){case"hex":return R(this,k,C,z);case"utf8":case"utf-8":return I(this,k,C,z);case"ascii":case"latin1":case"binary":return q(this,k,C,z);case"base64":return U(this,k,C,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,k,C,z);default:if(H)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),H=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B($,k,C){return k===0&&C===$.length?e.fromByteArray($):e.fromByteArray($.slice(k,C))}function V($,k,C){C=Math.min($.length,C);const z=[];let ee=k;for(;ee<C;){const L=$[ee];let H=null,J=L>239?4:L>223?3:L>191?2:1;if(ee+J<=C){let ae,Ae,pe,Ee;switch(J){case 1:L<128&&(H=L);break;case 2:ae=$[ee+1],(ae&192)===128&&(Ee=(L&31)<<6|ae&63,Ee>127&&(H=Ee));break;case 3:ae=$[ee+1],Ae=$[ee+2],(ae&192)===128&&(Ae&192)===128&&(Ee=(L&15)<<12|(ae&63)<<6|Ae&63,Ee>2047&&(Ee<55296||Ee>57343)&&(H=Ee));break;case 4:ae=$[ee+1],Ae=$[ee+2],pe=$[ee+3],(ae&192)===128&&(Ae&192)===128&&(pe&192)===128&&(Ee=(L&15)<<18|(ae&63)<<12|(Ae&63)<<6|pe&63,Ee>65535&&Ee<1114112&&(H=Ee))}}H===null?(H=65533,J=1):H>65535&&(H-=65536,z.push(H>>>10&1023|55296),H=56320|H&1023),z.push(H),ee+=J}return X(z)}const G=4096;function X($){const k=$.length;if(k<=G)return String.fromCharCode.apply(String,$);let C="",z=0;for(;z<k;)C+=String.fromCharCode.apply(String,$.slice(z,z+=G));return C}function ie($,k,C){let z="";C=Math.min($.length,C);for(let ee=k;ee<C;++ee)z+=String.fromCharCode($[ee]&127);return z}function ne($,k,C){let z="";C=Math.min($.length,C);for(let ee=k;ee<C;++ee)z+=String.fromCharCode($[ee]);return z}function oe($,k,C){const z=$.length;(!k||k<0)&&(k=0),(!C||C<0||C>z)&&(C=z);let ee="";for(let L=k;L<C;++L)ee+=Se[$[L]];return ee}function se($,k,C){const z=$.slice(k,C);let ee="";for(let L=0;L<z.length-1;L+=2)ee+=String.fromCharCode(z[L]+z[L+1]*256);return ee}o.prototype.slice=function(k,C){const z=this.length;k=~~k,C=C===void 0?z:~~C,k<0?(k+=z,k<0&&(k=0)):k>z&&(k=z),C<0?(C+=z,C<0&&(C=0)):C>z&&(C=z),C<k&&(C=k);const ee=this.subarray(k,C);return Object.setPrototypeOf(ee,o.prototype),ee};function W($,k,C){if($%1!==0||$<0)throw new RangeError("offset is not uint");if($+k>C)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(k,C,z){k=k>>>0,C=C>>>0,z||W(k,C,this.length);let ee=this[k],L=1,H=0;for(;++H<C&&(L*=256);)ee+=this[k+H]*L;return ee},o.prototype.readUintBE=o.prototype.readUIntBE=function(k,C,z){k=k>>>0,C=C>>>0,z||W(k,C,this.length);let ee=this[k+--C],L=1;for(;C>0&&(L*=256);)ee+=this[k+--C]*L;return ee},o.prototype.readUint8=o.prototype.readUInt8=function(k,C){return k=k>>>0,C||W(k,1,this.length),this[k]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(k,C){return k=k>>>0,C||W(k,2,this.length),this[k]|this[k+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(k,C){return k=k>>>0,C||W(k,2,this.length),this[k]<<8|this[k+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(k,C){return k=k>>>0,C||W(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(k,C){return k=k>>>0,C||W(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},o.prototype.readBigUInt64LE=Re(function(k){k=k>>>0,st(k,"offset");const C=this[k],z=this[k+7];(C===void 0||z===void 0)&&Xe(k,this.length-8);const ee=C+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24,L=this[++k]+this[++k]*2**8+this[++k]*2**16+z*2**24;return BigInt(ee)+(BigInt(L)<<BigInt(32))}),o.prototype.readBigUInt64BE=Re(function(k){k=k>>>0,st(k,"offset");const C=this[k],z=this[k+7];(C===void 0||z===void 0)&&Xe(k,this.length-8);const ee=C*2**24+this[++k]*2**16+this[++k]*2**8+this[++k],L=this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+z;return(BigInt(ee)<<BigInt(32))+BigInt(L)}),o.prototype.readIntLE=function(k,C,z){k=k>>>0,C=C>>>0,z||W(k,C,this.length);let ee=this[k],L=1,H=0;for(;++H<C&&(L*=256);)ee+=this[k+H]*L;return L*=128,ee>=L&&(ee-=Math.pow(2,8*C)),ee},o.prototype.readIntBE=function(k,C,z){k=k>>>0,C=C>>>0,z||W(k,C,this.length);let ee=C,L=1,H=this[k+--ee];for(;ee>0&&(L*=256);)H+=this[k+--ee]*L;return L*=128,H>=L&&(H-=Math.pow(2,8*C)),H},o.prototype.readInt8=function(k,C){return k=k>>>0,C||W(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},o.prototype.readInt16LE=function(k,C){k=k>>>0,C||W(k,2,this.length);const z=this[k]|this[k+1]<<8;return z&32768?z|4294901760:z},o.prototype.readInt16BE=function(k,C){k=k>>>0,C||W(k,2,this.length);const z=this[k+1]|this[k]<<8;return z&32768?z|4294901760:z},o.prototype.readInt32LE=function(k,C){return k=k>>>0,C||W(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},o.prototype.readInt32BE=function(k,C){return k=k>>>0,C||W(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},o.prototype.readBigInt64LE=Re(function(k){k=k>>>0,st(k,"offset");const C=this[k],z=this[k+7];(C===void 0||z===void 0)&&Xe(k,this.length-8);const ee=this[k+4]+this[k+5]*2**8+this[k+6]*2**16+(z<<24);return(BigInt(ee)<<BigInt(32))+BigInt(C+this[++k]*2**8+this[++k]*2**16+this[++k]*2**24)}),o.prototype.readBigInt64BE=Re(function(k){k=k>>>0,st(k,"offset");const C=this[k],z=this[k+7];(C===void 0||z===void 0)&&Xe(k,this.length-8);const ee=(C<<24)+this[++k]*2**16+this[++k]*2**8+this[++k];return(BigInt(ee)<<BigInt(32))+BigInt(this[++k]*2**24+this[++k]*2**16+this[++k]*2**8+z)}),o.prototype.readFloatLE=function(k,C){return k=k>>>0,C||W(k,4,this.length),r.read(this,k,!0,23,4)},o.prototype.readFloatBE=function(k,C){return k=k>>>0,C||W(k,4,this.length),r.read(this,k,!1,23,4)},o.prototype.readDoubleLE=function(k,C){return k=k>>>0,C||W(k,8,this.length),r.read(this,k,!0,52,8)},o.prototype.readDoubleBE=function(k,C){return k=k>>>0,C||W(k,8,this.length),r.read(this,k,!1,52,8)};function Z($,k,C,z,ee,L){if(!o.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>ee||k<L)throw new RangeError('"value" argument is out of bounds');if(C+z>$.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(k,C,z,ee){if(k=+k,C=C>>>0,z=z>>>0,!ee){const J=Math.pow(2,8*z)-1;Z(this,k,C,z,J,0)}let L=1,H=0;for(this[C]=k&255;++H<z&&(L*=256);)this[C+H]=k/L&255;return C+z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(k,C,z,ee){if(k=+k,C=C>>>0,z=z>>>0,!ee){const J=Math.pow(2,8*z)-1;Z(this,k,C,z,J,0)}let L=z-1,H=1;for(this[C+L]=k&255;--L>=0&&(H*=256);)this[C+L]=k/H&255;return C+z},o.prototype.writeUint8=o.prototype.writeUInt8=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,1,255,0),this[C]=k&255,C+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,2,65535,0),this[C]=k&255,this[C+1]=k>>>8,C+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,2,65535,0),this[C]=k>>>8,this[C+1]=k&255,C+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,4,4294967295,0),this[C+3]=k>>>24,this[C+2]=k>>>16,this[C+1]=k>>>8,this[C]=k&255,C+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,4,4294967295,0),this[C]=k>>>24,this[C+1]=k>>>16,this[C+2]=k>>>8,this[C+3]=k&255,C+4};function ge($,k,C,z,ee){he(k,z,ee,$,C,7);let L=Number(k&BigInt(4294967295));$[C++]=L,L=L>>8,$[C++]=L,L=L>>8,$[C++]=L,L=L>>8,$[C++]=L;let H=Number(k>>BigInt(32)&BigInt(4294967295));return $[C++]=H,H=H>>8,$[C++]=H,H=H>>8,$[C++]=H,H=H>>8,$[C++]=H,C}function _e($,k,C,z,ee){he(k,z,ee,$,C,7);let L=Number(k&BigInt(4294967295));$[C+7]=L,L=L>>8,$[C+6]=L,L=L>>8,$[C+5]=L,L=L>>8,$[C+4]=L;let H=Number(k>>BigInt(32)&BigInt(4294967295));return $[C+3]=H,H=H>>8,$[C+2]=H,H=H>>8,$[C+1]=H,H=H>>8,$[C]=H,C+8}o.prototype.writeBigUInt64LE=Re(function(k,C=0){return ge(this,k,C,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Re(function(k,C=0){return _e(this,k,C,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(k,C,z,ee){if(k=+k,C=C>>>0,!ee){const ae=Math.pow(2,8*z-1);Z(this,k,C,z,ae-1,-ae)}let L=0,H=1,J=0;for(this[C]=k&255;++L<z&&(H*=256);)k<0&&J===0&&this[C+L-1]!==0&&(J=1),this[C+L]=(k/H>>0)-J&255;return C+z},o.prototype.writeIntBE=function(k,C,z,ee){if(k=+k,C=C>>>0,!ee){const ae=Math.pow(2,8*z-1);Z(this,k,C,z,ae-1,-ae)}let L=z-1,H=1,J=0;for(this[C+L]=k&255;--L>=0&&(H*=256);)k<0&&J===0&&this[C+L+1]!==0&&(J=1),this[C+L]=(k/H>>0)-J&255;return C+z},o.prototype.writeInt8=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,1,127,-128),k<0&&(k=255+k+1),this[C]=k&255,C+1},o.prototype.writeInt16LE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,2,32767,-32768),this[C]=k&255,this[C+1]=k>>>8,C+2},o.prototype.writeInt16BE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,2,32767,-32768),this[C]=k>>>8,this[C+1]=k&255,C+2},o.prototype.writeInt32LE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,4,2147483647,-2147483648),this[C]=k&255,this[C+1]=k>>>8,this[C+2]=k>>>16,this[C+3]=k>>>24,C+4},o.prototype.writeInt32BE=function(k,C,z){return k=+k,C=C>>>0,z||Z(this,k,C,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[C]=k>>>24,this[C+1]=k>>>16,this[C+2]=k>>>8,this[C+3]=k&255,C+4},o.prototype.writeBigInt64LE=Re(function(k,C=0){return ge(this,k,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Re(function(k,C=0){return _e(this,k,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Pe($,k,C,z,ee,L){if(C+z>$.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function Me($,k,C,z,ee){return k=+k,C=C>>>0,ee||Pe($,k,C,4),r.write($,k,C,z,23,4),C+4}o.prototype.writeFloatLE=function(k,C,z){return Me(this,k,C,!0,z)},o.prototype.writeFloatBE=function(k,C,z){return Me(this,k,C,!1,z)};function Ze($,k,C,z,ee){return k=+k,C=C>>>0,ee||Pe($,k,C,8),r.write($,k,C,z,52,8),C+8}o.prototype.writeDoubleLE=function(k,C,z){return Ze(this,k,C,!0,z)},o.prototype.writeDoubleBE=function(k,C,z){return Ze(this,k,C,!1,z)},o.prototype.copy=function(k,C,z,ee){if(!o.isBuffer(k))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ee&&ee!==0&&(ee=this.length),C>=k.length&&(C=k.length),C||(C=0),ee>0&&ee<z&&(ee=z),ee===z||k.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),k.length-C<ee-z&&(ee=k.length-C+z);const L=ee-z;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,z,ee):Uint8Array.prototype.set.call(k,this.subarray(z,ee),C),L},o.prototype.fill=function(k,C,z,ee){if(typeof k=="string"){if(typeof C=="string"?(ee=C,C=0,z=this.length):typeof z=="string"&&(ee=z,z=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!o.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(k.length===1){const H=k.charCodeAt(0);(ee==="utf8"&&H<128||ee==="latin1")&&(k=H)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(C<0||this.length<C||this.length<z)throw new RangeError("Out of range index");if(z<=C)return this;C=C>>>0,z=z===void 0?this.length:z>>>0,k||(k=0);let L;if(typeof k=="number")for(L=C;L<z;++L)this[L]=k;else{const H=o.isBuffer(k)?k:o.from(k,ee),J=H.length;if(J===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(L=0;L<z-C;++L)this[L+C]=H[L%J]}return this};const Fe={};function me($,k,C){Fe[$]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${$}]`,this.stack,delete this.name}get code(){return $}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${$}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function($){return $?`${$} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function($,k){return`The "${$}" argument must be of type number. Received type ${typeof k}`},TypeError),me("ERR_OUT_OF_RANGE",function($,k,C){let z=`The value of "${$}" is out of range.`,ee=C;return Number.isInteger(C)&&Math.abs(C)>2**32?ee=Oe(String(C)):typeof C=="bigint"&&(ee=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(ee=Oe(ee)),ee+="n"),z+=` It must be ${k}. Received ${ee}`,z},RangeError);function Oe($){let k="",C=$.length;const z=$[0]==="-"?1:0;for(;C>=z+4;C-=3)k=`_${$.slice(C-3,C)}${k}`;return`${$.slice(0,C)}${k}`}function Ve($,k,C){st(k,"offset"),($[k]===void 0||$[k+C]===void 0)&&Xe(k,$.length-(C+1))}function he($,k,C,z,ee,L){if($>C||$<k){const H=typeof k=="bigint"?"n":"";let J;throw k===0||k===BigInt(0)?J=`>= 0${H} and < 2${H} ** ${(L+1)*8}${H}`:J=`>= -(2${H} ** ${(L+1)*8-1}${H}) and < 2 ** ${(L+1)*8-1}${H}`,new Fe.ERR_OUT_OF_RANGE("value",J,$)}Ve(z,ee,L)}function st($,k){if(typeof $!="number")throw new Fe.ERR_INVALID_ARG_TYPE(k,"number",$)}function Xe($,k,C){throw Math.floor($)!==$?(st($,C),new Fe.ERR_OUT_OF_RANGE("offset","an integer",$)):k<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${k}`,$)}const yt=/[^+/0-9A-Za-z-_]/g;function vt($){if($=$.split("=")[0],$=$.trim().replace(yt,""),$.length<2)return"";for(;$.length%4!==0;)$=$+"=";return $}function pt($,k){k=k||1/0;let C;const z=$.length;let ee=null;const L=[];for(let H=0;H<z;++H){if(C=$.charCodeAt(H),C>55295&&C<57344){if(!ee){if(C>56319){(k-=3)>-1&&L.push(239,191,189);continue}else if(H+1===z){(k-=3)>-1&&L.push(239,191,189);continue}ee=C;continue}if(C<56320){(k-=3)>-1&&L.push(239,191,189),ee=C;continue}C=(ee-55296<<10|C-56320)+65536}else ee&&(k-=3)>-1&&L.push(239,191,189);if(ee=null,C<128){if((k-=1)<0)break;L.push(C)}else if(C<2048){if((k-=2)<0)break;L.push(C>>6|192,C&63|128)}else if(C<65536){if((k-=3)<0)break;L.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((k-=4)<0)break;L.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return L}function or($){const k=[];for(let C=0;C<$.length;++C)k.push($.charCodeAt(C)&255);return k}function er($,k){let C,z,ee;const L=[];for(let H=0;H<$.length&&!((k-=2)<0);++H)C=$.charCodeAt(H),z=C>>8,ee=C%256,L.push(ee),L.push(z);return L}function tr($){return e.toByteArray(vt($))}function $t($,k,C,z){let ee;for(ee=0;ee<z&&!(ee+C>=k.length||ee>=$.length);++ee)k[ee+C]=$[ee];return ee}function Et($,k){return $ instanceof k||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===k.name}function Vr($){return $!==$}const Se=(function(){const $="0123456789abcdef",k=new Array(256);for(let C=0;C<16;++C){const z=C*16;for(let ee=0;ee<16;++ee)k[z+ee]=$[C]+$[ee]}return k})();function Re($){return typeof BigInt>"u"?_t:$}function _t(){throw new Error("BigInt not supported")}})(I0)),I0}var bt=G9(),Xs={},ed={},D0={},WP;function gi(){return WP||(WP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.Lengths=t.Flags=t.FrameTypes=void 0;var e;(function(r){r[r.RESERVED=0]="RESERVED",r[r.SETUP=1]="SETUP",r[r.LEASE=2]="LEASE",r[r.KEEPALIVE=3]="KEEPALIVE",r[r.REQUEST_RESPONSE=4]="REQUEST_RESPONSE",r[r.REQUEST_FNF=5]="REQUEST_FNF",r[r.REQUEST_STREAM=6]="REQUEST_STREAM",r[r.REQUEST_CHANNEL=7]="REQUEST_CHANNEL",r[r.REQUEST_N=8]="REQUEST_N",r[r.CANCEL=9]="CANCEL",r[r.PAYLOAD=10]="PAYLOAD",r[r.ERROR=11]="ERROR",r[r.METADATA_PUSH=12]="METADATA_PUSH",r[r.RESUME=13]="RESUME",r[r.RESUME_OK=14]="RESUME_OK",r[r.EXT=63]="EXT"})(e=t.FrameTypes||(t.FrameTypes={})),(function(r){r[r.NONE=0]="NONE",r[r.COMPLETE=64]="COMPLETE",r[r.FOLLOWS=128]="FOLLOWS",r[r.IGNORE=512]="IGNORE",r[r.LEASE=64]="LEASE",r[r.METADATA=256]="METADATA",r[r.NEXT=32]="NEXT",r[r.RESPOND=128]="RESPOND",r[r.RESUME_ENABLE=128]="RESUME_ENABLE"})(t.Flags||(t.Flags={})),(function(r){function n(h){return(h&r.METADATA)===r.METADATA}r.hasMetadata=n;function i(h){return(h&r.COMPLETE)===r.COMPLETE}r.hasComplete=i;function a(h){return(h&r.NEXT)===r.NEXT}r.hasNext=a;function s(h){return(h&r.FOLLOWS)===r.FOLLOWS}r.hasFollows=s;function o(h){return(h&r.IGNORE)===r.IGNORE}r.hasIgnore=o;function c(h){return(h&r.RESPOND)===r.RESPOND}r.hasRespond=c;function d(h){return(h&r.LEASE)===r.LEASE}r.hasLease=d;function p(h){return(h&r.RESUME_ENABLE)===r.RESUME_ENABLE}r.hasResume=p})(t.Flags||(t.Flags={})),(function(r){r[r.FRAME=3]="FRAME",r[r.HEADER=6]="HEADER",r[r.METADATA=3]="METADATA",r[r.REQUEST=3]="REQUEST"})(t.Lengths||(t.Lengths={})),(function(r){function n(a){return a.streamId===0}r.isConnection=n;function i(a){return e.REQUEST_RESPONSE<=a.type&&a.type<=e.REQUEST_CHANNEL}r.isRequest=i})(t.Frame||(t.Frame={}))})(D0)),D0}var HP;function d$(){return HP||(HP=1,(function(t){var e=ed&&ed.__generator||function(L,H){var J={label:0,sent:function(){if(pe[0]&1)throw pe[1];return pe[1]},trys:[],ops:[]},ae,Ae,pe,Ee;return Ee={next:jr(0),throw:jr(1),return:jr(2)},typeof Symbol=="function"&&(Ee[Symbol.iterator]=function(){return this}),Ee;function jr(at){return function(pn){return vi([at,pn])}}function vi(at){if(ae)throw new TypeError("Generator is already executing.");for(;J;)try{if(ae=1,Ae&&(pe=at[0]&2?Ae.return:at[0]?Ae.throw||((pe=Ae.return)&&pe.call(Ae),0):Ae.next)&&!(pe=pe.call(Ae,at[1])).done)return pe;switch(Ae=0,pe&&(at=[at[0]&2,pe.value]),at[0]){case 0:case 1:pe=at;break;case 4:return J.label++,{value:at[1],done:!1};case 5:J.label++,Ae=at[1],at=[0];continue;case 7:at=J.ops.pop(),J.trys.pop();continue;default:if(pe=J.trys,!(pe=pe.length>0&&pe[pe.length-1])&&(at[0]===6||at[0]===2)){J=0;continue}if(at[0]===3&&(!pe||at[1]>pe[0]&&at[1]<pe[3])){J.label=at[1];break}if(at[0]===6&&J.label<pe[1]){J.label=pe[1],pe=at;break}if(pe&&J.label<pe[2]){J.label=pe[2],J.ops.push(at);break}pe[2]&&J.ops.pop(),J.trys.pop();continue}at=H.call(L,J)}catch(pn){at=[6,pn],Ae=0}finally{ae=pe=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Deserializer=t.sizeOfFrame=t.serializeFrame=t.deserializeFrame=t.serializeFrameWithLength=t.deserializeFrames=t.deserializeFrameWithLength=t.writeUInt64BE=t.readUInt64BE=t.writeUInt24BE=t.readUInt24BE=t.MAX_VERSION=t.MAX_TTL=t.MAX_STREAM_ID=t.MAX_RESUME_LENGTH=t.MAX_REQUEST_N=t.MAX_REQUEST_COUNT=t.MAX_MIME_LENGTH=t.MAX_METADATA_LENGTH=t.MAX_LIFETIME=t.MAX_KEEPALIVE=t.MAX_CODE=t.FRAME_TYPE_OFFFSET=t.FLAGS_MASK=void 0;var r=gi();t.FLAGS_MASK=1023,t.FRAME_TYPE_OFFFSET=10,t.MAX_CODE=2147483647,t.MAX_KEEPALIVE=2147483647,t.MAX_LIFETIME=2147483647,t.MAX_METADATA_LENGTH=16777215,t.MAX_MIME_LENGTH=255,t.MAX_REQUEST_COUNT=2147483647,t.MAX_REQUEST_N=2147483647,t.MAX_RESUME_LENGTH=65535,t.MAX_STREAM_ID=2147483647,t.MAX_TTL=2147483647,t.MAX_VERSION=65535;var n=4294967296;function i(L,H){var J=L.readUInt8(H)<<16,ae=L.readUInt8(H+1)<<8,Ae=L.readUInt8(H+2);return J|ae|Ae}t.readUInt24BE=i;function a(L,H,J){return J=L.writeUInt8(H>>>16,J),J=L.writeUInt8(H>>>8&255,J),L.writeUInt8(H&255,J)}t.writeUInt24BE=a;function s(L,H){var J=L.readUInt32BE(H),ae=L.readUInt32BE(H+4);return J*n+ae}t.readUInt64BE=s;function o(L,H,J){var ae=H/n|0,Ae=H%n;return J=L.writeUInt32BE(ae,J),L.writeUInt32BE(Ae,J)}t.writeUInt64BE=o;var c=6,d=3;function p(L){var H=i(L,0);return g(L.slice(d,d+H))}t.deserializeFrameWithLength=p;function h(L){var H,J,ae,Ae,pe,Ee;return e(this,function(jr){switch(jr.label){case 0:H=0,jr.label=1;case 1:return H+d<L.length?(J=i(L,H),ae=H+d,Ae=ae+J,Ae>L.length?[3,3]:(pe=L.slice(ae,Ae),Ee=g(pe),H=Ae,[4,[Ee,H]])):[3,3];case 2:return jr.sent(),[3,1];case 3:return[2]}})}t.deserializeFrames=h;function m(L){var H=b(L),J=bt.Buffer.allocUnsafe(H.length+d);return a(J,H.length,0),H.copy(J,d),J}t.serializeFrameWithLength=m;function g(L){var H=0,J=L.readInt32BE(H);H+=4;var ae=L.readUInt16BE(H);H+=2;var Ae=ae>>>t.FRAME_TYPE_OFFFSET,pe=ae&t.FLAGS_MASK;switch(Ae){case r.FrameTypes.SETUP:return T(L,J,pe);case r.FrameTypes.PAYLOAD:return or(L,J,pe);case r.FrameTypes.ERROR:return R(L,J,pe);case r.FrameTypes.KEEPALIVE:return D(L,J,pe);case r.FrameTypes.REQUEST_FNF:return W(L,J,pe);case r.FrameTypes.REQUEST_RESPONSE:return Z(L,J,pe);case r.FrameTypes.REQUEST_STREAM:return Ze(L,J,pe);case r.FrameTypes.REQUEST_CHANNEL:return Fe(L,J,pe);case r.FrameTypes.METADATA_PUSH:return ge(L,J,pe);case r.FrameTypes.REQUEST_N:return he(L,J,pe);case r.FrameTypes.RESUME:return Et(L,J,pe);case r.FrameTypes.RESUME_OK:return _t(L,J,pe);case r.FrameTypes.CANCEL:return yt(L,J,pe);case r.FrameTypes.LEASE:return X(L,J,pe)}}t.deserializeFrame=g;function b(L){switch(L.type){case r.FrameTypes.SETUP:return S(L);case r.FrameTypes.PAYLOAD:return vt(L);case r.FrameTypes.ERROR:return O(L);case r.FrameTypes.KEEPALIVE:return q(L);case r.FrameTypes.REQUEST_FNF:case r.FrameTypes.REQUEST_RESPONSE:return ie(L);case r.FrameTypes.REQUEST_STREAM:case r.FrameTypes.REQUEST_CHANNEL:return Pe(L);case r.FrameTypes.METADATA_PUSH:return oe(L);case r.FrameTypes.REQUEST_N:return Oe(L);case r.FrameTypes.RESUME:return tr(L);case r.FrameTypes.RESUME_OK:return Se(L);case r.FrameTypes.CANCEL:return st(L);case r.FrameTypes.LEASE:return V(L)}}t.serializeFrame=b;function v(L){switch(L.type){case r.FrameTypes.SETUP:return E(L);case r.FrameTypes.PAYLOAD:return pt(L);case r.FrameTypes.ERROR:return N(L);case r.FrameTypes.KEEPALIVE:return U(L);case r.FrameTypes.REQUEST_FNF:case r.FrameTypes.REQUEST_RESPONSE:return ne(L);case r.FrameTypes.REQUEST_STREAM:case r.FrameTypes.REQUEST_CHANNEL:return Me(L);case r.FrameTypes.METADATA_PUSH:return se(L);case r.FrameTypes.REQUEST_N:return Ve();case r.FrameTypes.RESUME:return $t(L);case r.FrameTypes.RESUME_OK:return Re();case r.FrameTypes.CANCEL:return Xe();case r.FrameTypes.LEASE:return G(L)}}t.sizeOfFrame=v;var x=14,w=2;function S(L){var H=L.resumeToken!=null?L.resumeToken.byteLength:0,J=L.metadataMimeType!=null?bt.Buffer.byteLength(L.metadataMimeType,"ascii"):0,ae=L.dataMimeType!=null?bt.Buffer.byteLength(L.dataMimeType,"ascii"):0,Ae=k(L),pe=bt.Buffer.allocUnsafe(c+x+(H?w+H:0)+J+ae+Ae),Ee=$(L,pe);return Ee=pe.writeUInt16BE(L.majorVersion,Ee),Ee=pe.writeUInt16BE(L.minorVersion,Ee),Ee=pe.writeUInt32BE(L.keepAlive,Ee),Ee=pe.writeUInt32BE(L.lifetime,Ee),L.flags&r.Flags.RESUME_ENABLE&&(Ee=pe.writeUInt16BE(H,Ee),L.resumeToken!=null&&(Ee+=L.resumeToken.copy(pe,Ee))),Ee=pe.writeUInt8(J,Ee),L.metadataMimeType!=null&&(Ee+=pe.write(L.metadataMimeType,Ee,Ee+J,"ascii")),Ee=pe.writeUInt8(ae,Ee),L.dataMimeType!=null&&(Ee+=pe.write(L.dataMimeType,Ee,Ee+ae,"ascii")),C(L,pe,Ee),pe}function E(L){var H=L.resumeToken!=null?L.resumeToken.byteLength:0,J=L.metadataMimeType!=null?bt.Buffer.byteLength(L.metadataMimeType,"ascii"):0,ae=L.dataMimeType!=null?bt.Buffer.byteLength(L.dataMimeType,"ascii"):0,Ae=k(L);return c+x+(H?w+H:0)+J+ae+Ae}function T(L,H,J){L.length;var ae=c,Ae=L.readUInt16BE(ae);ae+=2;var pe=L.readUInt16BE(ae);ae+=2;var Ee=L.readInt32BE(ae);ae+=4;var jr=L.readInt32BE(ae);ae+=4;var vi=null;if(J&r.Flags.RESUME_ENABLE){var at=L.readInt16BE(ae);ae+=2,vi=L.slice(ae,ae+at),ae+=at}var pn=L.readUInt8(ae);ae+=1;var rh=L.toString("ascii",ae,ae+pn);ae+=pn;var fu=L.readUInt8(ae);ae+=1;var nh=L.toString("ascii",ae,ae+fu);ae+=fu;var hu={data:null,dataMimeType:nh,flags:J,keepAlive:Ee,lifetime:jr,majorVersion:Ae,metadata:null,metadataMimeType:rh,minorVersion:pe,resumeToken:vi,streamId:0,type:r.FrameTypes.SETUP};return z(L,hu,ae),hu}var j=4;function O(L){var H=L.message!=null?bt.Buffer.byteLength(L.message,"utf8"):0,J=bt.Buffer.allocUnsafe(c+j+H),ae=$(L,J);return ae=J.writeUInt32BE(L.code,ae),L.message!=null&&J.write(L.message,ae,ae+H,"utf8"),J}function N(L){var H=L.message!=null?bt.Buffer.byteLength(L.message,"utf8"):0;return c+j+H}function R(L,H,J){L.length;var ae=c,Ae=L.readInt32BE(ae);ae+=4;var pe=L.length-ae,Ee="";return pe>0&&(Ee=L.toString("utf8",ae,ae+pe),ae+=pe),{code:Ae,flags:J,message:Ee,streamId:H,type:r.FrameTypes.ERROR}}var I=8;function q(L){var H=L.data!=null?L.data.byteLength:0,J=bt.Buffer.allocUnsafe(c+I+H),ae=$(L,J);return ae=o(J,L.lastReceivedPosition,ae),L.data!=null&&L.data.copy(J,ae),J}function U(L){var H=L.data!=null?L.data.byteLength:0;return c+I+H}function D(L,H,J){L.length;var ae=c,Ae=s(L,ae);ae+=8;var pe=null;return ae<L.length&&(pe=L.slice(ae,L.length)),{data:pe,flags:J,lastReceivedPosition:Ae,streamId:0,type:r.FrameTypes.KEEPALIVE}}var B=8;function V(L){var H=L.metadata!=null?L.metadata.byteLength:0,J=bt.Buffer.allocUnsafe(c+B+H),ae=$(L,J);return ae=J.writeUInt32BE(L.ttl,ae),ae=J.writeUInt32BE(L.requestCount,ae),L.metadata!=null&&L.metadata.copy(J,ae),J}function G(L){var H=L.metadata!=null?L.metadata.byteLength:0;return c+B+H}function X(L,H,J){var ae=c,Ae=L.readUInt32BE(ae);ae+=4;var pe=L.readUInt32BE(ae);ae+=4;var Ee=null;return ae<L.length&&(Ee=L.slice(ae,L.length)),{flags:J,metadata:Ee,requestCount:pe,streamId:0,ttl:Ae,type:r.FrameTypes.LEASE}}function ie(L){var H=k(L),J=bt.Buffer.allocUnsafe(c+H),ae=$(L,J);return C(L,J,ae),J}function ne(L){var H=k(L);return c+H}function oe(L){var H=L.metadata;if(H!=null){var J=bt.Buffer.allocUnsafe(c+H.byteLength),ae=$(L,J);return H.copy(J,ae),J}else{var J=bt.Buffer.allocUnsafe(c);return $(L,J),J}}function se(L){return c+(L.metadata!=null?L.metadata.byteLength:0)}function W(L,H,J){L.length;var ae={data:null,flags:J,metadata:null,streamId:H,type:r.FrameTypes.REQUEST_FNF};return z(L,ae,c),ae}function Z(L,H,J){var ae={data:null,flags:J,metadata:null,streamId:H,type:r.FrameTypes.REQUEST_RESPONSE};return z(L,ae,c),ae}function ge(L,H,J){return{flags:J,metadata:length===c?null:L.slice(c,length),streamId:0,type:r.FrameTypes.METADATA_PUSH}}var _e=4;function Pe(L){var H=k(L),J=bt.Buffer.allocUnsafe(c+_e+H),ae=$(L,J);return ae=J.writeUInt32BE(L.requestN,ae),C(L,J,ae),J}function Me(L){var H=k(L);return c+_e+H}function Ze(L,H,J){L.length;var ae=c,Ae=L.readInt32BE(ae);ae+=4;var pe={data:null,flags:J,metadata:null,requestN:Ae,streamId:H,type:r.FrameTypes.REQUEST_STREAM};return z(L,pe,ae),pe}function Fe(L,H,J){L.length;var ae=c,Ae=L.readInt32BE(ae);ae+=4;var pe={data:null,flags:J,metadata:null,requestN:Ae,streamId:H,type:r.FrameTypes.REQUEST_CHANNEL};return z(L,pe,ae),pe}var me=4;function Oe(L){var H=bt.Buffer.allocUnsafe(c+me),J=$(L,H);return H.writeUInt32BE(L.requestN,J),H}function Ve(L){return c+me}function he(L,H,J){L.length;var ae=L.readInt32BE(c);return{flags:J,requestN:ae,streamId:H,type:r.FrameTypes.REQUEST_N}}function st(L){var H=bt.Buffer.allocUnsafe(c);return $(L,H),H}function Xe(L){return c}function yt(L,H,J){return L.length,{flags:J,streamId:H,type:r.FrameTypes.CANCEL}}function vt(L){var H=k(L),J=bt.Buffer.allocUnsafe(c+H),ae=$(L,J);return C(L,J,ae),J}function pt(L){var H=k(L);return c+H}function or(L,H,J){L.length;var ae={data:null,flags:J,metadata:null,streamId:H,type:r.FrameTypes.PAYLOAD};return z(L,ae,c),ae}var er=22;function tr(L){var H=L.resumeToken.byteLength,J=bt.Buffer.allocUnsafe(c+er+H),ae=$(L,J);return ae=J.writeUInt16BE(L.majorVersion,ae),ae=J.writeUInt16BE(L.minorVersion,ae),ae=J.writeUInt16BE(H,ae),ae+=L.resumeToken.copy(J,ae),ae=o(J,L.serverPosition,ae),o(J,L.clientPosition,ae),J}function $t(L){var H=L.resumeToken.byteLength;return c+er+H}function Et(L,H,J){L.length;var ae=c,Ae=L.readUInt16BE(ae);ae+=2;var pe=L.readUInt16BE(ae);ae+=2;var Ee=L.readInt16BE(ae);ae+=2;var jr=L.slice(ae,ae+Ee);ae+=Ee;var vi=s(L,ae);ae+=8;var at=s(L,ae);return ae+=8,{clientPosition:at,flags:J,majorVersion:Ae,minorVersion:pe,resumeToken:jr,serverPosition:vi,streamId:0,type:r.FrameTypes.RESUME}}var Vr=8;function Se(L){var H=bt.Buffer.allocUnsafe(c+Vr),J=$(L,H);return o(H,L.clientPosition,J),H}function Re(L){return c+Vr}function _t(L,H,J){L.length;var ae=s(L,c);return{clientPosition:ae,flags:J,streamId:0,type:r.FrameTypes.RESUME_OK}}function $(L,H){var J=H.writeInt32BE(L.streamId,0);return H.writeUInt16BE(L.type<<t.FRAME_TYPE_OFFFSET|L.flags&t.FLAGS_MASK,J)}function k(L){var H=0;return L.data!=null&&(H+=L.data.byteLength),r.Flags.hasMetadata(L.flags)&&(H+=d,L.metadata!=null&&(H+=L.metadata.byteLength)),H}function C(L,H,J){if(r.Flags.hasMetadata(L.flags))if(L.metadata!=null){var ae=L.metadata.byteLength;J=a(H,ae,J),J+=L.metadata.copy(H,J)}else J=a(H,0,J);L.data!=null&&L.data.copy(H,J)}function z(L,H,J){if(r.Flags.hasMetadata(H.flags)){var ae=i(L,J);J+=d,ae>0&&(H.metadata=L.slice(J,J+ae),J+=ae)}J<L.length&&(H.data=L.slice(J,L.length))}var ee=(function(){function L(){}return L.prototype.deserializeFrame=function(H){return g(H)},L.prototype.deserializeFrameWithLength=function(H){return p(H)},L.prototype.deserializeFrames=function(H){return h(H)},L})();t.Deserializer=ee})(ed)),ed}var M0={},KP;function Q9(){return KP||(KP=1,Object.defineProperty(M0,"__esModule",{value:!0})),M0}var Js={},GP;function f$(){if(GP)return Js;GP=1;var t=Js&&Js.__values||function(r){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Js,"__esModule",{value:!0}),Js.Deferred=void 0;var e=(function(){function r(){this._done=!1,this.onCloseCallbacks=[]}return Object.defineProperty(r.prototype,"done",{get:function(){return this._done},enumerable:!1,configurable:!0}),r.prototype.close=function(n){var i,a,s,o;if(this.done){console.warn("Trying to close for the second time. ".concat(n?"Dropping error [".concat(n,"]."):""));return}if(this._done=!0,this._error=n,n){try{for(var c=t(this.onCloseCallbacks),d=c.next();!d.done;d=c.next()){var p=d.value;p(n)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return}try{for(var h=t(this.onCloseCallbacks),m=h.next();!m.done;m=h.next()){var p=m.value;p()}}catch(g){s={error:g}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(s)throw s.error}}},r.prototype.onClose=function(n){if(this._done){n(this._error);return}this.onCloseCallbacks.push(n)},r})();return Js.Deferred=e,Js}var td={},QP;function Os(){return QP||(QP=1,(function(t){var e=td&&td.__extends||(function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCodes=t.RSocketError=void 0;var r=(function(n){e(i,n);function i(a,s){var o=n.call(this,s)||this;return o.code=a,o}return i})(Error);t.RSocketError=r,(function(n){n[n.RESERVED=0]="RESERVED",n[n.INVALID_SETUP=1]="INVALID_SETUP",n[n.UNSUPPORTED_SETUP=2]="UNSUPPORTED_SETUP",n[n.REJECTED_SETUP=3]="REJECTED_SETUP",n[n.REJECTED_RESUME=4]="REJECTED_RESUME",n[n.CONNECTION_CLOSE=258]="CONNECTION_CLOSE",n[n.CONNECTION_ERROR=257]="CONNECTION_ERROR",n[n.APPLICATION_ERROR=513]="APPLICATION_ERROR",n[n.REJECTED=514]="REJECTED",n[n.CANCELED=515]="CANCELED",n[n.INVALID=516]="INVALID",n[n.RESERVED_EXTENSION=4294967295]="RESERVED_EXTENSION"})(t.ErrorCodes||(t.ErrorCodes={}))})(td)),td}var L0={},YP;function Y9(){return YP||(YP=1,Object.defineProperty(L0,"__esModule",{value:!0})),L0}var Zi={},ea={},XP;function h$(){return XP||(XP=1,(function(t){var e=ea&&ea.__extends||(function(){var h=function(m,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,v){b.__proto__=v}||function(b,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(b[x]=v[x])},h(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(m,g);function b(){this.constructor=m}m.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}})(),r=ea&&ea.__awaiter||function(h,m,g,b){function v(x){return x instanceof g?x:new g(function(w){w(x)})}return new(g||(g=Promise))(function(x,w){function S(j){try{T(b.next(j))}catch(O){w(O)}}function E(j){try{T(b.throw(j))}catch(O){w(O)}}function T(j){j.done?x(j.value):v(j.value).then(S,E)}T((b=b.apply(h,m||[])).next())})},n=ea&&ea.__generator||function(h,m){var g={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},b,v,x,w;return w={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function S(T){return function(j){return E([T,j])}}function E(T){if(b)throw new TypeError("Generator is already executing.");for(;g;)try{if(b=1,v&&(x=T[0]&2?v.return:T[0]?v.throw||((x=v.return)&&x.call(v),0):v.next)&&!(x=x.call(v,T[1])).done)return x;switch(v=0,x&&(T=[T[0]&2,x.value]),T[0]){case 0:case 1:x=T;break;case 4:return g.label++,{value:T[1],done:!1};case 5:g.label++,v=T[1],T=[0];continue;case 7:T=g.ops.pop(),g.trys.pop();continue;default:if(x=g.trys,!(x=x.length>0&&x[x.length-1])&&(T[0]===6||T[0]===2)){g=0;continue}if(T[0]===3&&(!x||T[1]>x[0]&&T[1]<x[3])){g.label=T[1];break}if(T[0]===6&&g.label<x[1]){g.label=x[1],x=T;break}if(x&&g.label<x[2]){g.label=x[2],g.ops.push(T);break}x[2]&&g.ops.pop(),g.trys.pop();continue}T=m.call(h,g)}catch(j){T=[6,j],v=0}finally{b=x=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResumeOkAwaitingResumableClientServerInputMultiplexerDemultiplexer=t.ResumableClientServerInputMultiplexerDemultiplexer=t.ClientServerInputMultiplexerDemultiplexer=t.StreamIdGenerator=void 0;var i=Wg(),a=f$(),s=Os(),o=gi();(function(h){function m(b){return new g(b)}h.create=m;var g=(function(){function b(v){this.currentId=v}return b.prototype.next=function(v){var x=this.currentId+2;v(x)&&(this.currentId=x)},b})()})(t.StreamIdGenerator||(t.StreamIdGenerator={}));var c=(function(h){e(m,h);function m(g,b,v){var x=h.call(this)||this;return x.streamIdSupplier=g,x.outbound=b,x.closeable=v,x.registry={},v.onClose(x.close.bind(x)),x}return m.prototype.handle=function(g){if(o.Frame.isConnection(g)){if(g.type===i.FrameTypes.RESERVED)return;this.connectionFramesHandler.handle(g)}else if(o.Frame.isRequest(g)){if(this.registry[g.streamId])return;this.requestFramesHandler.handle(g,this)}else{var b=this.registry[g.streamId];if(!b)return;b.handle(g)}},m.prototype.connectionInbound=function(g){if(this.connectionFramesHandler)throw new Error("Connection frame handler has already been installed");this.connectionFramesHandler=g},m.prototype.handleRequestStream=function(g){if(this.requestFramesHandler)throw new Error("Stream handler has already been installed");this.requestFramesHandler=g},m.prototype.send=function(g){this.outbound.send(g)},Object.defineProperty(m.prototype,"connectionOutbound",{get:function(){return this},enumerable:!1,configurable:!0}),m.prototype.createRequestStream=function(g){var b=this;if(this.done){g.handleReject(new Error("Already closed"));return}var v=this.registry;this.streamIdSupplier.next(function(x){return g.handleReady(x,b)},Object.keys(v))},m.prototype.connect=function(g){this.registry[g.streamId]=g},m.prototype.disconnect=function(g){delete this.registry[g.streamId]},m.prototype.close=function(g){if(this.done){h.prototype.close.call(this,g);return}for(var b in this.registry){var v=this.registry[b];v.close(new Error("Closed. ".concat(g?"Original cause [".concat(g,"]."):"")))}h.prototype.close.call(this,g)},m})(a.Deferred);t.ClientServerInputMultiplexerDemultiplexer=c;var d=(function(h){e(m,h);function m(g,b,v,x,w,S,E){var T=h.call(this,g,b,new a.Deferred)||this;return T.frameStore=x,T.token=w,T.sessionTimeout=E,S instanceof Function?T.reconnector=S:T.sessionStore=S,v.onClose(T.handleConnectionClose.bind(T)),T}return m.prototype.send=function(g){if(o.Frame.isConnection(g)){if(g.type===i.FrameTypes.KEEPALIVE)g.lastReceivedPosition=this.frameStore.lastReceivedFramePosition;else if(g.type===i.FrameTypes.ERROR){this.outbound.send(g),this.sessionStore&&delete this.sessionStore[this.token],h.prototype.close.call(this,new s.RSocketError(g.code,g.message));return}}else this.frameStore.store(g);this.outbound.send(g)},m.prototype.handle=function(g){if(o.Frame.isConnection(g)){if(g.type===i.FrameTypes.KEEPALIVE)try{this.frameStore.dropTo(g.lastReceivedPosition)}catch(b){this.outbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:b.code,message:b.message}),this.close(b)}else if(g.type===i.FrameTypes.ERROR){h.prototype.handle.call(this,g),this.sessionStore&&delete this.sessionStore[this.token],h.prototype.close.call(this,new s.RSocketError(g.code,g.message));return}}else this.frameStore.record(g);h.prototype.handle.call(this,g)},m.prototype.resume=function(g,b,v){switch(this.outbound=b,g.type){case i.FrameTypes.RESUME:{if(clearTimeout(this.timeoutId),this.frameStore.lastReceivedFramePosition<g.clientPosition){var x=new s.RSocketError(i.ErrorCodes.REJECTED_RESUME,"Impossible to resume since first available client frame position is greater than last received server frame position");this.outbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:x.code,message:x.message}),this.close(x);return}try{this.frameStore.dropTo(g.serverPosition)}catch(w){this.outbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:w.code,message:w.message}),this.close(w);return}this.outbound.send({type:i.FrameTypes.RESUME_OK,streamId:0,flags:i.Flags.NONE,clientPosition:this.frameStore.lastReceivedFramePosition});break}case i.FrameTypes.RESUME_OK:{try{this.frameStore.dropTo(g.clientPosition)}catch(w){this.outbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:w.code,message:w.message}),this.close(w)}break}}this.frameStore.drain(this.outbound.send.bind(this.outbound)),v.onClose(this.handleConnectionClose.bind(this)),this.connectionFramesHandler.resume()},m.prototype.handleConnectionClose=function(g){return r(this,void 0,void 0,function(){var b;return n(this,function(v){switch(v.label){case 0:if(this.connectionFramesHandler.pause(),!this.reconnector)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.reconnector(this,this.frameStore)];case 2:return v.sent(),[3,4];case 3:return b=v.sent(),this.close(b),[3,4];case 4:return[3,6];case 5:this.timeoutId=setTimeout(this.close.bind(this),this.sessionTimeout),v.label=6;case 6:return[2]}})})},m})(c);t.ResumableClientServerInputMultiplexerDemultiplexer=d;var p=(function(){function h(m,g,b){this.outbound=m,this.closeable=g,this.delegate=b,this.resumed=!1}return h.prototype.close=function(){this.delegate.close()},h.prototype.onClose=function(m){this.delegate.onClose(m)},Object.defineProperty(h.prototype,"connectionOutbound",{get:function(){return this.delegate.connectionOutbound},enumerable:!1,configurable:!0}),h.prototype.createRequestStream=function(m){this.delegate.createRequestStream(m)},h.prototype.connectionInbound=function(m){this.delegate.connectionInbound(m)},h.prototype.handleRequestStream=function(m){this.delegate.handleRequestStream(m)},h.prototype.handle=function(m){var g=this;if(!this.resumed){if(m.type===i.FrameTypes.RESUME_OK){this.resumed=!0,this.delegate.resume(m,this.outbound,this.closeable);return}else this.outbound.send({type:i.FrameTypes.ERROR,streamId:0,code:i.ErrorCodes.CONNECTION_ERROR,message:"Incomplete RESUME handshake. Unexpected frame ".concat(m.type," received"),flags:i.Flags.NONE}),this.closeable.close(),this.closeable.onClose(function(){return g.delegate.close(new s.RSocketError(i.ErrorCodes.CONNECTION_ERROR,"Incomplete RESUME handshake. Unexpected frame ".concat(m.type," received")))});return}this.delegate.handle(m)},h})();t.ResumeOkAwaitingResumableClientServerInputMultiplexerDemultiplexer=p})(ea)),ea}var Kr={},Gr={},ei={},JP;function zg(){if(JP)return ei;JP=1;var t=ei&&ei.__generator||function(a,s){var o={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,d,p,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(b){return function(v){return g([b,v])}}function g(b){if(c)throw new TypeError("Generator is already executing.");for(;o;)try{if(c=1,d&&(p=b[0]&2?d.return:b[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,b[1])).done)return p;switch(d=0,p&&(b=[b[0]&2,p.value]),b[0]){case 0:case 1:p=b;break;case 4:return o.label++,{value:b[1],done:!1};case 5:o.label++,d=b[1],b=[0];continue;case 7:b=o.ops.pop(),o.trys.pop();continue;default:if(p=o.trys,!(p=p.length>0&&p[p.length-1])&&(b[0]===6||b[0]===2)){o=0;continue}if(b[0]===3&&(!p||b[1]>p[0]&&b[1]<p[3])){o.label=b[1];break}if(b[0]===6&&o.label<p[1]){o.label=p[1],p=b;break}if(p&&o.label<p[2]){o.label=p[2],o.ops.push(b);break}p[2]&&o.ops.pop(),o.trys.pop();continue}b=s.call(a,o)}catch(v){b=[6,v],d=0}finally{c=p=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.fragmentWithRequestN=ei.fragment=ei.isFragmentable=void 0;var e=gi();function r(a,s,o){return s===0?!1:a.data.byteLength+(a.metadata?a.metadata.byteLength+e.Lengths.METADATA:0)+(o==e.FrameTypes.REQUEST_STREAM||o==e.FrameTypes.REQUEST_CHANNEL?e.Lengths.REQUEST:0)>s}ei.isFragmentable=r;function n(a,s,o,c,d){var p,h,m,g,b,v,x,x,w,S,E,E,T,j;return d===void 0&&(d=!1),t(this,function(O){switch(O.label){case 0:return p=(j=(T=s.data)===null||T===void 0?void 0:T.byteLength)!==null&&j!==void 0?j:0,h=c!==e.FrameTypes.PAYLOAD,m=o,s.metadata?(b=s.metadata.byteLength,b!==0?[3,1]:(m-=e.Lengths.METADATA,g=bt.Buffer.allocUnsafe(0),[3,6])):[3,6];case 1:return v=0,h?(m-=e.Lengths.METADATA,x=Math.min(b,v+m),g=s.metadata.slice(v,x),m-=g.byteLength,v=x,m!==0?[3,3]:(h=!1,[4,{type:c,flags:e.Flags.FOLLOWS|e.Flags.METADATA,data:void 0,metadata:g,streamId:a}])):[3,3];case 2:O.sent(),g=void 0,m=o,O.label=3;case 3:return v<b?(m-=e.Lengths.METADATA,x=Math.min(b,v+m),g=s.metadata.slice(v,x),m-=g.byteLength,v=x,m===0||p===0?[4,{type:e.FrameTypes.PAYLOAD,flags:e.Flags.NEXT|e.Flags.METADATA|(v===b&&d&&p===0?e.Flags.COMPLETE:e.Flags.FOLLOWS),data:void 0,metadata:g,streamId:a}]:[3,5]):[3,6];case 4:O.sent(),g=void 0,m=o,O.label=5;case 5:return[3,3];case 6:return w=0,h?(E=Math.min(p,w+m),S=s.data.slice(w,E),m-=S.byteLength,w=E,[4,{type:c,flags:e.Flags.FOLLOWS|(g?e.Flags.METADATA:e.Flags.NONE),data:S,metadata:g,streamId:a}]):[3,8];case 7:O.sent(),g=void 0,S=void 0,m=o,O.label=8;case 8:return w<p?(E=Math.min(p,w+m),S=s.data.slice(w,E),m-=S.byteLength,w=E,[4,{type:e.FrameTypes.PAYLOAD,flags:w===p?(d?e.Flags.COMPLETE:e.Flags.NONE)|e.Flags.NEXT|(g?e.Flags.METADATA:0):e.Flags.FOLLOWS|e.Flags.NEXT|(g?e.Flags.METADATA:0),data:S,metadata:g,streamId:a}]):[3,10];case 9:return O.sent(),g=void 0,S=void 0,m=o,[3,8];case 10:return[2]}})}ei.fragment=n;function i(a,s,o,c,d,p){var h,m,g,b,v,x,w,w,S,E,T,T,j,O;return p===void 0&&(p=!1),t(this,function(N){switch(N.label){case 0:return h=(O=(j=s.data)===null||j===void 0?void 0:j.byteLength)!==null&&O!==void 0?O:0,m=!0,g=o,s.metadata?(v=s.metadata.byteLength,v!==0?[3,1]:(g-=e.Lengths.METADATA,b=bt.Buffer.allocUnsafe(0),[3,6])):[3,6];case 1:return x=0,m?(g-=e.Lengths.METADATA+e.Lengths.REQUEST,w=Math.min(v,x+g),b=s.metadata.slice(x,w),g-=b.byteLength,x=w,g!==0?[3,3]:(m=!1,[4,{type:c,flags:e.Flags.FOLLOWS|e.Flags.METADATA,data:void 0,requestN:d,metadata:b,streamId:a}])):[3,3];case 2:N.sent(),b=void 0,g=o,N.label=3;case 3:return x<v?(g-=e.Lengths.METADATA,w=Math.min(v,x+g),b=s.metadata.slice(x,w),g-=b.byteLength,x=w,g===0||h===0?[4,{type:e.FrameTypes.PAYLOAD,flags:e.Flags.NEXT|e.Flags.METADATA|(x===v&&p&&h===0?e.Flags.COMPLETE:e.Flags.FOLLOWS),data:void 0,metadata:b,streamId:a}]:[3,5]):[3,6];case 4:N.sent(),b=void 0,g=o,N.label=5;case 5:return[3,3];case 6:return S=0,m?(g-=e.Lengths.REQUEST,T=Math.min(h,S+g),E=s.data.slice(S,T),g-=E.byteLength,S=T,[4,{type:c,flags:e.Flags.FOLLOWS|(b?e.Flags.METADATA:e.Flags.NONE),data:E,requestN:d,metadata:b,streamId:a}]):[3,8];case 7:N.sent(),b=void 0,E=void 0,g=o,N.label=8;case 8:return S<h?(T=Math.min(h,S+g),E=s.data.slice(S,T),g-=E.byteLength,S=T,[4,{type:e.FrameTypes.PAYLOAD,flags:S===h?(p?e.Flags.COMPLETE:e.Flags.NONE)|e.Flags.NEXT|(b?e.Flags.METADATA:0):e.Flags.FOLLOWS|e.Flags.NEXT|(b?e.Flags.METADATA:0),data:E,metadata:b,streamId:a}]):[3,10];case 9:return N.sent(),b=void 0,E=void 0,g=o,[3,8];case 10:return[2]}})}return ei.fragmentWithRequestN=i,ei}var ta={},ZP;function Vg(){if(ZP)return ta;ZP=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.cancel=ta.reassemble=ta.add=void 0;function t(n,i,a){return n.hasFragments?(n.data=n.data?bt.Buffer.concat([n.data,i]):i,n.metadata&&a&&(n.metadata=bt.Buffer.concat([n.metadata,a])),!0):(n.hasFragments=!0,n.data=i,a&&(n.metadata=a),!0)}ta.add=t;function e(n,i,a){n.hasFragments=!1;var s=n.data?bt.Buffer.concat([n.data,i]):i;if(n.data=void 0,n.metadata){var o=a?bt.Buffer.concat([n.metadata,a]):n.metadata;return n.metadata=void 0,{data:s,metadata:o}}return{data:s}}ta.reassemble=e;function r(n){n.hasFragments=!1,n.data=void 0,n.metadata=void 0}return ta.cancel=r,ta}var eN;function X9(){if(eN)return Gr;eN=1;var t=Gr&&Gr.__createBinding||(Object.create?(function(p,h,m,g){g===void 0&&(g=m),Object.defineProperty(p,g,{enumerable:!0,get:function(){return h[m]}})}):(function(p,h,m,g){g===void 0&&(g=m),p[g]=h[m]})),e=Gr&&Gr.__setModuleDefault||(Object.create?(function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}):function(p,h){p.default=h}),r=Gr&&Gr.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&t(h,p,m);return e(h,p),h},n=Gr&&Gr.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.RequestChannelResponderStream=Gr.RequestChannelRequesterStream=void 0;var i=Os(),a=zg(),s=gi(),o=r(Vg()),c=(function(){function p(h,m,g,b,v,x){this.payload=h,this.isComplete=m,this.receiver=g,this.fragmentSize=b,this.initialRequestN=v,this.leaseManager=x,this.streamType=s.FrameTypes.REQUEST_CHANNEL}return p.prototype.handleReady=function(h,m){var g,b;if(this.outboundDone)return!1;this.streamId=h,this.stream=m,m.connect(this);var v=this.isComplete;if(v&&(this.outboundDone=v),(0,a.isFragmentable)(this.payload,this.fragmentSize,s.FrameTypes.REQUEST_CHANNEL))try{for(var x=n((0,a.fragmentWithRequestN)(h,this.payload,this.fragmentSize,s.FrameTypes.REQUEST_CHANNEL,this.initialRequestN,v)),w=x.next();!w.done;w=x.next()){var S=w.value;this.stream.send(S)}}catch(E){g={error:E}}finally{try{w&&!w.done&&(b=x.return)&&b.call(x)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.REQUEST_CHANNEL,data:this.payload.data,metadata:this.payload.metadata,requestN:this.initialRequestN,flags:(this.payload.metadata!==void 0?s.Flags.METADATA:s.Flags.NONE)|(v?s.Flags.COMPLETE:s.Flags.NONE),streamId:h});return this.hasExtension&&this.stream.send({type:s.FrameTypes.EXT,streamId:h,extendedContent:this.extendedContent,extendedType:this.extendedType,flags:this.flags}),!0},p.prototype.handleReject=function(h){this.inboundDone||(this.inboundDone=!0,this.outboundDone=!0,this.receiver.onError(h))},p.prototype.handle=function(h){var m,g=h.type;switch(g){case s.FrameTypes.PAYLOAD:{var b=s.Flags.hasComplete(h.flags),v=s.Flags.hasNext(h.flags);if(b||!s.Flags.hasFollows(h.flags)){if(b&&(this.inboundDone=!0,this.outboundDone&&this.stream.disconnect(this),!v)){this.receiver.onComplete();return}var x=this.hasFragments?o.reassemble(this,h.data,h.metadata):{data:h.data,metadata:h.metadata};this.receiver.onNext(x,b);return}if(o.add(this,h.data,h.metadata))return;m="Unexpected frame size";break}case s.FrameTypes.CANCEL:{if(this.outboundDone)return;this.outboundDone=!0,this.inboundDone&&this.stream.disconnect(this),this.receiver.cancel();return}case s.FrameTypes.REQUEST_N:{if(this.outboundDone)return;if(this.hasFragments){m="Unexpected frame type [".concat(g,"] during reassembly");break}this.receiver.request(h.requestN);return}case s.FrameTypes.ERROR:{var w=this.outboundDone;this.inboundDone=!0,this.outboundDone=!0,this.stream.disconnect(this),o.cancel(this),w||this.receiver.cancel(),this.receiver.onError(new i.RSocketError(h.code,h.message));return}case s.FrameTypes.EXT:this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return;default:m="Unexpected frame type [".concat(g,"]")}this.close(new i.RSocketError(i.ErrorCodes.CANCELED,m)),this.stream.send({type:s.FrameTypes.CANCEL,streamId:this.streamId,flags:s.Flags.NONE}),this.stream.disconnect(this)},p.prototype.request=function(h){if(!this.inboundDone){if(!this.streamId){this.initialRequestN+=h;return}this.stream.send({type:s.FrameTypes.REQUEST_N,flags:s.Flags.NONE,requestN:h,streamId:this.streamId})}},p.prototype.cancel=function(){var h,m=this.inboundDone,g=this.outboundDone;if(!(m&&g)){if(this.inboundDone=!0,this.outboundDone=!0,g||this.receiver.cancel(),!this.streamId){(h=this.leaseManager)===null||h===void 0||h.cancelRequest(this);return}this.stream.send({type:m?s.FrameTypes.ERROR:s.FrameTypes.CANCEL,flags:s.Flags.NONE,streamId:this.streamId,code:i.ErrorCodes.CANCELED,message:"Cancelled"}),this.stream.disconnect(this),o.cancel(this)}},p.prototype.onNext=function(h,m){var g,b;if(!this.outboundDone)if(m&&(this.outboundDone=!0,this.inboundDone&&this.stream.disconnect(this)),(0,a.isFragmentable)(h,this.fragmentSize,s.FrameTypes.PAYLOAD))try{for(var v=n((0,a.fragment)(this.streamId,h,this.fragmentSize,s.FrameTypes.PAYLOAD,m)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.PAYLOAD,streamId:this.streamId,flags:s.Flags.NEXT|(h.metadata?s.Flags.METADATA:s.Flags.NONE)|(m?s.Flags.COMPLETE:s.Flags.NONE),data:h.data,metadata:h.metadata})},p.prototype.onComplete=function(){if(!this.streamId){this.isComplete=!0;return}this.outboundDone||(this.outboundDone=!0,this.stream.send({type:s.FrameTypes.PAYLOAD,streamId:this.streamId,flags:s.Flags.COMPLETE,data:null,metadata:null}),this.inboundDone&&this.stream.disconnect(this))},p.prototype.onError=function(h){if(!this.outboundDone){var m=this.inboundDone;this.outboundDone=!0,this.inboundDone=!0,this.stream.send({type:s.FrameTypes.ERROR,streamId:this.streamId,flags:s.Flags.NONE,code:h instanceof i.RSocketError?h.code:i.ErrorCodes.APPLICATION_ERROR,message:h.message}),this.stream.disconnect(this),m||this.receiver.onError(h)}},p.prototype.onExtension=function(h,m,g){if(!this.outboundDone){if(!this.streamId){this.hasExtension=!0,this.extendedType=h,this.extendedContent=m,this.flags=g?s.Flags.IGNORE:s.Flags.NONE;return}this.stream.send({streamId:this.streamId,type:s.FrameTypes.EXT,extendedType:h,extendedContent:m,flags:g?s.Flags.IGNORE:s.Flags.NONE})}},p.prototype.close=function(h){if(!(this.inboundDone&&this.outboundDone)){var m=this.inboundDone,g=this.outboundDone;this.inboundDone=!0,this.outboundDone=!0,o.cancel(this),g||this.receiver.cancel(),m||(h?this.receiver.onError(h):this.receiver.onComplete())}},p})();Gr.RequestChannelRequesterStream=c;var d=(function(){function p(h,m,g,b,v){if(this.streamId=h,this.stream=m,this.fragmentSize=g,this.handler=b,this.streamType=s.FrameTypes.REQUEST_CHANNEL,m.connect(this),s.Flags.hasFollows(v.flags)){o.add(this,v.data,v.metadata),this.initialRequestN=v.requestN,this.isComplete=s.Flags.hasComplete(v.flags);return}var x={data:v.data,metadata:v.metadata},w=s.Flags.hasComplete(v.flags);this.inboundDone=w;try{this.receiver=b(x,v.requestN,w,this),this.outboundDone&&this.defferedError&&this.receiver.onError(this.defferedError)}catch(S){this.outboundDone&&!this.inboundDone?this.cancel():this.inboundDone=!0,this.onError(S)}}return p.prototype.handle=function(h){var m,g=h.type;switch(g){case s.FrameTypes.PAYLOAD:{if(s.Flags.hasFollows(h.flags)){if(o.add(this,h.data,h.metadata))return;m="Unexpected frame size";break}var b=this.hasFragments?o.reassemble(this,h.data,h.metadata):{data:h.data,metadata:h.metadata},v=s.Flags.hasComplete(h.flags);if(this.receiver){if(v&&(this.inboundDone=!0,this.outboundDone&&this.stream.disconnect(this),!s.Flags.hasNext(h.flags))){this.receiver.onComplete();return}this.receiver.onNext(b,v)}else{var x=this.isComplete||v;x&&(this.inboundDone=!0,this.outboundDone&&this.stream.disconnect(this));try{this.receiver=this.handler(b,this.initialRequestN,x,this),this.outboundDone&&this.defferedError}catch(E){this.outboundDone&&!this.inboundDone?this.cancel():this.inboundDone=!0,this.onError(E)}}return}case s.FrameTypes.REQUEST_N:{if(!this.receiver||this.hasFragments){m="Unexpected frame type [".concat(g,"] during reassembly");break}this.receiver.request(h.requestN);return}case s.FrameTypes.ERROR:case s.FrameTypes.CANCEL:{var x=this.inboundDone,w=this.outboundDone;if(this.inboundDone=!0,this.outboundDone=!0,this.stream.disconnect(this),o.cancel(this),!this.receiver)return;if(w||this.receiver.cancel(),!x){var S=g===s.FrameTypes.CANCEL?new i.RSocketError(i.ErrorCodes.CANCELED,"Cancelled"):new i.RSocketError(h.code,h.message);this.receiver.onError(S)}return}case s.FrameTypes.EXT:{if(!this.receiver||this.hasFragments){m="Unexpected frame type [".concat(g,"] during reassembly");break}this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return}default:m="Unexpected frame type [".concat(g,"]")}this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:i.ErrorCodes.CANCELED,message:m,streamId:this.streamId}),this.stream.disconnect(this),this.close(new i.RSocketError(i.ErrorCodes.CANCELED,m))},p.prototype.onError=function(h){if(this.outboundDone){console.warn("Trying to error for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}var m=this.inboundDone;this.outboundDone=!0,this.inboundDone=!0,this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:h instanceof i.RSocketError?h.code:i.ErrorCodes.APPLICATION_ERROR,message:h.message,streamId:this.streamId}),this.stream.disconnect(this),m||(this.receiver?this.receiver.onError(h):this.defferedError=h)},p.prototype.onNext=function(h,m){var g,b;if(!this.outboundDone){if(m&&(this.outboundDone=!0),(0,a.isFragmentable)(h,this.fragmentSize,s.FrameTypes.PAYLOAD))try{for(var v=n((0,a.fragment)(this.streamId,h,this.fragmentSize,s.FrameTypes.PAYLOAD,m)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.NEXT|(m?s.Flags.COMPLETE:s.Flags.NONE)|(h.metadata?s.Flags.METADATA:s.Flags.NONE),data:h.data,metadata:h.metadata,streamId:this.streamId});m&&this.inboundDone&&this.stream.disconnect(this)}},p.prototype.onComplete=function(){this.outboundDone||(this.outboundDone=!0,this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.COMPLETE,streamId:this.streamId,data:null,metadata:null}),this.inboundDone&&this.stream.disconnect(this))},p.prototype.onExtension=function(h,m,g){this.outboundDone&&this.inboundDone||this.stream.send({type:s.FrameTypes.EXT,streamId:this.streamId,flags:g?s.Flags.IGNORE:s.Flags.NONE,extendedType:h,extendedContent:m})},p.prototype.request=function(h){this.inboundDone||this.stream.send({type:s.FrameTypes.REQUEST_N,flags:s.Flags.NONE,streamId:this.streamId,requestN:h})},p.prototype.cancel=function(){this.inboundDone||(this.inboundDone=!0,this.stream.send({type:s.FrameTypes.CANCEL,flags:s.Flags.NONE,streamId:this.streamId}),this.outboundDone&&this.stream.disconnect(this))},p.prototype.close=function(h){if(this.inboundDone&&this.outboundDone){console.warn("Trying to close for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}var m=this.inboundDone,g=this.outboundDone;this.inboundDone=!0,this.outboundDone=!0,o.cancel(this);var b=this.receiver;b&&(g||b.cancel(),m||(h?b.onError(h):b.onComplete()))},p})();return Gr.RequestChannelResponderStream=d,Gr}var Qr={},tN;function J9(){if(tN)return Qr;tN=1;var t=Qr&&Qr.__createBinding||(Object.create?(function(p,h,m,g){g===void 0&&(g=m),Object.defineProperty(p,g,{enumerable:!0,get:function(){return h[m]}})}):(function(p,h,m,g){g===void 0&&(g=m),p[g]=h[m]})),e=Qr&&Qr.__setModuleDefault||(Object.create?(function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}):function(p,h){p.default=h}),r=Qr&&Qr.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&t(h,p,m);return e(h,p),h},n=Qr&&Qr.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.RequestFnfResponderStream=Qr.RequestFnFRequesterStream=void 0;var i=Os(),a=zg(),s=gi(),o=r(Vg()),c=(function(){function p(h,m,g,b){this.payload=h,this.receiver=m,this.fragmentSize=g,this.leaseManager=b,this.streamType=s.FrameTypes.REQUEST_FNF}return p.prototype.handleReady=function(h,m){var g,b;if(this.done)return!1;if(this.streamId=h,(0,a.isFragmentable)(this.payload,this.fragmentSize,s.FrameTypes.REQUEST_FNF))try{for(var v=n((0,a.fragment)(h,this.payload,this.fragmentSize,s.FrameTypes.REQUEST_FNF)),x=v.next();!x.done;x=v.next()){var w=x.value;m.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else m.send({type:s.FrameTypes.REQUEST_FNF,data:this.payload.data,metadata:this.payload.metadata,flags:this.payload.metadata?s.Flags.METADATA:0,streamId:h});return this.done=!0,this.receiver.onComplete(),!0},p.prototype.handleReject=function(h){this.done||(this.done=!0,this.receiver.onError(h))},p.prototype.cancel=function(){var h;this.done||(this.done=!0,(h=this.leaseManager)===null||h===void 0||h.cancelRequest(this))},p.prototype.handle=function(h){if(h.type==s.FrameTypes.ERROR){this.close(new i.RSocketError(h.code,h.message));return}this.close(new i.RSocketError(i.ErrorCodes.CANCELED,"Received invalid frame"))},p.prototype.close=function(h){if(this.done){console.warn("Trying to close for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}h?this.receiver.onError(h):this.receiver.onComplete()},p})();Qr.RequestFnFRequesterStream=c;var d=(function(){function p(h,m,g,b){if(this.streamId=h,this.stream=m,this.handler=g,this.streamType=s.FrameTypes.REQUEST_FNF,s.Flags.hasFollows(b.flags)){o.add(this,b.data,b.metadata),m.connect(this);return}var v={data:b.data,metadata:b.metadata};try{this.cancellable=g(v,this)}catch{}}return p.prototype.handle=function(h){var m;if(h.type==s.FrameTypes.PAYLOAD)if(s.Flags.hasFollows(h.flags)){if(o.add(this,h.data,h.metadata))return;m="Unexpected fragment size"}else{this.stream.disconnect(this);var g=o.reassemble(this,h.data,h.metadata);try{this.cancellable=this.handler(g,this)}catch{}return}else m="Unexpected frame type [".concat(h.type,"]");this.done=!0,h.type!=s.FrameTypes.CANCEL&&h.type!=s.FrameTypes.ERROR&&this.stream.send({type:s.FrameTypes.ERROR,streamId:this.streamId,flags:s.Flags.NONE,code:i.ErrorCodes.CANCELED,message:m}),this.stream.disconnect(this),o.cancel(this)},p.prototype.close=function(h){var m;if(this.done){console.warn("Trying to close for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}this.done=!0,o.cancel(this),(m=this.cancellable)===null||m===void 0||m.cancel()},p.prototype.onError=function(h){},p.prototype.onComplete=function(){},p})();return Qr.RequestFnfResponderStream=d,Qr}var Yr={},rN;function Z9(){if(rN)return Yr;rN=1;var t=Yr&&Yr.__createBinding||(Object.create?(function(p,h,m,g){g===void 0&&(g=m),Object.defineProperty(p,g,{enumerable:!0,get:function(){return h[m]}})}):(function(p,h,m,g){g===void 0&&(g=m),p[g]=h[m]})),e=Yr&&Yr.__setModuleDefault||(Object.create?(function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}):function(p,h){p.default=h}),r=Yr&&Yr.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&t(h,p,m);return e(h,p),h},n=Yr&&Yr.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.RequestResponseResponderStream=Yr.RequestResponseRequesterStream=void 0;var i=Os(),a=zg(),s=gi(),o=r(Vg()),c=(function(){function p(h,m,g,b){this.payload=h,this.receiver=m,this.fragmentSize=g,this.leaseManager=b,this.streamType=s.FrameTypes.REQUEST_RESPONSE}return p.prototype.handleReady=function(h,m){var g,b;if(this.done)return!1;if(this.streamId=h,this.stream=m,m.connect(this),(0,a.isFragmentable)(this.payload,this.fragmentSize,s.FrameTypes.REQUEST_RESPONSE))try{for(var v=n((0,a.fragment)(h,this.payload,this.fragmentSize,s.FrameTypes.REQUEST_RESPONSE)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.REQUEST_RESPONSE,data:this.payload.data,metadata:this.payload.metadata,flags:this.payload.metadata?s.Flags.METADATA:0,streamId:h});return this.hasExtension&&this.stream.send({type:s.FrameTypes.EXT,streamId:h,extendedContent:this.extendedContent,extendedType:this.extendedType,flags:this.flags}),!0},p.prototype.handleReject=function(h){this.done||(this.done=!0,this.receiver.onError(h))},p.prototype.handle=function(h){var m,g=h.type;switch(g){case s.FrameTypes.PAYLOAD:{var b=s.Flags.hasComplete(h.flags),v=s.Flags.hasNext(h.flags);if(b||!s.Flags.hasFollows(h.flags)){if(this.done=!0,this.stream.disconnect(this),!v){this.receiver.onComplete();return}var x=this.hasFragments?o.reassemble(this,h.data,h.metadata):{data:h.data,metadata:h.metadata};this.receiver.onNext(x,!0);return}if(!o.add(this,h.data,h.metadata)){m="Unexpected fragment size";break}return}case s.FrameTypes.ERROR:{this.done=!0,this.stream.disconnect(this),o.cancel(this),this.receiver.onError(new i.RSocketError(h.code,h.message));return}case s.FrameTypes.EXT:{if(this.hasFragments){m="Unexpected frame type [".concat(g,"] during reassembly");break}this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return}default:m="Unexpected frame type [".concat(g,"]")}this.close(new i.RSocketError(i.ErrorCodes.CANCELED,m)),this.stream.send({type:s.FrameTypes.CANCEL,streamId:this.streamId,flags:s.Flags.NONE}),this.stream.disconnect(this)},p.prototype.cancel=function(){var h;if(!this.done){if(this.done=!0,!this.streamId){(h=this.leaseManager)===null||h===void 0||h.cancelRequest(this);return}this.stream.send({type:s.FrameTypes.CANCEL,flags:s.Flags.NONE,streamId:this.streamId}),this.stream.disconnect(this),o.cancel(this)}},p.prototype.onExtension=function(h,m,g){if(!this.done){if(!this.streamId){this.hasExtension=!0,this.extendedType=h,this.extendedContent=m,this.flags=g?s.Flags.IGNORE:s.Flags.NONE;return}this.stream.send({streamId:this.streamId,type:s.FrameTypes.EXT,extendedType:h,extendedContent:m,flags:g?s.Flags.IGNORE:s.Flags.NONE})}},p.prototype.close=function(h){this.done||(this.done=!0,o.cancel(this),h?this.receiver.onError(h):this.receiver.onComplete())},p})();Yr.RequestResponseRequesterStream=c;var d=(function(){function p(h,m,g,b,v){if(this.streamId=h,this.stream=m,this.fragmentSize=g,this.handler=b,this.streamType=s.FrameTypes.REQUEST_RESPONSE,m.connect(this),s.Flags.hasFollows(v.flags)){o.add(this,v.data,v.metadata);return}var x={data:v.data,metadata:v.metadata};try{this.receiver=b(x,this)}catch(w){this.onError(w)}}return p.prototype.handle=function(h){var m,g;if(!this.receiver||this.hasFragments)if(h.type===s.FrameTypes.PAYLOAD)if(s.Flags.hasFollows(h.flags)){if(o.add(this,h.data,h.metadata))return;g="Unexpected fragment size"}else{var b=o.reassemble(this,h.data,h.metadata);try{this.receiver=this.handler(b,this)}catch(v){this.onError(v)}return}else g="Unexpected frame type [".concat(h.type,"] during reassembly");else if(h.type===s.FrameTypes.EXT){this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return}else g="Unexpected frame type [".concat(h.type,"]");this.done=!0,(m=this.receiver)===null||m===void 0||m.cancel(),h.type!==s.FrameTypes.CANCEL&&h.type!==s.FrameTypes.ERROR&&this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:i.ErrorCodes.CANCELED,message:g,streamId:this.streamId}),this.stream.disconnect(this),o.cancel(this)},p.prototype.onError=function(h){if(this.done){console.warn("Trying to error for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}this.done=!0,this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:h instanceof i.RSocketError?h.code:i.ErrorCodes.APPLICATION_ERROR,message:h.message,streamId:this.streamId}),this.stream.disconnect(this)},p.prototype.onNext=function(h,m){var g,b;if(!this.done){if(this.done=!0,(0,a.isFragmentable)(h,this.fragmentSize,s.FrameTypes.PAYLOAD))try{for(var v=n((0,a.fragment)(this.streamId,h,this.fragmentSize,s.FrameTypes.PAYLOAD,!0)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.NEXT|s.Flags.COMPLETE|(h.metadata?s.Flags.METADATA:0),data:h.data,metadata:h.metadata,streamId:this.streamId});this.stream.disconnect(this)}},p.prototype.onComplete=function(){this.done||(this.done=!0,this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.COMPLETE,streamId:this.streamId,data:null,metadata:null}),this.stream.disconnect(this))},p.prototype.onExtension=function(h,m,g){this.done||this.stream.send({type:s.FrameTypes.EXT,streamId:this.streamId,flags:g?s.Flags.IGNORE:s.Flags.NONE,extendedType:h,extendedContent:m})},p.prototype.close=function(h){var m;if(this.done){console.warn("Trying to close for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}o.cancel(this),(m=this.receiver)===null||m===void 0||m.cancel()},p})();return Yr.RequestResponseResponderStream=d,Yr}var Xr={},nN;function eK(){if(nN)return Xr;nN=1;var t=Xr&&Xr.__createBinding||(Object.create?(function(p,h,m,g){g===void 0&&(g=m),Object.defineProperty(p,g,{enumerable:!0,get:function(){return h[m]}})}):(function(p,h,m,g){g===void 0&&(g=m),p[g]=h[m]})),e=Xr&&Xr.__setModuleDefault||(Object.create?(function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}):function(p,h){p.default=h}),r=Xr&&Xr.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var m in p)m!=="default"&&Object.prototype.hasOwnProperty.call(p,m)&&t(h,p,m);return e(h,p),h},n=Xr&&Xr.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],g=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&g>=p.length&&(p=void 0),{value:p&&p[g++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.RequestStreamResponderStream=Xr.RequestStreamRequesterStream=void 0;var i=Os(),a=zg(),s=gi(),o=r(Vg()),c=(function(){function p(h,m,g,b,v){this.payload=h,this.receiver=m,this.fragmentSize=g,this.initialRequestN=b,this.leaseManager=v,this.streamType=s.FrameTypes.REQUEST_STREAM}return p.prototype.handleReady=function(h,m){var g,b;if(this.done)return!1;if(this.streamId=h,this.stream=m,m.connect(this),(0,a.isFragmentable)(this.payload,this.fragmentSize,s.FrameTypes.REQUEST_STREAM))try{for(var v=n((0,a.fragmentWithRequestN)(h,this.payload,this.fragmentSize,s.FrameTypes.REQUEST_STREAM,this.initialRequestN)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.REQUEST_STREAM,data:this.payload.data,metadata:this.payload.metadata,requestN:this.initialRequestN,flags:this.payload.metadata!==void 0?s.Flags.METADATA:0,streamId:h});return this.hasExtension&&this.stream.send({type:s.FrameTypes.EXT,streamId:h,extendedContent:this.extendedContent,extendedType:this.extendedType,flags:this.flags}),!0},p.prototype.handleReject=function(h){this.done||(this.done=!0,this.receiver.onError(h))},p.prototype.handle=function(h){var m,g=h.type;switch(g){case s.FrameTypes.PAYLOAD:{var b=s.Flags.hasComplete(h.flags),v=s.Flags.hasNext(h.flags);if(b||!s.Flags.hasFollows(h.flags)){if(b&&(this.done=!0,this.stream.disconnect(this),!v)){this.receiver.onComplete();return}var x=this.hasFragments?o.reassemble(this,h.data,h.metadata):{data:h.data,metadata:h.metadata};this.receiver.onNext(x,b);return}if(!o.add(this,h.data,h.metadata)){m="Unexpected fragment size";break}return}case s.FrameTypes.ERROR:{this.done=!0,this.stream.disconnect(this),o.cancel(this),this.receiver.onError(new i.RSocketError(h.code,h.message));return}case s.FrameTypes.EXT:{if(this.hasFragments){m="Unexpected frame type [".concat(g,"] during reassembly");break}this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return}default:m="Unexpected frame type [".concat(g,"]")}this.close(new i.RSocketError(i.ErrorCodes.CANCELED,m)),this.stream.send({type:s.FrameTypes.CANCEL,streamId:this.streamId,flags:s.Flags.NONE}),this.stream.disconnect(this)},p.prototype.request=function(h){if(!this.done){if(!this.streamId){this.initialRequestN+=h;return}this.stream.send({type:s.FrameTypes.REQUEST_N,flags:s.Flags.NONE,requestN:h,streamId:this.streamId})}},p.prototype.cancel=function(){var h;if(!this.done){if(this.done=!0,!this.streamId){(h=this.leaseManager)===null||h===void 0||h.cancelRequest(this);return}this.stream.send({type:s.FrameTypes.CANCEL,flags:s.Flags.NONE,streamId:this.streamId}),this.stream.disconnect(this),o.cancel(this)}},p.prototype.onExtension=function(h,m,g){if(!this.done){if(!this.streamId){this.hasExtension=!0,this.extendedType=h,this.extendedContent=m,this.flags=g?s.Flags.IGNORE:s.Flags.NONE;return}this.stream.send({streamId:this.streamId,type:s.FrameTypes.EXT,extendedType:h,extendedContent:m,flags:g?s.Flags.IGNORE:s.Flags.NONE})}},p.prototype.close=function(h){this.done||(this.done=!0,o.cancel(this),h?this.receiver.onError(h):this.receiver.onComplete())},p})();Xr.RequestStreamRequesterStream=c;var d=(function(){function p(h,m,g,b,v){if(this.streamId=h,this.stream=m,this.fragmentSize=g,this.handler=b,this.streamType=s.FrameTypes.REQUEST_STREAM,m.connect(this),s.Flags.hasFollows(v.flags)){this.initialRequestN=v.requestN,o.add(this,v.data,v.metadata);return}var x={data:v.data,metadata:v.metadata};try{this.receiver=b(x,v.requestN,this)}catch(w){this.onError(w)}}return p.prototype.handle=function(h){var m,g;if(!this.receiver||this.hasFragments)if(h.type===s.FrameTypes.PAYLOAD)if(s.Flags.hasFollows(h.flags)){if(o.add(this,h.data,h.metadata))return;g="Unexpected frame size"}else{var b=o.reassemble(this,h.data,h.metadata);try{this.receiver=this.handler(b,this.initialRequestN,this)}catch(v){this.onError(v)}return}else g="Unexpected frame type [".concat(h.type,"] during reassembly");else if(h.type===s.FrameTypes.REQUEST_N){this.receiver.request(h.requestN);return}else if(h.type===s.FrameTypes.EXT){this.receiver.onExtension(h.extendedType,h.extendedContent,s.Flags.hasIgnore(h.flags));return}else g="Unexpected frame type [".concat(h.type,"]");this.done=!0,o.cancel(this),(m=this.receiver)===null||m===void 0||m.cancel(),h.type!==s.FrameTypes.CANCEL&&h.type!==s.FrameTypes.ERROR&&this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:i.ErrorCodes.CANCELED,message:g,streamId:this.streamId}),this.stream.disconnect(this)},p.prototype.onError=function(h){if(this.done){console.warn("Trying to error for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}this.done=!0,this.stream.send({type:s.FrameTypes.ERROR,flags:s.Flags.NONE,code:h instanceof i.RSocketError?h.code:i.ErrorCodes.APPLICATION_ERROR,message:h.message,streamId:this.streamId}),this.stream.disconnect(this)},p.prototype.onNext=function(h,m){var g,b;if(!this.done){if(m&&(this.done=!0),(0,a.isFragmentable)(h,this.fragmentSize,s.FrameTypes.PAYLOAD))try{for(var v=n((0,a.fragment)(this.streamId,h,this.fragmentSize,s.FrameTypes.PAYLOAD,m)),x=v.next();!x.done;x=v.next()){var w=x.value;this.stream.send(w)}}catch(S){g={error:S}}finally{try{x&&!x.done&&(b=v.return)&&b.call(v)}finally{if(g)throw g.error}}else this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.NEXT|(m?s.Flags.COMPLETE:s.Flags.NONE)|(h.metadata?s.Flags.METADATA:s.Flags.NONE),data:h.data,metadata:h.metadata,streamId:this.streamId});m&&this.stream.disconnect(this)}},p.prototype.onComplete=function(){this.done||(this.done=!0,this.stream.send({type:s.FrameTypes.PAYLOAD,flags:s.Flags.COMPLETE,streamId:this.streamId,data:null,metadata:null}),this.stream.disconnect(this))},p.prototype.onExtension=function(h,m,g){this.done||this.stream.send({type:s.FrameTypes.EXT,streamId:this.streamId,flags:g?s.Flags.IGNORE:s.Flags.NONE,extendedType:h,extendedContent:m})},p.prototype.close=function(h){var m;if(this.done){console.warn("Trying to close for the second time. ".concat(h?"Dropping error [".concat(h,"]."):""));return}o.cancel(this),(m=this.receiver)===null||m===void 0||m.cancel()},p})();return Xr.RequestStreamResponderStream=d,Xr}var iN;function p$(){if(iN)return Kr;iN=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.KeepAliveSender=Kr.KeepAliveHandler=Kr.DefaultConnectionFrameHandler=Kr.DefaultStreamRequestHandler=Kr.LeaseHandler=Kr.RSocketRequester=void 0;var t=Os(),e=gi(),r=X9(),n=J9(),i=Z9(),a=eK(),s=(function(){function b(v,x,w){this.connection=v,this.fragmentSize=x,this.leaseManager=w}return b.prototype.fireAndForget=function(v,x){var w=new n.RequestFnFRequesterStream(v,x,this.fragmentSize,this.leaseManager);return this.leaseManager?this.leaseManager.requestLease(w):this.connection.multiplexerDemultiplexer.createRequestStream(w),w},b.prototype.requestResponse=function(v,x){var w=new i.RequestResponseRequesterStream(v,x,this.fragmentSize,this.leaseManager);return this.leaseManager?this.leaseManager.requestLease(w):this.connection.multiplexerDemultiplexer.createRequestStream(w),w},b.prototype.requestStream=function(v,x,w){var S=new a.RequestStreamRequesterStream(v,w,this.fragmentSize,x,this.leaseManager);return this.leaseManager?this.leaseManager.requestLease(S):this.connection.multiplexerDemultiplexer.createRequestStream(S),S},b.prototype.requestChannel=function(v,x,w,S){var E=new r.RequestChannelRequesterStream(v,w,S,this.fragmentSize,x,this.leaseManager);return this.leaseManager?this.leaseManager.requestLease(E):this.connection.multiplexerDemultiplexer.createRequestStream(E),E},b.prototype.metadataPush=function(v,x){throw new Error("Method not implemented.")},b.prototype.close=function(v){this.connection.close(v)},b.prototype.onClose=function(v){this.connection.onClose(v)},b})();Kr.RSocketRequester=s;var o=(function(){function b(v,x){this.maxPendingRequests=v,this.multiplexer=x,this.pendingRequests=[],this.expirationTime=0,this.availableLease=0}return b.prototype.handle=function(v){for(this.expirationTime=v.ttl+Date.now(),this.availableLease=v.requestCount;this.availableLease>0&&this.pendingRequests.length>0;){var x=this.pendingRequests.shift();this.availableLease--,this.multiplexer.createRequestStream(x)}},b.prototype.requestLease=function(v){var x=this.availableLease;if(x>0&&Date.now()<this.expirationTime){this.availableLease=x-1,this.multiplexer.createRequestStream(v);return}if(this.pendingRequests.length>=this.maxPendingRequests){v.handleReject(new t.RSocketError(t.ErrorCodes.REJECTED,"No available lease given"));return}this.pendingRequests.push(v)},b.prototype.cancelRequest=function(v){var x=this.pendingRequests.indexOf(v);x>-1&&this.pendingRequests.splice(x,1)},b})();Kr.LeaseHandler=o;var c=(function(){function b(v,x){this.rsocket=v,this.fragmentSize=x}return b.prototype.handle=function(v,x){switch(v.type){case e.FrameTypes.REQUEST_FNF:this.rsocket.fireAndForget&&new n.RequestFnfResponderStream(v.streamId,x,this.rsocket.fireAndForget.bind(this.rsocket),v);return;case e.FrameTypes.REQUEST_RESPONSE:if(this.rsocket.requestResponse){new i.RequestResponseResponderStream(v.streamId,x,this.fragmentSize,this.rsocket.requestResponse.bind(this.rsocket),v);return}this.rejectRequest(v.streamId,x);return;case e.FrameTypes.REQUEST_STREAM:if(this.rsocket.requestStream){new a.RequestStreamResponderStream(v.streamId,x,this.fragmentSize,this.rsocket.requestStream.bind(this.rsocket),v);return}this.rejectRequest(v.streamId,x);return;case e.FrameTypes.REQUEST_CHANNEL:if(this.rsocket.requestChannel){new r.RequestChannelResponderStream(v.streamId,x,this.fragmentSize,this.rsocket.requestChannel.bind(this.rsocket),v);return}this.rejectRequest(v.streamId,x);return}},b.prototype.rejectRequest=function(v,x){x.send({type:e.FrameTypes.ERROR,streamId:v,flags:e.Flags.NONE,code:t.ErrorCodes.REJECTED,message:"No available handler found"})},b.prototype.close=function(){},b})();Kr.DefaultStreamRequestHandler=c;var d=(function(){function b(v,x,w,S,E){this.connection=v,this.keepAliveHandler=x,this.keepAliveSender=w,this.leaseHandler=S,this.rsocket=E}return b.prototype.handle=function(v){switch(v.type){case e.FrameTypes.KEEPALIVE:this.keepAliveHandler.handle(v);return;case e.FrameTypes.LEASE:if(this.leaseHandler){this.leaseHandler.handle(v);return}return;case e.FrameTypes.ERROR:this.connection.close(new t.RSocketError(v.code,v.message));return;case e.FrameTypes.METADATA_PUSH:this.rsocket.metadataPush;return;default:this.connection.multiplexerDemultiplexer.connectionOutbound.send({type:e.FrameTypes.ERROR,streamId:0,flags:e.Flags.NONE,message:"Received unknown frame type",code:t.ErrorCodes.CONNECTION_ERROR})}},b.prototype.pause=function(){var v;this.keepAliveHandler.pause(),(v=this.keepAliveSender)===null||v===void 0||v.pause()},b.prototype.resume=function(){var v;this.keepAliveHandler.start(),(v=this.keepAliveSender)===null||v===void 0||v.start()},b.prototype.close=function(v){var x;this.keepAliveHandler.close(),(x=this.rsocket.close)===null||x===void 0||x.call(this.rsocket,v)},b})();Kr.DefaultConnectionFrameHandler=d;var p;(function(b){b[b.Paused=0]="Paused",b[b.Running=1]="Running",b[b.Closed=2]="Closed"})(p||(p={}));var h=(function(){function b(v,x){this.connection=v,this.keepAliveTimeoutDuration=x,this.state=p.Paused,this.outbound=v.multiplexerDemultiplexer.connectionOutbound}return b.prototype.handle=function(v){this.keepAliveLastReceivedMillis=Date.now(),e.Flags.hasRespond(v.flags)&&this.outbound.send({type:e.FrameTypes.KEEPALIVE,streamId:0,data:v.data,flags:v.flags^e.Flags.RESPOND,lastReceivedPosition:0})},b.prototype.start=function(){this.state===p.Paused&&(this.keepAliveLastReceivedMillis=Date.now(),this.state=p.Running,this.activeTimeout=setTimeout(this.timeoutCheck.bind(this),this.keepAliveTimeoutDuration))},b.prototype.pause=function(){this.state===p.Running&&(this.state=p.Paused,clearTimeout(this.activeTimeout))},b.prototype.close=function(){this.state=p.Closed,clearTimeout(this.activeTimeout)},b.prototype.timeoutCheck=function(){var v=Date.now(),x=v-this.keepAliveLastReceivedMillis;x>=this.keepAliveTimeoutDuration?this.connection.close(new Error("No keep-alive acks for ".concat(this.keepAliveTimeoutDuration," millis"))):this.activeTimeout=setTimeout(this.timeoutCheck.bind(this),Math.max(100,this.keepAliveTimeoutDuration-x))},b})();Kr.KeepAliveHandler=h;var m;(function(b){b[b.Paused=0]="Paused",b[b.Running=1]="Running",b[b.Closed=2]="Closed"})(m||(m={}));var g=(function(){function b(v,x){this.outbound=v,this.keepAlivePeriodDuration=x,this.state=m.Paused}return b.prototype.sendKeepAlive=function(){this.outbound.send({type:e.FrameTypes.KEEPALIVE,streamId:0,data:void 0,flags:e.Flags.RESPOND,lastReceivedPosition:0})},b.prototype.start=function(){this.state===m.Paused&&(this.state=m.Running,this.activeInterval=setInterval(this.sendKeepAlive.bind(this),this.keepAlivePeriodDuration))},b.prototype.pause=function(){this.state===m.Running&&(this.state=m.Paused,clearInterval(this.activeInterval))},b.prototype.close=function(){this.state=m.Closed,clearInterval(this.activeInterval)},b})();return Kr.KeepAliveSender=g,Kr}var Zs={},aN;function m$(){if(aN)return Zs;aN=1;var t=Zs&&Zs.__values||function(i){var a=typeof Symbol=="function"&&Symbol.iterator,s=a&&i[a],o=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.FrameStore=void 0;var e=Wg(),r=d$(),n=(function(){function i(){this.storedFrames=[],this._lastReceivedFramePosition=0,this._firstAvailableFramePosition=0,this._lastSentFramePosition=0}return Object.defineProperty(i.prototype,"lastReceivedFramePosition",{get:function(){return this._lastReceivedFramePosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"firstAvailableFramePosition",{get:function(){return this._firstAvailableFramePosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lastSentFramePosition",{get:function(){return this._lastSentFramePosition},enumerable:!1,configurable:!0}),i.prototype.store=function(a){this._lastSentFramePosition+=(0,r.sizeOfFrame)(a),this.storedFrames.push(a)},i.prototype.record=function(a){this._lastReceivedFramePosition+=(0,r.sizeOfFrame)(a)},i.prototype.dropTo=function(a){for(var s=a-this._firstAvailableFramePosition;s>0&&this.storedFrames.length>0;){var o=this.storedFrames.shift();s-=(0,r.sizeOfFrame)(o)}if(s!==0)throw new e.RSocketError(e.ErrorCodes.CONNECTION_ERROR,"State inconsistency. Expected bytes to drop ".concat(a-this._firstAvailableFramePosition," but actual ").concat(s));this._firstAvailableFramePosition=a},i.prototype.drain=function(a){var s,o;try{for(var c=t(this.storedFrames),d=c.next();!d.done;d=c.next()){var p=d.value;a(p)}}catch(h){s={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(s)throw s.error}}},i})();return Zs.FrameStore=n,Zs}var sN;function tK(){if(sN)return Zi;sN=1;var t=Zi&&Zi.__awaiter||function(o,c,d,p){function h(m){return m instanceof d?m:new d(function(g){g(m)})}return new(d||(d=Promise))(function(m,g){function b(w){try{x(p.next(w))}catch(S){g(S)}}function v(w){try{x(p.throw(w))}catch(S){g(S)}}function x(w){w.done?m(w.value):h(w.value).then(b,v)}x((p=p.apply(o,c||[])).next())})},e=Zi&&Zi.__generator||function(o,c){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function b(x){return function(w){return v([x,w])}}function v(x){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,h&&(m=x[0]&2?h.return:x[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,x[1])).done)return m;switch(h=0,m&&(x=[x[0]&2,m.value]),x[0]){case 0:case 1:m=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++,h=x[1],x=[0];continue;case 7:x=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(x[0]===6||x[0]===2)){d=0;continue}if(x[0]===3&&(!m||x[1]>m[0]&&x[1]<m[3])){d.label=x[1];break}if(x[0]===6&&d.label<m[1]){d.label=m[1],m=x;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(x);break}m[2]&&d.ops.pop(),d.trys.pop();continue}x=c.call(o,d)}catch(w){x=[6,w],h=0}finally{p=m=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.RSocketConnector=void 0;var r=h$(),n=gi(),i=p$(),a=m$(),s=(function(){function o(c){this.config=c}return o.prototype.connect=function(){var c,d,p,h,m,g,b,v,x,w,S,E,T,j,O,N,R,I,q,U;return t(this,void 0,void 0,function(){var D,B,V,G,X,ie,ne,oe,se,W=this;return e(this,function(Z){switch(Z.label){case 0:return D=this.config,B={type:n.FrameTypes.SETUP,dataMimeType:(d=(c=D.setup)===null||c===void 0?void 0:c.dataMimeType)!==null&&d!==void 0?d:"application/octet-stream",metadataMimeType:(h=(p=D.setup)===null||p===void 0?void 0:p.metadataMimeType)!==null&&h!==void 0?h:"application/octet-stream",keepAlive:(g=(m=D.setup)===null||m===void 0?void 0:m.keepAlive)!==null&&g!==void 0?g:6e4,lifetime:(v=(b=D.setup)===null||b===void 0?void 0:b.lifetime)!==null&&v!==void 0?v:3e5,metadata:(w=(x=D.setup)===null||x===void 0?void 0:x.payload)===null||w===void 0?void 0:w.metadata,data:(E=(S=D.setup)===null||S===void 0?void 0:S.payload)===null||E===void 0?void 0:E.data,resumeToken:(j=(T=D.resume)===null||T===void 0?void 0:T.tokenGenerator())!==null&&j!==void 0?j:null,streamId:0,majorVersion:1,minorVersion:0,flags:(!((N=(O=D.setup)===null||O===void 0?void 0:O.payload)===null||N===void 0)&&N.metadata?n.Flags.METADATA:n.Flags.NONE)|(D.lease?n.Flags.LEASE:n.Flags.NONE)|(D.resume?n.Flags.RESUME_ENABLE:n.Flags.NONE)},[4,D.transport.connect(function(ge){return D.resume?new r.ResumableClientServerInputMultiplexerDemultiplexer(r.StreamIdGenerator.create(-1),ge,ge,new a.FrameStore,B.resumeToken.toString(),function(_e,Pe){return t(W,void 0,void 0,function(){var Me,Ze,Fe;return e(this,function(me){switch(me.label){case 0:return Me=function(Oe){return Oe.send({type:n.FrameTypes.RESUME,streamId:0,flags:n.Flags.NONE,clientPosition:Pe.firstAvailableFramePosition,serverPosition:Pe.lastReceivedFramePosition,majorVersion:B.minorVersion,minorVersion:B.majorVersion,resumeToken:B.resumeToken}),new r.ResumeOkAwaitingResumableClientServerInputMultiplexerDemultiplexer(Oe,Oe,_e)},Ze=-1,Fe=function(){return Ze++,D.resume.reconnectFunction(Ze).then(function(){return D.transport.connect(Me).catch(Fe)})},[4,Fe()];case 1:return me.sent(),[2]}})})}):new r.ClientServerInputMultiplexerDemultiplexer(r.StreamIdGenerator.create(-1),ge,ge)})];case 1:return V=Z.sent(),G=new i.KeepAliveSender(V.multiplexerDemultiplexer.connectionOutbound,B.keepAlive),X=new i.KeepAliveHandler(V,B.lifetime),ie=D.lease?new i.LeaseHandler((R=D.lease.maxPendingRequests)!==null&&R!==void 0?R:256,V.multiplexerDemultiplexer):void 0,ne=(I=D.responder)!==null&&I!==void 0?I:{},oe=new i.DefaultConnectionFrameHandler(V,X,G,ie,ne),se=new i.DefaultStreamRequestHandler(ne,0),V.onClose(function(ge){G.close(),X.close(),oe.close(ge)}),V.multiplexerDemultiplexer.connectionInbound(oe),V.multiplexerDemultiplexer.handleRequestStream(se),V.multiplexerDemultiplexer.connectionOutbound.send(B),X.start(),G.start(),[2,new i.RSocketRequester(V,(U=(q=D.fragmentation)===null||q===void 0?void 0:q.maxOutboundFragmentSize)!==null&&U!==void 0?U:0,ie)]}})})},o})();return Zi.RSocketConnector=s,Zi}var ra={},oN;function rK(){if(oN)return ra;oN=1;var t=ra&&ra.__awaiter||function(c,d,p,h){function m(g){return g instanceof p?g:new p(function(b){b(g)})}return new(p||(p=Promise))(function(g,b){function v(S){try{w(h.next(S))}catch(E){b(E)}}function x(S){try{w(h.throw(S))}catch(E){b(E)}}function w(S){S.done?g(S.value):m(S.value).then(v,x)}w((h=h.apply(c,d||[])).next())})},e=ra&&ra.__generator||function(c,d){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,b;return b={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function v(w){return function(S){return x([w,S])}}function x(w){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=w[0]&2?m.return:w[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,w[1])).done)return g;switch(m=0,g&&(w=[w[0]&2,g.value]),w[0]){case 0:case 1:g=w;break;case 4:return p.label++,{value:w[1],done:!1};case 5:p.label++,m=w[1],w=[0];continue;case 7:w=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(w[0]===6||w[0]===2)){p=0;continue}if(w[0]===3&&(!g||w[1]>g[0]&&w[1]<g[3])){p.label=w[1];break}if(w[0]===6&&p.label<g[1]){p.label=g[1],g=w;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(w);break}g[2]&&p.ops.pop(),p.trys.pop();continue}w=d.call(c,p)}catch(S){w=[6,S],m=0}finally{h=g=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}};Object.defineProperty(ra,"__esModule",{value:!0}),ra.RSocketServer=void 0;var r=h$(),n=Os(),i=gi(),a=p$(),s=m$(),o=(function(){function c(d){var p,h;this.acceptor=d.acceptor,this.transport=d.transport,this.lease=d.lease,this.serverSideKeepAlive=d.serverSideKeepAlive,this.sessionStore=d.resume?{}:void 0,this.sessionTimeout=(h=(p=d.resume)===null||p===void 0?void 0:p.sessionTimeout)!==null&&h!==void 0?h:void 0}return c.prototype.bind=function(){return t(this,void 0,void 0,function(){var d=this;return e(this,function(p){switch(p.label){case 0:return[4,this.transport.bind(function(h,m){return t(d,void 0,void 0,function(){var g,b,b,v,x,w,S,E,T,j,O,N,R,I,q;return e(this,function(U){switch(U.label){case 0:switch(g=h.type,g){case i.FrameTypes.SETUP:return[3,1];case i.FrameTypes.RESUME:return[3,5]}return[3,6];case 1:return U.trys.push([1,3,,4]),this.lease&&!i.Flags.hasLease(h.flags)?(b=new n.RSocketError(n.ErrorCodes.REJECTED_SETUP,"Lease has to be enabled"),m.multiplexerDemultiplexer.connectionOutbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:b.code,message:b.message}),m.close(b),[2]):i.Flags.hasLease(h.flags)&&!this.lease?(b=new n.RSocketError(n.ErrorCodes.REJECTED_SETUP,"Lease has to be disabled"),m.multiplexerDemultiplexer.connectionOutbound.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:b.code,message:b.message}),m.close(b),[2]):(v=i.Flags.hasLease(h.flags)?new a.LeaseHandler((N=this.lease.maxPendingRequests)!==null&&N!==void 0?N:256,m.multiplexerDemultiplexer):void 0,x=new a.RSocketRequester(m,(I=(R=this.fragmentation)===null||R===void 0?void 0:R.maxOutboundFragmentSize)!==null&&I!==void 0?I:0,v),[4,this.acceptor.accept({data:h.data,dataMimeType:h.dataMimeType,metadata:h.metadata,metadataMimeType:h.metadataMimeType,flags:h.flags,keepAliveMaxLifetime:h.lifetime,keepAliveInterval:h.keepAlive,resumeToken:h.resumeToken},x)]);case 2:return w=U.sent(),S=new a.KeepAliveHandler(m,h.lifetime),E=this.serverSideKeepAlive?new a.KeepAliveSender(m.multiplexerDemultiplexer.connectionOutbound,h.keepAlive):void 0,T=new a.DefaultConnectionFrameHandler(m,S,E,v,w),j=new a.DefaultStreamRequestHandler(w,0),m.onClose(function(D){E==null||E.close(),S.close(),T.close(D)}),m.multiplexerDemultiplexer.connectionInbound(T),m.multiplexerDemultiplexer.handleRequestStream(j),S.start(),E==null||E.start(),[3,4];case 3:return O=U.sent(),m.multiplexerDemultiplexer.connectionOutbound.send({type:i.FrameTypes.ERROR,streamId:0,code:n.ErrorCodes.REJECTED_SETUP,message:(q=O.message)!==null&&q!==void 0?q:"",flags:i.Flags.NONE}),m.close(O instanceof n.RSocketError?O:new n.RSocketError(n.ErrorCodes.REJECTED_SETUP,O.message)),[3,4];case 4:return[2];case 5:return[2];case 6:m.multiplexerDemultiplexer.connectionOutbound.send({type:i.FrameTypes.ERROR,streamId:0,code:n.ErrorCodes.UNSUPPORTED_SETUP,message:"Unsupported setup",flags:i.Flags.NONE}),m.close(new n.RSocketError(n.ErrorCodes.UNSUPPORTED_SETUP)),U.label=7;case 7:return[2]}})})},function(h,m){if(h.type===i.FrameTypes.RESUME){if(d.sessionStore){var g=d.sessionStore[h.resumeToken.toString()];if(!g){m.send({type:i.FrameTypes.ERROR,streamId:0,code:n.ErrorCodes.REJECTED_RESUME,message:"No session found for the given resume token",flags:i.Flags.NONE}),m.close();return}return g.resume(h,m,m),g}m.send({type:i.FrameTypes.ERROR,streamId:0,code:n.ErrorCodes.REJECTED_RESUME,message:"Resume is not enabled",flags:i.Flags.NONE}),m.close();return}else if(h.type===i.FrameTypes.SETUP&&i.Flags.hasResume(h.flags)){if(!d.sessionStore){var b=new n.RSocketError(n.ErrorCodes.REJECTED_SETUP,"No resume support");m.send({type:i.FrameTypes.ERROR,streamId:0,flags:i.Flags.NONE,code:b.code,message:b.message}),m.close(b);return}var v=new r.ResumableClientServerInputMultiplexerDemultiplexer(r.StreamIdGenerator.create(0),m,m,new s.FrameStore,h.resumeToken.toString(),d.sessionStore,d.sessionTimeout);return d.sessionStore[h.resumeToken.toString()]=v,v}return new r.ClientServerInputMultiplexerDemultiplexer(r.StreamIdGenerator.create(0),m,m)})];case 1:return[2,p.sent()]}})})},c})();return ra.RSocketServer=o,ra}var F0={},lN;function nK(){return lN||(lN=1,Object.defineProperty(F0,"__esModule",{value:!0})),F0}var cN;function Wg(){return cN||(cN=1,(function(t){var e=Xs&&Xs.__createBinding||(Object.create?(function(n,i,a,s){s===void 0&&(s=a),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[a]}})}):(function(n,i,a,s){s===void 0&&(s=a),n[s]=i[a]})),r=Xs&&Xs.__exportStar||function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(d$(),t),r(Q9(),t),r(f$(),t),r(Os(),t),r(gi(),t),r(Y9(),t),r(tK(),t),r(rK(),t),r(nK(),t)})(Xs)),Xs}var g$=Wg(),iK="1.46.0",aK={version:iK};const uN={highWater:10,lowWater:0};class dN extends Vn{constructor(r){super();te(this,"options");te(this,"dataQueue");te(this,"isClosed");te(this,"processingPromise");te(this,"notifyDataAdded");te(this,"logger");te(this,"mapLine");if(this.options=r,this.processingPromise=null,this.isClosed=!1,this.dataQueue=[],this.mapLine=(r==null?void 0:r.mapLine)??(n=>n),this.logger=(r==null?void 0:r.logger)??Yo.get("DataStream"),r!=null&&r.closeOnError){const n=this.registerListener({error:i=>{n==null||n(),this.close()}})}}get highWatermark(){var r,n;return((n=(r=this.options)==null?void 0:r.pressure)==null?void 0:n.highWaterMark)??uN.highWater}get lowWatermark(){var r,n;return((n=(r=this.options)==null?void 0:r.pressure)==null?void 0:n.lowWaterMark)??uN.lowWater}get closed(){return this.isClosed}async close(){this.isClosed=!0,await this.processingPromise,this.iterateListeners(r=>{var n;return(n=r.closed)==null?void 0:n.call(r)}),this.dataQueue=[],this.listeners.clear()}enqueueData(r){var n;if(this.isClosed)throw new Error("Cannot enqueue data into closed stream.");this.dataQueue.push(r),(n=this.notifyDataAdded)==null||n.call(this),this.processQueue()}async read(){return this.closed||(this.processingPromise&&await this.processingPromise,this.closed)?null:new Promise((r,n)=>{const i=this.registerListener({data:async a=>{r(a),i==null||i()},closed:()=>{r(null),i==null||i()},error:a=>{n(a),i==null||i()}});this.processQueue()})}forEach(r){return this.dataQueue.length<=this.lowWatermark&&this.iterateAsyncErrored(async n=>{var i;return(i=n.lowWater)==null?void 0:i.call(n)}),this.registerListener({data:r})}processQueue(){if(this.processingPromise)return;const r=this.processingPromise=this._processQueue();return r.finally(()=>{this.processingPromise=null}),r}hasDataReader(){return Array.from(this.listeners.values()).some(r=>!!r.data)}async _processQueue(){if(this.dataQueue.length>=this.highWatermark&&await this.iterateAsyncErrored(async r=>{var n;return(n=r.highWater)==null?void 0:n.call(r)}),!(this.isClosed||!this.hasDataReader())){if(this.dataQueue.length){const r=this.dataQueue.shift(),n=this.mapLine(r);await this.iterateAsyncErrored(async i=>{var a;return(a=i.data)==null?void 0:a.call(i,n)})}if(this.dataQueue.length<=this.lowWatermark){const r=new Promise(n=>{this.notifyDataAdded=n});await Promise.race([this.iterateAsyncErrored(async n=>{var i;return(i=n.lowWater)==null?void 0:i.call(n)}),r]),this.notifyDataAdded=null}this.dataQueue.length>0&&setTimeout(()=>this.processQueue())}}async iterateAsyncErrored(r){const n=Array.from(this.listeners.values());for(let i of n)try{await r(i)}catch(a){this.logger.error(a),this.iterateListeners(s=>{var o;return(o=s.error)==null?void 0:o.call(s,a)})}}}var eo={},fN;function sK(){if(fN)return eo;fN=1;var t=eo&&eo.__extends||(function(){var n=function(i,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])},n(i,a)};return function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(i,a);function s(){this.constructor=i}i.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}})();Object.defineProperty(eo,"__esModule",{value:!0}),eo.WebsocketDuplexConnection=void 0;var e=Wg(),r=(function(n){t(i,n);function i(a,s,o){var c=n.call(this)||this;return c.websocket=a,c.deserializer=s,c.handleClosed=function(d){c.close(new Error(d.reason||"WebsocketDuplexConnection: Socket closed unexpectedly."))},c.handleError=function(d){c.close(d.error)},c.handleMessage=function(d){try{var p=bt.Buffer.from(d.data),h=c.deserializer.deserializeFrame(p);c.multiplexerDemultiplexer.handle(h)}catch(m){c.close(m)}},a.addEventListener("close",c.handleClosed),a.addEventListener("error",c.handleError),a.addEventListener("message",c.handleMessage),c.multiplexerDemultiplexer=o(c),c}return Object.defineProperty(i.prototype,"availability",{get:function(){return this.done?0:1},enumerable:!1,configurable:!0}),i.prototype.close=function(a){if(this.done){n.prototype.close.call(this,a);return}this.websocket.removeEventListener("close",this.handleClosed),this.websocket.removeEventListener("error",this.handleError),this.websocket.removeEventListener("message",this.handleMessage),this.websocket.close(),delete this.websocket,n.prototype.close.call(this,a)},i.prototype.send=function(a){if(!this.done){var s=(0,e.serializeFrame)(a);this.websocket.send(s)}},i})(e.Deferred);return eo.WebsocketDuplexConnection=r,eo}var oK=sK();class lK{constructor(e){te(this,"url");te(this,"factory");this.url=e.url,this.factory=e.wsCreator??(r=>new WebSocket(r))}connect(e){return new Promise((r,n)=>{const i=this.factory(this.url);i.binaryType="arraybuffer";let a;const s=()=>{a(),r(new oK.WebsocketDuplexConnection(i,new g$.Deserializer,e))},o=d=>{a(),d.error!=null?n(d.error):d.message!=null?n(new Error(`Failed to create websocket connection: ${d.message}`)):n(new Error(`Failed to create websocket connection to ${this.url}`))},c=()=>{a(),n(new Error("WebSocket connection closed while opening"))};a=()=>{i.removeEventListener("open",s),i.removeEventListener("error",o),i.removeEventListener("close",c)},i.addEventListener("open",s),i.addEventListener("error",o),i.addEventListener("close",c)})}}const cK=/\/+$/,uK=aK.version,dK=5,fK=2e4,hN=3e4,hK=9e4,y$=Yo.get("PowerSyncRemote");var Gd;(function(t){t.Buffered="buffered",t.Sequential="sequential"})(Gd||(Gd={}));class ij{getFetch(){throw new Error("Unspecified fetch implementation")}}const pK={socketUrlTransformer:t=>t.replace(/^https?:\/\//,function(e){return e==="https://"?"wss://":"ws://"}),fetchImplementation:new ij,fetchOptions:{}};class mK{constructor(e,r=y$,n){te(this,"connector");te(this,"logger");te(this,"credentials",null);te(this,"options");this.connector=e,this.logger=r,this.options={...pK,...n??{}}}get fetch(){const{fetchImplementation:e}=this.options;return e instanceof ij?e.getFetch():e}async getCredentials(){return this.credentials?this.credentials:this.prefetchCredentials()}async prefetchCredentials(){return this.credentials=await this.fetchCredentials(),this.credentials}async fetchCredentials(){const e=await this.connector.fetchCredentials();if(e!=null&&e.endpoint.match(cK))throw new Error(`A trailing forward slash "/" was found in the fetchCredentials endpoint: "${e.endpoint}". Remove the trailing forward slash "/" to fix this error.`);return e}invalidateCredentials(){var e,r;this.credentials=null,(r=(e=this.connector).invalidateCredentials)==null||r.call(e)}getUserAgent(){return`powersync-js/${uK}`}async buildRequest(e){const r=await this.getCredentials();if(r!=null&&(r.endpoint==null||r.endpoint==""))throw new Error("PowerSync endpoint not configured");if((r==null?void 0:r.token)==null||(r==null?void 0:r.token)==""){const i=new Error("Not signed in");throw i.status=401,i}const n=this.getUserAgent();return{url:r.endpoint+e,headers:{"content-type":"application/json",Authorization:`Token ${r.token}`,"x-user-agent":n}}}async post(e,r,n={}){const i=await this.buildRequest(e),a=await this.fetch(i.url,{method:"POST",headers:{...n,...i.headers},body:JSON.stringify(r)});if(a.status===401&&this.invalidateCredentials(),!a.ok)throw new Error(`Received ${a.status} - ${a.statusText} when posting to ${e}: ${await a.text()}}`);return a.json()}async get(e,r){const n=await this.buildRequest(e),i=await this.fetch(n.url,{method:"GET",headers:{...r,...n.headers}});if(i.status===401&&this.invalidateCredentials(),!i.ok)throw new Error(`Received ${i.status} - ${i.statusText} when getting from ${e}: ${await i.text()}}`);return i.json()}createTextDecoder(){return new TextDecoder}createSocket(e){return new WebSocket(e)}async socketStreamRaw(e,r,n){var R,I;const{path:i,fetchStrategy:a=Gd.Buffered}=e,s=n==null?"application/json":"application/bson";function o(q){let U;return n!=null?U=n.serialize(q):U=JSON.stringify(q),bt.Buffer.from(U)}const c=a==Gd.Buffered?10:1,d=await this.buildRequest(i),p=this.getUserAgent(),h=new dN({logger:this.logger,pressure:{lowWaterMark:dK},mapLine:r});if((R=e.abortSignal)!=null&&R.aborted)throw new Ln("Connection request aborted");(I=e.abortSignal)==null||I.addEventListener("abort",()=>{h.close()},{once:!0});let m;const g=()=>{clearTimeout(m),m=setTimeout(()=>{this.logger.error(`No data received on WebSocket in ${hN}ms, closing connection.`),h.close()},hN)};g();let b=()=>{};const v=this.options.socketUrlTransformer(d.url),x=new g$.RSocketConnector({transport:new lK({url:v,wsCreator:q=>{const U=this.createSocket(q);return b=h.registerListener({closed:()=>{U.close()}}),U.addEventListener("message",D=>{g()}),U}}),setup:{keepAlive:fK,lifetime:hK,dataMimeType:s,metadataMimeType:s,payload:{data:null,metadata:o({token:d.headers.Authorization,user_agent:p})}}});let w;try{w=await x.connect(),b()}catch(q){throw this.logger.error("Failed to connect WebSocket",q),clearTimeout(m),h.closed||await h.close(),q}g();let S=!1;const E=()=>{clearTimeout(m),!S&&(S=!0,w.close())};w.onClose(()=>S=!0);let T=c;const j=h.registerListener({closed:()=>{E(),j()}}),O=await new Promise((q,U)=>{let D=!1;const B=w.requestStream({data:o(e.data),metadata:o({path:i})},c,{onError:V=>{V.message.includes("PSYNC_")?V.message.includes("PSYNC_S21")&&this.invalidateCredentials():V.message!=="Closed. "&&this.invalidateCredentials(),V.message!=="Closed. "&&this.logger.error(V),h.close(),D||U(V)},onNext:V=>{D||(D=!0,q(B));const{data:G}=V;T--,G&&h.enqueueData(G)},onComplete:()=>{h.close()},onExtension:()=>{}})}),N=h.registerListener({lowWater:async()=>{c-T>0&&(O.request(c-T),T=c)},closed:()=>{N()}});return h}async postStreamRaw(e,r){const{data:n,path:i,headers:a,abortSignal:s}=e,o=await this.buildRequest(i);if(s!=null&&s.aborted)throw new Ln("Abort request received before making postStreamRaw request");const c=new AbortController;let d=!1;s==null||s.addEventListener("abort",()=>{d||c.abort(s.reason??new Ln("Cancelling network request before it resolves. Abort signal has been received."))});const p=await this.fetch(o.url,{method:"POST",headers:{...a,...o.headers},body:JSON.stringify(n),signal:c.signal,cache:"no-store",...this.options.fetchOptions??{},...e.fetchOptions}).catch(E=>{throw E.name=="AbortError"?new Ln(`Pending fetch request to ${o.url} has been aborted.`):E});if(!p)throw new Error("Fetch request was aborted");if(d=!0,!p.ok||!p.body){const E=await p.text();this.logger.error(`Could not POST streaming to ${i} - ${p.status} - ${p.statusText}: ${E}`);const T=new Error(`HTTP ${p.statusText}: ${E}`);throw T.status=p.status,T}const h=p.body.getReader();let m=!1;const g=async()=>{try{m=!0,await h.cancel()}catch{}h.releaseLock()},b=new dN({logger:this.logger,mapLine:r,pressure:{highWaterMark:20,lowWaterMark:10}});s==null||s.addEventListener("abort",()=>{g(),b.close()});const v=this.createTextDecoder();let x="";(async()=>{for(;!b.closed&&!(s!=null&&s.aborted)&&!m;){const{done:j,value:O}=await h.read();if(j){const I=x.trim();I.length!=0&&b.enqueueData(I),b.close(),await g();return}const N=v.decode(O,{stream:!0});x+=N;const R=x.split(`
`);for(var E=0;E<R.length-1;E++){var T=R[E].trim();T.length>0&&b.enqueueData(T)}x=R[R.length-1],b.dataQueue.length>b.highWatermark&&await new Promise(I=>{const q=b.registerListener({lowWater:async()=>{I(),q()},closed:()=>{I(),q()}})})}})().catch(E=>this.logger.error("Error consuming stream",E));const S=b.registerListener({closed:()=>{g(),S==null||S()}});return b}}function pN(t){return{priority:t.priority,hasSynced:t.has_synced??void 0,lastSyncedAt:t.last_synced_at!=null?new Date(t.last_synced_at*1e3):void 0}}function v$(t){var n;const e=t.priority_status.find(i=>i.priority==s$),r=e!=null?pN(e):null;return{connected:t.connected,connecting:t.connecting,dataFlow:{downloading:t.downloading!=null,downloadProgress:(n=t.downloading)==null?void 0:n.buckets,internalStreamSubscriptions:t.streams},lastSyncedAt:r==null?void 0:r.lastSyncedAt,hasSynced:r==null?void 0:r.hasSynced,priorityStatusEntries:t.priority_status.map(pN)}}function gK(t){return t.data!=null}function yK(t){return t.token_expires_in!=null}function vK(t){return t.checkpoint!=null}function xK(t){return t.checkpoint_complete!=null}function bK(t){return t.partial_checkpoint_complete!=null}function wK(t){return t.checkpoint_diff!=null}var yc;(function(t){t.CRUD="crud",t.SYNC="sync"})(yc||(yc={}));var Qd;(function(t){t.HTTP="http",t.WEB_SOCKET="web-socket"})(Qd||(Qd={}));var hm;(function(t){t.JAVASCRIPT="js",t.RUST="rust"})(hm||(hm={}));const _K=hm.RUST,x$=1e3,SK=5e3,EK={appMetadata:{},connectionMethod:Qd.WEB_SOCKET,clientImplementation:_K,fetchStrategy:Gd.Buffered,params:{},serializedSchema:void 0,includeDefaultStreams:!0},mN=3;class jK extends Vn{constructor(r){super();te(this,"_lastSyncedAt");te(this,"options");te(this,"abortController");te(this,"uploadAbortController");te(this,"crudUpdateListener");te(this,"streamingSyncPromise");te(this,"logger");te(this,"activeStreams");te(this,"isUploadingCrud",!1);te(this,"notifyCompletedUploads");te(this,"handleActiveStreamsChange");te(this,"syncStatus");te(this,"triggerCrudUpload");this.options=r,this.activeStreams=r.subscriptions,this.logger=r.logger??Yo.get("PowerSyncStream"),this.syncStatus=new ua({connected:!1,connecting:!1,lastSyncedAt:void 0,dataFlow:{uploading:!1,downloading:!1}}),this.abortController=null,this.triggerCrudUpload=D9(()=>{!this.syncStatus.connected||this.isUploadingCrud||(this.isUploadingCrud=!0,this._uploadAllCrud().finally(()=>{var n;(n=this.notifyCompletedUploads)==null||n.call(this),this.isUploadingCrud=!1}))},this.options.crudUploadThrottleMs)}async waitForReady(){}waitForStatus(r){return this.waitUntilStatusMatches(n=>{const i=(a,s)=>Object.entries(a).every(([o,c])=>{const d=s[o];return typeof c=="object"&&typeof d=="object"?i(c,d):c==d});return i(r,n)})}waitUntilStatusMatches(r){return new Promise(n=>{if(r(this.syncStatus)){n();return}const i=this.registerListener({statusChanged:a=>{r(a)&&(n(),i==null||i())}})})}get lastSyncedAt(){const r=this.syncStatus.lastSyncedAt;return r&&new Date(r)}get isConnected(){return this.syncStatus.connected}async dispose(){var r,n;super.dispose(),(r=this.crudUpdateListener)==null||r.call(this),this.crudUpdateListener=void 0,(n=this.uploadAbortController)==null||n.abort()}async hasCompletedSync(){return this.options.adapter.hasCompletedSync()}async getWriteCheckpoint(){let n=`/write-checkpoint2.json?client_id=${await this.options.adapter.getClientId()}`;const a=(await this.options.remote.get(n)).data.write_checkpoint;return this.logger.debug(`Created write checkpoint: ${a}`),a}async _uploadAllCrud(){return this.obtainLock({type:yc.CRUD,callback:async()=>{var i;let r;const n=new AbortController;for(this.uploadAbortController=n,(i=this.abortController)==null||i.signal.addEventListener("abort",()=>{n.abort()},{once:!0});!n.signal.aborted;)try{const a=await this.options.adapter.nextCrudItem();if(a){if(this.updateSyncStatus({dataFlow:{uploading:!0}}),a.clientId==(r==null?void 0:r.clientId))throw this.logger.warn(`Potentially previously uploaded CRUD entries are still present in the upload queue.
Make sure to handle uploads and complete CRUD transactions or batches by calling and awaiting their [.complete()] method.
The next upload iteration will be delayed.`),new Error("Delaying due to previously encountered CRUD item.");r=a,await this.options.uploadCrud(),this.updateSyncStatus({dataFlow:{uploadError:void 0}})}else{await this.options.adapter.updateLocalTarget(()=>this.getWriteCheckpoint())==!1&&r!=null&&this.logger.debug("Upload complete, no write checkpoint needed.");break}}catch(a){if(r=void 0,this.updateSyncStatus({dataFlow:{uploading:!1,uploadError:a}}),await this.delayRetry(n.signal),!this.isConnected)break;this.logger.debug(`Caught exception when uploading. Upload will retry after a delay. Exception: ${a.message}`)}finally{this.updateSyncStatus({dataFlow:{uploading:!1}})}this.uploadAbortController=null}})}async connect(r){this.abortController&&await this.disconnect();const n=new AbortController;return this.abortController=n,this.streamingSyncPromise=this.streamingSync(this.abortController.signal,r),new Promise(i=>{const a=this.registerListener({statusChanged:s=>{if(s.dataFlowStatus.downloadError!=null)this.logger.warn("Initial connect attempt did not successfully connect to server");else if(s.connecting)return;a(),i()}})})}async disconnect(){if(this.abortController){this.abortController.signal.aborted||this.abortController.abort(new Ln("Disconnect has been requested"));try{await this.streamingSyncPromise}catch(r){this.logger.warn(r)}this.streamingSyncPromise=void 0,this.abortController=null,this.updateSyncStatus({connected:!1,connecting:!1})}}async streamingSync(r,n){r||(this.abortController=new AbortController,r=this.abortController.signal),this.crudUpdateListener=this.options.adapter.registerListener({crudUpdate:()=>this.triggerCrudUpload()});let i=new AbortController;for(r.addEventListener("abort",()=>{var a;i.abort((r==null?void 0:r.reason)??new Ln("Received command to disconnect from upstream")),(a=this.crudUpdateListener)==null||a.call(this),this.crudUpdateListener=void 0,this.updateSyncStatus({connected:!1,connecting:!1,dataFlow:{downloading:!1,downloadProgress:null}})});;){this.updateSyncStatus({connecting:!0});let a=!0,s=null;try{if(r!=null&&r.aborted)break;s=await this.streamingSyncIteration(i.signal,n)}catch(o){o instanceof Ln?(this.logger.warn(o),a=!1):this.logger.error(o),this.updateSyncStatus({dataFlow:{downloadError:o}})}finally{this.notifyCompletedUploads=void 0,r.aborted||(i.abort(new Ln("Closing sync stream network requests before retry.")),i=new AbortController),(s==null?void 0:s.immediateRestart)!=!0&&(this.updateSyncStatus({connected:!1,connecting:!0}),a&&await this.delayRetry(i.signal))}}this.updateSyncStatus({connected:!1,connecting:!1})}async collectLocalBucketState(){const r=await this.options.adapter.getBucketStates(),n=r.map(a=>({name:a.bucket,after:a.op_id})),i=new Map;for(const a of r)i.set(a.bucket,null);return[n,i]}async requireKeyFormat(r){const n=await this.options.adapter.hasMigratedSubkeys();return r&&!n?(await this.options.adapter.migrateToFixedSubkeys(),!0):n}streamingSyncIteration(r,n){return this.obtainLock({type:yc.SYNC,signal:r,callback:async()=>{const i={...EK,...n??{}},a=Object.entries(i.appMetadata).filter(([o,c])=>typeof c!="string");if(a.length>0)throw new Error(`Invalid appMetadata provided. Only string values are allowed. Invalid values: ${a.map(([o,c])=>`${o}: ${c}`).join(", ")}`);const s=i.clientImplementation;return this.updateSyncStatus({clientImplementation:s}),s==hm.JAVASCRIPT?(await this.legacyStreamingSyncIteration(r,i),null):(await this.requireKeyFormat(!0),await this.rustSyncIteration(r,i))}})}async legacyStreamingSyncIteration(r,n){var g;const i=(g=n.serializedSchema)==null?void 0:g.raw_tables;i!=null&&i.length&&this.logger.warn("Raw tables require the Rust-based sync client. The JS client will ignore them."),this.activeStreams.length&&this.logger.error("Sync streams require `clientImplementation: SyncClientImplementation.RUST` when connecting."),this.logger.debug("Streaming sync iteration started"),this.options.adapter.startSession();let[a,s]=await this.collectLocalBucketState(),o=null,c=null;const d=await this.options.adapter.getClientId(),p=await this.requireKeyFormat(!1);this.logger.debug("Requesting stream from server");const h={path:"/sync/stream",abortSignal:r,data:{buckets:a,include_checksum:!0,raw_data:!0,parameters:n.params,app_metadata:n.appMetadata,client_id:d}};let m;if((n==null?void 0:n.connectionMethod)==Qd.HTTP)m=await this.options.remote.postStreamRaw(h,b=>typeof b=="string"?JSON.parse(b):b);else{const b=await this.options.remote.getBSON();m=await this.options.remote.socketStreamRaw({...h,fetchStrategy:n.fetchStrategy},v=>v instanceof Uint8Array?b.deserialize(v):v,b)}for(this.logger.debug("Stream established. Processing events"),this.notifyCompletedUploads=()=>{m.closed||m.enqueueData({crud_upload_completed:null})};!m.closed;){const b=await m.read();if(!b)return;if("crud_upload_completed"in b){if(c!=null){const{applied:v,endIteration:x}=await this.applyCheckpoint(c);if(v)c=null;else if(x)break}continue}if(this.syncStatus.connected||(Promise.resolve().then(()=>this.triggerCrudUpload()),this.updateSyncStatus({connected:!0})),vK(b)){o=b.checkpoint,c=null;const v=new Set(s.keys()),x=new Map;for(const w of b.checkpoint.buckets)x.set(w.bucket,{name:w.bucket,priority:w.priority??mN}),v.delete(w.bucket);v.size>0&&this.logger.debug("Removing buckets",[...v]),s=x,await this.options.adapter.removeBuckets([...v]),await this.options.adapter.setTargetCheckpoint(o),await this.updateSyncStatusForStartingCheckpoint(o)}else if(xK(b)){const v=await this.applyCheckpoint(o);if(v.endIteration)return;v.applied?c=null:c=o}else if(bK(b)){const v=b.partial_checkpoint_complete.priority;this.logger.debug("Partial checkpoint complete",v);const x=await this.options.adapter.syncLocalDatabase(o,v);if(x.checkpointValid){if(x.ready){this.logger.debug("partial checkpoint validation succeeded");const w=this.syncStatus.priorityStatusEntries.filter(S=>S.priority<=v);w.push({priority:v,lastSyncedAt:new Date,hasSynced:!0}),this.updateSyncStatus({connected:!0,priorityStatusEntries:w})}}else{await new Promise(w=>setTimeout(w,50));return}}else if(wK(b)){if(o==null)throw new Error("Checkpoint diff without previous checkpoint");c=null;const v=b.checkpoint_diff,x=new Map;for(const E of o.buckets)x.set(E.bucket,E);for(const E of v.updated_buckets)x.set(E.bucket,E);for(const E of v.removed_buckets)x.delete(E);o={last_op_id:v.last_op_id,buckets:[...x.values()],write_checkpoint:v.write_checkpoint},await this.updateSyncStatusForStartingCheckpoint(o),s=new Map,x.forEach((E,T)=>s.set(T,{name:E.bucket,priority:E.priority??mN}));const S=v.removed_buckets;S.length>0&&this.logger.debug("Remove buckets",S),await this.options.adapter.removeBuckets(S),await this.options.adapter.setTargetCheckpoint(o)}else if(gK(b)){const{data:v}=b,x=this.syncStatus.dataFlowStatus.downloadProgress;let w=null;if(x){w={...x};const S=w[v.bucket];S&&(w[v.bucket]={...S,since_last:S.since_last+v.data.length})}this.updateSyncStatus({dataFlow:{downloading:!0,downloadProgress:w}}),await this.options.adapter.saveSyncData({buckets:[nj.fromRow(v)]},p)}else if(yK(b)){const v=b.token_expires_in;if(v==0){this.logger.debug("Token expiring; reconnect"),await this.delayRetry();return}else if(v<30){this.logger.debug("Token will expire soon; reconnect"),this.options.remote.invalidateCredentials();return}this.triggerCrudUpload()}else this.logger.debug("Received unknown sync line",b)}this.logger.debug("Stream input empty")}async rustSyncIteration(r,n){const i=this,a=this.options.adapter,s=this.options.remote;let o=null,c=!1,d=!1;if(r.aborted)throw new Ln("Connection request has been aborted");const p=new AbortController;r.addEventListener("abort",()=>p.abort());let h=null;async function m(w){const S={path:"/sync/stream",abortSignal:p.signal,data:w.request};n.connectionMethod==Qd.HTTP?h=await s.postStreamRaw(S,E=>typeof E=="string"?{command:oa.PROCESS_TEXT_LINE,payload:E}:E):h=await s.socketStreamRaw({...S,fetchStrategy:n.fetchStrategy},E=>E instanceof Uint8Array?{command:oa.PROCESS_BSON_LINE,payload:E}:E),i.updateSyncStatus({connected:!0});try{for(;!h.closed;){const E=await h.read();if(E==null)return;await b(E.command,E.payload),c||(i.triggerCrudUpload(),c=!0)}}finally{const E=h;h=null,await E.close()}}async function g(){await b(oa.STOP)}async function b(w,S){const E=await a.control(w,S??null);i.logger.trace("powersync_control",w,S==null||typeof S=="string"?S:"<bytes>",E),await x(JSON.parse(E))}async function v(w){if("LogLine"in w)switch(w.LogLine.severity){case"DEBUG":i.logger.debug(w.LogLine.line);break;case"INFO":i.logger.info(w.LogLine.line);break;case"WARNING":i.logger.warn(w.LogLine.line);break}else if("UpdateSyncStatus"in w)i.updateSyncStatus(v$(w.UpdateSyncStatus.status));else if("EstablishSyncStream"in w){if(o!=null)throw"Unexpected request to establish sync stream, already connected";o=m(w.EstablishSyncStream)}else"FetchCredentials"in w?w.FetchCredentials.did_expire?s.invalidateCredentials():(s.invalidateCredentials(),s.fetchCredentials().then(S=>{h==null||h.enqueueData({command:oa.NOTIFY_TOKEN_REFRESHED})},S=>{i.logger.warn("Could not prefetch credentials",S)})):"CloseSyncStream"in w?(p.abort(),d=w.CloseSyncStream.hide_disconnect):"FlushFileSystem"in w||"DidCompleteSync"in w&&i.updateSyncStatus({dataFlow:{downloadError:void 0}})}async function x(w){for(const S of w)await v(S)}try{const w={parameters:n.params,app_metadata:n.appMetadata,active_streams:this.activeStreams,include_defaults:n.includeDefaultStreams};n.serializedSchema&&(w.schema=n.serializedSchema),await b(oa.START,JSON.stringify(w)),this.notifyCompletedUploads=()=>{h&&!(h!=null&&h.closed)&&h.enqueueData({command:oa.NOTIFY_CRUD_UPLOAD_COMPLETED})},this.handleActiveStreamsChange=()=>{h&&!(h!=null&&h.closed)&&h.enqueueData({command:oa.UPDATE_SUBSCRIPTIONS,payload:JSON.stringify(this.activeStreams)})},await o}finally{this.notifyCompletedUploads=this.handleActiveStreamsChange=void 0,await g()}return{immediateRestart:d}}async updateSyncStatusForStartingCheckpoint(r){const n=await this.options.adapter.getBucketOperationProgress(),i={};let a=!1;for(const s of r.buckets){const o=n[s.bucket],c=(o==null?void 0:o.atLast)??0,d=(o==null?void 0:o.sinceLast)??0;i[s.bucket]={priority:s.priority??3,at_last:c,since_last:d,target_count:s.count??0},s.count!=null&&s.count<c+d&&(a=!0)}if(a)for(const s in i){const o=i[s];o.at_last=0,o.since_last=0}this.updateSyncStatus({dataFlow:{downloading:!0,downloadProgress:i}})}async applyCheckpoint(r){let n=await this.options.adapter.syncLocalDatabase(r);if(n.checkpointValid){if(!n.ready)return this.logger.debug(`Could not apply checkpoint ${r.last_op_id} due to local data. We will retry applying the checkpoint after that upload is completed.`),{applied:!1,endIteration:!1}}else return this.logger.debug(`Checksum mismatch in checkpoint ${r.last_op_id}, will reconnect`),await new Promise(i=>setTimeout(i,50)),{applied:!1,endIteration:!0};return this.logger.debug(`Applied checkpoint ${r.last_op_id}`,r),this.updateSyncStatus({connected:!0,lastSyncedAt:new Date,dataFlow:{downloading:!1,downloadProgress:null,downloadError:void 0}}),{applied:!0,endIteration:!1}}updateSyncStatus(r){const n=new ua({connected:r.connected??this.syncStatus.connected,connecting:!r.connected&&(r.connecting??this.syncStatus.connecting),lastSyncedAt:r.lastSyncedAt??this.syncStatus.lastSyncedAt,dataFlow:{...this.syncStatus.dataFlowStatus,...r.dataFlow},priorityStatusEntries:r.priorityStatusEntries??this.syncStatus.priorityStatusEntries,clientImplementation:r.clientImplementation??this.syncStatus.clientImplementation});this.syncStatus.isEqual(n)||(this.syncStatus=n,this.iterateListeners(i=>{var a;return(a=i.statusChanged)==null?void 0:a.call(i,n)})),this.iterateListeners(i=>{var a;return(a=i.statusUpdated)==null?void 0:a.call(i,r)})}async delayRetry(r){return new Promise(n=>{if(r!=null&&r.aborted){n();return}const{retryDelayMs:i}=this.options;let a;const s=()=>{n(),a&&(clearTimeout(a),a=void 0),r==null||r.removeEventListener("abort",s)};r==null||r.addEventListener("abort",s,{once:!0}),a=setTimeout(s,i)})}updateSubscriptions(r){var n;this.activeStreams=r,(n=this.handleActiveStreamsChange)==null||n.call(this)}}const Sp=new Map,AK={async obtainClaim(t){if(Sp.has(t))throw new Error(`A claim is already present for ${t}`);const e=async()=>{Sp.delete(t)};return Sp.set(t,e),e},async checkClaim(t){return Sp.has(t)}};var ai;(function(t){t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ai||(ai={}));const TK={useStorageByDefault:!1},gN=12e4;class OK{constructor(e){te(this,"options");te(this,"schema");te(this,"defaultConfig");te(this,"cleanupTimeout");te(this,"isDisposed");this.options=e,this.schema=e.schema,e.db.registerListener({schemaChanged:n=>{this.schema=n}}),this.isDisposed=!1,this.defaultConfig=TK;const r=async()=>{if(this.cleanupTimeout=null,!this.isDisposed)try{await this.cleanupResources()}catch(n){this.db.logger.error("Caught error while attempting to cleanup triggers",n)}finally{if(this.isDisposed)return;this.cleanupTimeout=setTimeout(r,gN)}};this.cleanupTimeout=setTimeout(r,gN)}get db(){return this.options.db}async getUUID(){const{id:e}=await this.db.get(`
      SELECT
        uuid () as id
    `);return e.replace(/-/g,"_")}async removeTriggers(e,r){for(const n of r)await e.execute(`DROP TRIGGER IF EXISTS ${n}; `)}dispose(){this.isDisposed=!0,this.cleanupTimeout&&clearTimeout(this.cleanupTimeout)}updateDefaults(e){this.defaultConfig={...this.defaultConfig,...e}}generateTriggerName(e,r,n){return`__ps_temp_trigger_${e.toLowerCase()}__${r}__${n}`}async cleanupResources(){await this.db.database.writeLock(async e=>{const r=await e.getAll(`
        SELECT
          name
        FROM
          sqlite_master
        WHERE
          type = 'trigger'
          AND name LIKE '__ps_temp_trigger_%'
      `),n=/^__ps_temp_trigger_(?:insert|update|delete)__(.+)__([a-f0-9_]{36})$/i,i=new Map;for(const a of r){const s=a.name.match(n);if(s){const[,o,c]=s,d=i.get(c);d?d.triggerNames.push(a.name):i.set(c,{table:o,id:c,triggerNames:[a.name]})}}for(const a of i.values())if(!await this.options.claimManager.checkClaim(a.id)){this.db.logger.debug(`Clearing resources for trigger ${a.id} with table ${a.table}`);for(const o of a.triggerNames)await e.execute(`DROP TRIGGER IF EXISTS ${o}`);await e.execute(`DROP TABLE IF EXISTS ${a.table}`)}})}async createDiffTrigger(e){await this.db.waitForReady();const{source:r,destination:n,columns:i,when:a,hooks:s,useStorage:o=this.defaultConfig.useStorageByDefault}=e,c=Object.keys(a);if(c.length==0)throw new Error("At least one WHEN operation must be specified for the trigger.");const d=o?"":"TEMP",p=Object.fromEntries(Object.entries(a).map(([j,O])=>[j,`WHEN ${O}`])),h=this.schema.tables.find(j=>j.viewName==r);if(!h)throw new Error(`Source table or view "${r}" not found in the schema.`);const m=i??h.columns.map(j=>j.name),g=h.internalName,b=[],v=await this.getUUID(),x=o?await this.options.claimManager.obtainClaim(v):null,w=(j="NEW")=>i==null?`${j}.data`:i.length==0?"'{}'":`json_object(${m.map(O=>`'${O}', json_extract(${j}.data, '$.${O}')`).join(", ")})`,S=this.db.registerListener({schemaChanged:()=>{this.db.logger.warn("The PowerSync schema has changed while previously configured triggers are still operational. This might cause unexpected results.")}}),E=async()=>(S(),this.db.writeLock(async j=>{await this.removeTriggers(j,b),await j.execute(`DROP TABLE IF EXISTS ${n};`),await(x==null?void 0:x())})),T=async j=>{var O;if(await((O=s==null?void 0:s.beforeCreate)==null?void 0:O.call(s,j)),await j.execute(`
        CREATE ${d} TABLE ${n} (
          operation_id INTEGER PRIMARY KEY AUTOINCREMENT,
          id TEXT,
          operation TEXT,
          timestamp TEXT,
          value TEXT,
          previous_value TEXT
        )
      `),c.includes(ai.INSERT)){const N=this.generateTriggerName(ai.INSERT,n,v);b.push(N),await j.execute(`
          CREATE ${d} TRIGGER ${N} AFTER INSERT ON ${g} ${p[ai.INSERT]} BEGIN
          INSERT INTO
            ${n} (id, operation, timestamp, value)
          VALUES
            (
              NEW.id,
              'INSERT',
              strftime ('%Y-%m-%dT%H:%M:%fZ', 'now'),
              ${w("NEW")}
            );

          END
        `)}if(c.includes(ai.UPDATE)){const N=this.generateTriggerName(ai.UPDATE,n,v);b.push(N),await j.execute(`
          CREATE ${d} TRIGGER ${N} AFTER
          UPDATE ON ${g} ${p[ai.UPDATE]} BEGIN
          INSERT INTO
            ${n} (id, operation, timestamp, value, previous_value)
          VALUES
            (
              NEW.id,
              'UPDATE',
              strftime ('%Y-%m-%dT%H:%M:%fZ', 'now'),
              ${w("NEW")},
              ${w("OLD")}
            );

          END;
        `)}if(c.includes(ai.DELETE)){const N=this.generateTriggerName(ai.DELETE,n,v);b.push(N),await j.execute(`
          CREATE ${d} TRIGGER ${N} AFTER DELETE ON ${g} ${p[ai.DELETE]} BEGIN
          INSERT INTO
            ${n} (id, operation, timestamp, value)
          VALUES
            (
              OLD.id,
              'DELETE',
              strftime ('%Y-%m-%dT%H:%M:%fZ', 'now'),
              ${w("OLD")}
            );

          END;
        `)}};try{return await this.db.writeLock(T),E}catch(j){try{await E()}catch(O){throw new AggregateError([j,O],"Error during operation and cleanup")}throw j}}async trackTableDiff(e){const{source:r,when:n,columns:i,hooks:a,throttleMs:s=dm}=e;await this.db.waitForReady();const o=this.schema.tables.find(g=>g.viewName==r);if(!o)throw new Error(`Source table or view "${r}" not found in the schema.`);const c=i??o.columns.map(g=>g.name),d=await this.getUUID(),p=`__ps_temp_track_${r}_${d}`,h=new AbortController,m=()=>h.abort();this.db.onChange({onChange:async()=>{h.signal.aborted||await this.db.writeTransaction(async g=>{const b=await e.onChange({...g,destinationTable:p,withDiff:async(v,x,w)=>{const E=`
                  WITH
                    DIFF AS (
                      SELECT
                        ${w!=null&&w.castOperationIdAsText?"id, operation, CAST(operation_id AS TEXT) as operation_id, timestamp, value, previous_value":"*"}
                      FROM
                        ${p}
                      ORDER BY
                        operation_id ASC
                    ) ${v}
                `;return g.getAll(E,x)},withExtractedDiff:async(v,x)=>{const w=`
                  WITH
                    DIFF AS (
                      SELECT
                        id,
                        ${c.length>0?`${c.map(S=>`json_extract(value, '$.${S}') as ${S}`).join(", ")},`:""} operation_id as __operation_id,
                        operation as __operation,
                        timestamp as __timestamp,
                        previous_value as __previous_value
                      FROM
                        ${p}
                      ORDER BY
                        __operation_id ASC
                    ) ${v}
                `;return g.getAll(w,x)}});return await g.execute(`DELETE FROM ${p};`),b})}},{tables:[p],signal:h.signal,throttleMs:s});try{const g=await this.createDiffTrigger({source:r,destination:p,columns:c,when:n,hooks:a});return async()=>{m(),await g()}}catch(g){try{m()}catch(b){throw new AggregateError([g,b],"Error during operation and cleanup")}throw g}}}const kK=/(^ps_data__|^ps_data_local__)/,PK={clearLocal:!0},NK={disconnect:!0},CK={retryDelayMs:5e3,crudUploadThrottleMs:x$},RK=100,yN=12e4,IK=t=>typeof t=="object"&&V9(t.database);class DK extends Vn{constructor(r){super();te(this,"options");te(this,"closed");te(this,"ready");te(this,"currentStatus");te(this,"sdkVersion");te(this,"bucketStorageAdapter");te(this,"_isReadyPromise");te(this,"connectionManager");te(this,"subscriptions");te(this,"_schema");te(this,"_database");te(this,"runExclusiveMutex");te(this,"triggers");te(this,"triggersImpl");te(this,"logger");this.options=r;const{database:n,schema:i}=r;if(typeof(i==null?void 0:i.toJSON)!="function")throw new Error("The `schema` option should be provided and should be an instance of `Schema`.");if(c$(n))this._database=n;else if(DS(n))this._database=n.openDB();else if(IK(r))this._database=this.openDBAdapter(r);else throw new Error("The provided `database` option is invalid.");this.logger=r.logger??Yo.get(`PowerSyncDatabase[${this._database.name}]`),this.bucketStorageAdapter=this.generateBucketStorageAdapter(),this.closed=!1,this.currentStatus=new ua({}),this.options={...CK,...r},this._schema=i,this.ready=!1,this.sdkVersion="",this.runExclusiveMutex=new Lo,this.subscriptions={firstStatusMatching:(a,s)=>this.waitForStatus(a,s),resolveOfflineSyncStatus:()=>this.resolveOfflineSyncStatus(),rustSubscriptionsCommand:async a=>{await this.writeTransaction(s=>s.execute("select powersync_control(?,?)",["subscriptions",JSON.stringify(a)]))}},this.connectionManager=new M9({createSyncImplementation:async(a,s)=>(await this.waitForReady(),this.runExclusive(async()=>{const o=this.generateSyncStreamImplementation(a,this.resolvedConnectionOptions(s)),c=o.registerListener({statusChanged:d=>{var p;this.currentStatus=new ua({...d.toJSON(),hasSynced:((p=this.currentStatus)==null?void 0:p.hasSynced)||!!d.lastSyncedAt}),this.iterateListeners(h=>{var m;return(m=h.statusChanged)==null?void 0:m.call(h,this.currentStatus)})}});return await o.waitForReady(),{sync:o,onDispose:c}})),logger:this.logger}),this._isReadyPromise=this.initialize(),this.triggers=this.triggersImpl=new OK({db:this,schema:this.schema,...this.generateTriggerManagerConfig()})}get syncStreamImplementation(){return this.connectionManager.syncStreamImplementation}get connector(){return this.connectionManager.connector}get connectionOptions(){return this.connectionManager.connectionOptions}get schema(){return this._schema}get database(){return this._database}get connected(){var r;return((r=this.currentStatus)==null?void 0:r.connected)||!1}get connecting(){var r;return((r=this.currentStatus)==null?void 0:r.connecting)||!1}generateTriggerManagerConfig(){return{claimManager:AK}}async waitForReady(){this.ready||await this._isReadyPromise}async waitForFirstSync(r){const n=r instanceof AbortSignal?r:r==null?void 0:r.signal,i=r&&"priority"in r?r.priority:void 0,a=i===void 0?s=>s.hasSynced:s=>s.statusForPriority(i).hasSynced;return this.waitForStatus(a,n)}async waitForStatus(r,n){if(!r(this.currentStatus))return new Promise(i=>{const a=this.registerListener({statusChanged:o=>{r(o)&&s()}});function s(){a(),i()}n!=null&&n.aborted?s():n==null||n.addEventListener("abort",s)})}async initialize(){await this._initialize(),await this.bucketStorageAdapter.init(),await this.loadVersion(),await this.updateSchema(this.options.schema),await this.resolveOfflineSyncStatus(),await this.database.execute("PRAGMA RECURSIVE_TRIGGERS=TRUE"),await this.triggersImpl.cleanupResources(),this.ready=!0,this.iterateListeners(r=>{var n;return(n=r.initialized)==null?void 0:n.call(r)})}async loadVersion(){try{const{version:n}=await this.database.get("SELECT powersync_rs_version() as version");this.sdkVersion=n}catch(n){throw new Error(`The powersync extension is not loaded correctly. Details: ${n.message}`)}let r;try{r=this.sdkVersion.split(/[.\/]/).slice(0,3).map(n=>parseInt(n))}catch(n){throw new Error(`Unsupported powersync extension version. Need >=0.4.10 <1.0.0, got: ${this.sdkVersion}. Details: ${n.message}`)}if(r[0]!=0||r[1]<4||r[1]==4&&r[2]<10)throw new Error(`Unsupported powersync extension version. Need >=0.4.10 <1.0.0, got: ${this.sdkVersion}`)}async resolveOfflineSyncStatus(){const r=await this.database.get("SELECT powersync_offline_sync_status() as r"),n=JSON.parse(r.r),i=new ua({...this.currentStatus.toJSON(),...v$(n)});i.isEqual(this.currentStatus)||(this.currentStatus=i,this.iterateListeners(a=>{var s;return(s=a.statusChanged)==null?void 0:s.call(a,this.currentStatus)}))}async updateSchema(r){if(this.syncStreamImplementation)throw new Error("Cannot update schema while connected");try{r.validate()}catch(n){this.logger.warn("Schema validation failed. Unexpected behaviour could occur",n)}this._schema=r,await this.database.execute("SELECT powersync_replace_schema(?)",[JSON.stringify(this.schema.toJSON())]),await this.database.refreshSchema(),this.iterateListeners(async n=>{var i;return(i=n.schemaChanged)==null?void 0:i.call(n,r)})}async init(){return this.waitForReady()}resolvedConnectionOptions(r){return{...r,retryDelayMs:(r==null?void 0:r.retryDelayMs)??this.options.retryDelayMs??this.options.retryDelay??SK,crudUploadThrottleMs:(r==null?void 0:r.crudUploadThrottleMs)??this.options.crudUploadThrottleMs??x$}}dispose(){return super.dispose()}runExclusive(r){return this.runExclusiveMutex.runExclusive(r)}async connect(r,n){const i=n??{};return i.serializedSchema=this.schema.toJSON(),this.connectionManager.connect(r,i)}async disconnect(){return this.connectionManager.disconnect()}async disconnectAndClear(r=PK){await this.disconnect(),await this.waitForReady();const{clearLocal:n}=r;await this.database.writeTransaction(async i=>{await i.execute("SELECT powersync_clear(?)",[n?1:0])}),this.currentStatus=new ua({}),this.iterateListeners(i=>{var a;return(a=i.statusChanged)==null?void 0:a.call(i,this.currentStatus)})}syncStream(r,n){return this.connectionManager.stream(this.subscriptions,r,n??null)}async close(r=NK){if(await this.waitForReady(),this.closed)return;this.triggersImpl.dispose(),await this.iterateAsyncListeners(async i=>{var a;return(a=i.closing)==null?void 0:a.call(i)});const{disconnect:n}=r;n&&await this.disconnect(),await this.connectionManager.close(),await this.database.close(),this.closed=!0,await this.iterateAsyncListeners(async i=>{var a;return(a=i.closed)==null?void 0:a.call(i)})}async getUploadQueueStats(r){return this.readTransaction(async n=>{if(r){const a=(await n.execute(`SELECT SUM(cast(data as blob) + 20) as size, count(*) as count FROM ${ji.CRUD}`)).rows.item(0);return new FP((a==null?void 0:a.count)??0,(a==null?void 0:a.size)??0)}else{const a=(await n.execute(`SELECT count(*) as count FROM ${ji.CRUD}`)).rows.item(0);return new FP((a==null?void 0:a.count)??0)}})}async getCrudBatch(r=RK){const i=(await this.getAll(`SELECT id, tx_id, data FROM ${ji.CRUD} ORDER BY id ASC LIMIT ?`,[r+1])).map(o=>gc.fromRow(o))??[];let a=!1;if(i.length>r&&(i.pop(),a=!0),i.length==0)return null;const s=i[i.length-1];return new u$(i,a,async o=>this.handleCrudCheckpoint(s.clientId,o))}async getNextCrudTransaction(){return(await this.getCrudTransactions()[$P]().next()).value}getCrudTransactions(){return{[$P]:()=>{let r=-1;const n=`
WITH RECURSIVE crud_entries AS (
  SELECT id, tx_id, data FROM ps_crud WHERE id = (SELECT min(id) FROM ps_crud WHERE id > ?)
  UNION ALL
  SELECT ps_crud.id, ps_crud.tx_id, ps_crud.data FROM ps_crud
    INNER JOIN crud_entries ON crud_entries.id + 1 = rowid
  WHERE crud_entries.tx_id = ps_crud.tx_id
)
SELECT * FROM crud_entries;
    `;return{next:async()=>{const i=await this.database.getAll(n,[r]);if(i.length==0)return{done:!0,value:null};const a=i.map(c=>gc.fromRow(c)),s=a[a.length-1],o=s.transactionId;return r=s.clientId,{done:!1,value:new W9(a,async c=>this.handleCrudCheckpoint(s.clientId,c),o)}}}}}}async getClientId(){return this.bucketStorageAdapter.getClientId()}async handleCrudCheckpoint(r,n){return this.writeTransaction(async i=>{var a;await i.execute(`DELETE FROM ${ji.CRUD} WHERE id <= ?`,[r]),n?(a=(await i.execute(`SELECT 1 FROM ${ji.CRUD} LIMIT 1`)).rows)!=null&&a.length||await i.execute(`UPDATE ${ji.BUCKETS} SET target_op = CAST(? as INTEGER) WHERE name='$local'`,[n]):await i.execute(`UPDATE ${ji.BUCKETS} SET target_op = CAST(? as INTEGER) WHERE name='$local'`,[this.bucketStorageAdapter.getMaxOpId()])})}async execute(r,n){return this.writeLock(i=>i.execute(r,n))}async executeRaw(r,n){return await this.waitForReady(),this.database.executeRaw(r,n)}async executeBatch(r,n){return await this.waitForReady(),this.database.executeBatch(r,n)}async getAll(r,n){return await this.waitForReady(),this.database.getAll(r,n)}async getOptional(r,n){return await this.waitForReady(),this.database.getOptional(r,n)}async get(r,n){return await this.waitForReady(),this.database.get(r,n)}async readLock(r){return await this.waitForReady(),this.database.readLock(r)}async writeLock(r){return await this.waitForReady(),this.database.writeLock(r)}async readTransaction(r,n=yN){return await this.waitForReady(),this.database.readTransaction(async i=>{const a=await r({...i});return await i.rollback(),a},{timeoutMs:n})}async writeTransaction(r,n=yN){return await this.waitForReady(),this.database.writeTransaction(async i=>{const a=await r(i);return await i.commit(),a},{timeoutMs:n})}watch(r,n,i,a){if(i&&typeof i=="object"&&"onResult"in i){const o=i,c=a;return this.watchWithCallback(r,n,o,c)}const s=i;return this.watchWithAsyncGenerator(r,n,s)}query(r){const{sql:n,parameters:i=[],mapper:a}=r,s={compile:()=>({sql:n,parameters:i}),execute:async({sql:o,parameters:c})=>{const d=await this.getAll(o,c);return a?d.map(a):d}};return this.customQuery(s)}customQuery(r){return new z9({db:this,query:r})}watchWithCallback(r,n,i,a){var h;const{onResult:s,onError:o=m=>this.logger.error(m)}=i??{};if(!s)throw new Error("onResult is required");const{comparator:c}=a??{},d=new l$({db:this,comparator:c,placeholderData:null,watchOptions:{query:{compile:()=>({sql:r,parameters:n??[]}),execute:()=>this.executeReadOnly(r,n)},reportFetching:!1,throttleMs:(a==null?void 0:a.throttleMs)??dm,triggerOnTables:a==null?void 0:a.tables}}),p=d.registerListener({onData:m=>{m&&s(m)},onError:m=>{o(m)}});(h=a==null?void 0:a.signal)==null||h.addEventListener("abort",()=>{p(),d.close()})}watchWithAsyncGenerator(r,n,i){return new IP.EventIterator(a=>{var o;const s={onResult:c=>{a.push(c)},onError:c=>{a.fail(c)}};this.watchWithCallback(r,n,s,i),(o=i==null?void 0:i.signal)==null||o.addEventListener("abort",()=>{a.stop()})})}async resolveTables(r,n,i){const a=i!=null&&i.tables?[...i.tables]:[];if(!(i!=null&&i.tables)){const o=(await this.getAll(`EXPLAIN ${r}`,n)).filter(d=>d.opcode=="OpenRead"&&d.p3==0&&typeof d.p2=="number").map(d=>d.p2),c=await this.getAll("SELECT DISTINCT tbl_name FROM sqlite_master WHERE rootpage IN (SELECT json_each.value FROM json_each(?))",[JSON.stringify(o)]);for(const d of c)a.push(d.tbl_name.replace(kK,""))}return a}onChange(r,n){if(r&&typeof r=="object"&&"onChange"in r){const a=r,s=n;return this.onChangeWithCallback(a,s)}const i=r;return this.onChangeWithAsyncGenerator(i)}onChangeWithCallback(r,n){var g;const{onChange:i,onError:a=b=>this.logger.error(b)}=r??{};if(!i)throw new Error("onChange is required");const s=n??{},o=new Set(((s==null?void 0:s.tables)??[]).flatMap(b=>[b,`ps_data__${b}`,`ps_data_local__${b}`])),c=new Set,d=s.throttleMs??dm,p=new R9(async b=>{await i(b)}),h=I9(()=>this.handleTableChanges(c,o,b=>{var v;(v=s==null?void 0:s.signal)!=null&&v.aborted||p.schedule({changedTables:b})}),d);n!=null&&n.triggerImmediate&&p.schedule({changedTables:[]});const m=this.database.registerListener({tablesUpdated:async b=>{try{this.processTableUpdates(b,c),h()}catch(v){a==null||a(v)}}});return(g=s.signal)==null||g.addEventListener("abort",()=>{p.dispose(),m()}),()=>m()}onChangeWithAsyncGenerator(r){const n=r??{};return new IP.EventIterator(i=>{var s;const a=this.onChangeWithCallback({onChange:o=>{i.push(o)},onError:o=>{i.fail(o)}},r);return(s=n.signal)==null||s.addEventListener("abort",()=>{i.stop()}),()=>a()})}handleTableChanges(r,n,i){if(r.size>0){const a=Array.from(r.values()).filter(s=>n.has(s));a.length&&i(a)}r.clear()}processTableUpdates(r,n){const i=a$(r)?r.tables:[r.table];for(const a of i)n.add(a)}async executeReadOnly(r,n){return await this.waitForReady(),this.database.readLock(i=>i.execute(r,n))}}const vN="9223372036854775807",Ld=class Ld extends Vn{constructor(r,n=Yo.get("SqliteBucketStorage")){super();te(this,"db");te(this,"logger");te(this,"tableNames");te(this,"_hasCompletedSync");te(this,"updateListener");te(this,"_clientId");this.db=r,this.logger=n,this._hasCompletedSync=!1,this.tableNames=new Set,this.updateListener=r.registerListener({tablesUpdated:i=>{N9(i).includes(ji.CRUD)&&this.iterateListeners(s=>{var o;return(o=s.crudUpdate)==null?void 0:o.call(s)})}})}async init(){this._hasCompletedSync=!1;const r=await this.db.getAll("SELECT name FROM sqlite_master WHERE type='table' AND name GLOB 'ps_data_*'");for(const n of r??[])this.tableNames.add(n.name)}async dispose(){var r;(r=this.updateListener)==null||r.call(this)}async _getClientId(){return(await this.db.get("SELECT powersync_client_id() as client_id")).client_id}getClientId(){return this._clientId==null&&(this._clientId=this._getClientId()),this._clientId}getMaxOpId(){return vN}startSession(){}async getBucketStates(){return await this.db.getAll("SELECT name as bucket, cast(last_op as TEXT) as op_id FROM ps_buckets WHERE pending_delete = 0 AND name != '$local'")}async getBucketOperationProgress(){const r=await this.db.getAll("SELECT name, count_at_last, count_since_last FROM ps_buckets");return Object.fromEntries(r.map(n=>[n.name,{atLast:n.count_at_last,sinceLast:n.count_since_last}]))}async saveSyncData(r,n=!1){await this.writeTransaction(async i=>{for(const a of r.buckets)await i.execute("INSERT INTO powersync_operations(op, data) VALUES(?, ?)",["save",JSON.stringify({buckets:[a.toJSON(n)]})]),this.logger.debug(`Saved batch of data for  bucket: ${a.bucket}, operations: ${a.data.length}`)})}async removeBuckets(r){for(const n of r)await this.deleteBucket(n)}async deleteBucket(r){await this.writeTransaction(async n=>{await n.execute("INSERT INTO powersync_operations(op, data) VALUES(?, ?)",["delete_bucket",r])}),this.logger.debug(`Done deleting bucket ${r}`)}async hasCompletedSync(){if(this._hasCompletedSync)return!0;const n=(await this.db.get("SELECT powersync_last_synced_at() as synced_at")).synced_at!=null;return n&&(this._hasCompletedSync=!0),n}async syncLocalDatabase(r,n){const i=await this.validateChecksums(r,n);if(!i.checkpointValid){this.logger.error("Checksums failed for",i.checkpointFailures);for(const c of i.checkpointFailures??[])await this.deleteBucket(c);return{ready:!1,checkpointValid:!1,checkpointFailures:i.checkpointFailures}}n==null?this.logger.debug(`Validated checksums checkpoint ${r.last_op_id}`):this.logger.debug(`Validated checksums for partial checkpoint ${r.last_op_id}, priority ${n}`);let a=r.buckets;n!==void 0&&(a=a.filter(c=>$0(n,c)));const s=a.map(c=>c.bucket);return await this.writeTransaction(async c=>{await c.execute("UPDATE ps_buckets SET last_op = ? WHERE name IN (SELECT json_each.value FROM json_each(?))",[r.last_op_id,JSON.stringify(s)]),n==null&&r.write_checkpoint&&await c.execute("UPDATE ps_buckets SET last_op = ? WHERE name = '$local'",[r.write_checkpoint])}),await this.updateObjectsFromBuckets(r,n)?{ready:!0,checkpointValid:!0}:{ready:!1,checkpointValid:!0}}async updateObjectsFromBuckets(r,n){let i="";if(n!==void 0){const a=[];for(const s of r.buckets)$0(n,s)&&a.push(s.bucket);i=JSON.stringify({priority:n,buckets:a})}return this.writeTransaction(async a=>{const{insertId:s}=await a.execute("INSERT INTO powersync_operations(op, data) VALUES(?, ?)",["sync_local",i]);if(s==1){if(n==null){const o=Object.fromEntries(r.buckets.map(d=>[d.bucket,d.count])),c=JSON.stringify(o);await a.execute("UPDATE ps_buckets SET count_since_last = 0, count_at_last = ?->name WHERE name != '$local' AND ?->name IS NOT NULL",[c,c])}return!0}else return!1})}async validateChecksums(r,n){var o;if(n!==void 0){const c=r.buckets.filter(d=>$0(n,d));r={...r,buckets:c}}const a=(o=(await this.db.execute("SELECT powersync_validate_checkpoint(?) as result",[JSON.stringify({...r})])).rows)==null?void 0:o.item(0);if(!a)return{checkpointValid:!1,ready:!1,checkpointFailures:[]};const s=JSON.parse(a.result);return s.valid?{ready:!0,checkpointValid:!0}:{checkpointValid:!1,ready:!1,checkpointFailures:s.failed_buckets}}async updateLocalTarget(r){if(!(await this.db.getAll("SELECT target_op FROM ps_buckets WHERE name = '$local' AND target_op = CAST(? as INTEGER)",[vN])).length)return!1;const i=await this.db.getAll("SELECT seq FROM main.sqlite_sequence WHERE name = 'ps_crud'");if(!i.length)return!1;const a=i[0].seq,s=await r();return this.writeTransaction(async o=>{var h,m,g;if((h=(await o.execute("SELECT 1 FROM ps_crud LIMIT 1")).rows)!=null&&h.length)return this.logger.debug(`New data uploaded since write checkpoint ${s} - need new write checkpoint`),!1;const d=await o.execute("SELECT seq FROM main.sqlite_sequence WHERE name = 'ps_crud'");if(!((m=d.rows)!=null&&m.length))throw new Error("SQLite Sequence should not be empty");return((g=d.rows)==null?void 0:g.item(0).seq)!=a?(this.logger.debug(`New data uploaded since write checpoint ${s} - need new write checkpoint (sequence updated)`),!1):(this.logger.debug(`Updating target write checkpoint to ${s}`),await o.execute("UPDATE ps_buckets SET target_op = CAST(? as INTEGER) WHERE name='$local'",[s]),!0)})}async nextCrudItem(){const r=await this.db.getOptional("SELECT * FROM ps_crud ORDER BY id ASC LIMIT 1");if(r)return gc.fromRow(r)}async hasCrud(){return!!await this.db.getOptional("SELECT 1 FROM ps_crud LIMIT 1")}async getCrudBatch(r=100){if(!await this.hasCrud())return null;const n=await this.db.getAll("SELECT * FROM ps_crud ORDER BY id ASC LIMIT ?",[r]),i=[];for(const s of n)i.push(gc.fromRow(s));if(i.length===0)return null;const a=i[i.length-1];return{crud:i,haveMore:!0,complete:async s=>this.writeTransaction(async o=>{var c;await o.execute("DELETE FROM ps_crud WHERE id <= ?",[a.clientId]),s?(c=(await o.execute("SELECT 1 FROM ps_crud LIMIT 1")).rows)!=null&&c.length&&await o.execute("UPDATE ps_buckets SET target_op = CAST(? as INTEGER) WHERE name='$local'",[s]):await o.execute("UPDATE ps_buckets SET target_op = CAST(? as INTEGER) WHERE name='$local'",[this.getMaxOpId()])})}}async writeTransaction(r,n){return this.db.writeTransaction(r,n)}async setTargetCheckpoint(r){}async control(r,n){return await this.writeTransaction(async i=>{const[[a]]=await i.executeRaw("SELECT powersync_control(?, ?)",[r,n]);return a})}async hasMigratedSubkeys(){const{r}=await this.db.get("SELECT EXISTS(SELECT * FROM ps_kv WHERE key = ?) as r",[Ld._subkeyMigrationKey]);return r!=0}async migrateToFixedSubkeys(){await this.writeTransaction(async r=>{await r.execute("UPDATE ps_oplog SET key = powersync_remove_duplicate_key_encoding(key);"),await r.execute("INSERT OR REPLACE INTO ps_kv (key, value) VALUES (?, ?);",[Ld._subkeyMigrationKey,"1"])})}};te(Ld,"_subkeyMigrationKey","powersync_js_migrated_subkeys");let MS=Ld;function $0(t,e){return e.priority!=null&&e.priority<=t}const tc=class tc extends Error{static MATCHES(e){return e instanceof tc||e instanceof Error&&e.name==tc.NAME}constructor(e){super(e),this.name=tc.NAME}};te(tc,"NAME","ConnectionClosedError");let vc=tc;var Ur;(function(t){t.TEXT="TEXT",t.INTEGER="INTEGER",t.REAL="REAL"})(Ur||(Ur={}));Ur.TEXT;Ur.INTEGER;Ur.REAL;const xN=1999;class MK{constructor(e){te(this,"options");this.options=e}get name(){return this.options.name}get type(){return this.options.type}toJSON(){return{name:this.name,type:this.type}}}const LK={ascending:!0};class Hg{constructor(e){te(this,"options");this.options={...LK,...e}}static createAscending(e){return new Hg({name:e,ascending:!0})}get name(){return this.options.name}get ascending(){return this.options.ascending}toJSON(e){var r;return{name:this.name,ascending:this.ascending,type:((r=e.columns.find(n=>n.name===this.name))==null?void 0:r.type)??Ur.TEXT}}}const FK={columns:[]};class aj{constructor(e){te(this,"options");this.options=e,this.options={...FK,...e}}static createAscending(e,r){return new aj({...e,columns:r.map(n=>Hg.createAscending(n))})}get name(){return this.options.name}get columns(){return this.options.columns??[]}toJSON(e){return{name:this.name,columns:this.columns.map(r=>r.toJSON(e))}}}class $K{constructor(e,r){te(this,"name");te(this,"put");te(this,"delete");this.name=e,this.put=r.put,this.delete=r.delete}}class UK{constructor(e){te(this,"types");te(this,"props");te(this,"tables");te(this,"rawTables");if(Array.isArray(e)){for(const r of e)if(r.name==="")throw new Error("It appears you are trying to create a new Schema with an array instead of an object. Passing in an object instead of an array into 'new Schema()' may resolve your issue.");this.tables=e}else this.props=Object.fromEntries(Object.entries(e).map(([r,n])=>[r,n.copyWithName(r)])),this.tables=Object.values(this.props);this.rawTables=[]}withRawTables(e){for(const[r,n]of Object.entries(e))this.rawTables.push(new $K(r,n))}validate(){for(const e of this.tables)e.validate()}toJSON(){return{tables:this.tables.map(e=>e.toJSON()),raw_tables:this.rawTables}}}const rd={insertOnly:!1,localOnly:!1,trackPrevious:!1,trackMetadata:!1,ignoreEmptyUpdates:!1},Cl=/["'%,.#\s[\]]/;class yo{constructor(e,r){te(this,"options");te(this,"_mappedColumns");this.isTableV1(e)?this.initTableV1(e):this.initTableV2(e,r)}static createLocalOnly(e){return new yo({...e,localOnly:!0,insertOnly:!1})}static createInsertOnly(e){return new yo({...e,localOnly:!1,insertOnly:!0})}static createTable(e,r){return new yo({name:e,columns:r.columns,indexes:r.indexes,localOnly:r.options.localOnly,insertOnly:r.options.insertOnly,viewName:r.options.viewName})}copyWithName(e){return new yo({...this.options,name:e})}isTableV1(e){return"columns"in e&&Array.isArray(e.columns)}initTableV1(e){this.options={...e,indexes:e.indexes||[]},this.applyDefaultOptions()}initTableV2(e,r){const n=Object.entries(e).map(([a,s])=>new MK({name:a,type:s.type})),i=Object.entries((r==null?void 0:r.indexes)??{}).map(([a,s])=>new aj({name:a,columns:s.map(o=>new Hg({name:o.replace(/^-/,""),ascending:!o.startsWith("-")}))}));this.options={name:"",columns:n,indexes:i,viewName:r==null?void 0:r.viewName,insertOnly:r==null?void 0:r.insertOnly,localOnly:r==null?void 0:r.localOnly,trackPrevious:r==null?void 0:r.trackPrevious,trackMetadata:r==null?void 0:r.trackMetadata,ignoreEmptyUpdates:r==null?void 0:r.ignoreEmptyUpdates},this.applyDefaultOptions(),this._mappedColumns=e}applyDefaultOptions(){var e,r,n,i,a;(e=this.options).insertOnly??(e.insertOnly=rd.insertOnly),(r=this.options).localOnly??(r.localOnly=rd.localOnly),(n=this.options).trackPrevious??(n.trackPrevious=rd.trackPrevious),(i=this.options).trackMetadata??(i.trackMetadata=rd.trackMetadata),(a=this.options).ignoreEmptyUpdates??(a.ignoreEmptyUpdates=rd.ignoreEmptyUpdates)}get name(){return this.options.name}get viewNameOverride(){return this.options.viewName}get viewName(){return this.viewNameOverride??this.name}get columns(){return this.options.columns}get columnMap(){return this._mappedColumns??this.columns.reduce((e,r)=>(e[r.name]={type:r.type??Ur.TEXT},e),{})}get indexes(){return this.options.indexes??[]}get localOnly(){return this.options.localOnly}get insertOnly(){return this.options.insertOnly}get trackPrevious(){return this.options.trackPrevious}get trackMetadata(){return this.options.trackMetadata}get ignoreEmptyUpdates(){return this.options.ignoreEmptyUpdates}get internalName(){return this.options.localOnly?`ps_data_local__${this.name}`:`ps_data__${this.name}`}get validName(){return!(Cl.test(this.name)||this.viewNameOverride!=null&&Cl.test(this.viewNameOverride))}validate(){if(Cl.test(this.name))throw new Error(`Invalid characters in table name: ${this.name}`);if(this.viewNameOverride&&Cl.test(this.viewNameOverride))throw new Error(`Invalid characters in view name: ${this.viewNameOverride}`);if(this.columns.length>xN)throw new Error(`Table has too many columns. The maximum number of columns is ${xN}.`);if(this.trackMetadata&&this.localOnly)throw new Error("Can't include metadata for local-only tables.");if(this.trackPrevious!=!1&&this.localOnly)throw new Error("Can't include old values for local-only tables.");const e=new Set;e.add("id");for(const n of this.columns){const{name:i}=n;if(n.name==="id")throw new Error("An id column is automatically added, custom id columns are not supported");if(e.has(i))throw new Error(`Duplicate column ${i}`);if(Cl.test(i))throw new Error(`Invalid characters in column name: ${n.name}`);e.add(i)}const r=new Set;for(const n of this.indexes){if(r.has(n.name))throw new Error(`Duplicate index ${n.name}`);if(Cl.test(n.name))throw new Error(`Invalid characters in index name: ${n.name}`);for(const i of n.columns)if(!e.has(i.name))throw new Error(`Column ${i.name} not found for index ${n.name}`);r.add(n.name)}}toJSON(){const e=this.trackPrevious;return{name:this.name,view_name:this.viewName,local_only:this.localOnly,insert_only:this.insertOnly,include_old:e&&(e.columns??!0),include_old_only_when_changed:typeof e=="object"&&e.onlyWhenChanged==!0,include_metadata:this.trackMetadata,ignore_empty_update:this.ignoreEmptyUpdates,columns:this.columns.map(r=>r.toJSON()),indexes:this.indexes.map(r=>r.toJSON(this))}}}const to=Yo;to.TRACE,to.DEBUG,to.INFO,to.TIME,to.WARN,to.ERROR,to.OFF;function b$(t,e={}){const r=Yo.get(t);return e.logLevel&&r.setLevel(e.logLevel),r}const xc=()=>{if("locks"in navigator&&navigator.locks)return navigator.locks;throw new Error("Navigator locks are not available in an insecure context. Use a secure context such as HTTPS or http://localhost.")},BK={async obtainClaim(t){return new Promise(e=>{xc().request(t,async()=>{await new Promise(r=>{e(async()=>r())})})})},async checkClaim(t){var r;return((r=(await xc().query()).held)==null?void 0:r.find(n=>n.name==t))!=null}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w$=Symbol("Comlink.proxy"),_$=Symbol("Comlink.endpoint"),sj=Symbol("Comlink.releaseProxy"),U0=Symbol("Comlink.finalizer"),Xp=Symbol("Comlink.thrown"),S$=t=>typeof t=="object"&&t!==null||typeof t=="function",qK={canHandle:t=>S$(t)&&t[w$],serialize(t){const{port1:e,port2:r}=new MessageChannel;return oj(t,e),[r,[r]]},deserialize(t){return t.start(),lj(t)}},zK={canHandle:t=>S$(t)&&Xp in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},E$=new Map([["proxy",qK],["throw",zK]]);function VK(t,e){for(const r of t)if(e===r||r==="*"||r instanceof RegExp&&r.test(e))return!0;return!1}function oj(t,e=globalThis,r=["*"]){e.addEventListener("message",function n(i){if(!i||!i.data)return;if(!VK(r,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),c=(i.data.argumentList||[]).map(ho);let d;try{const p=o.slice(0,-1).reduce((m,g)=>m[g],t),h=o.reduce((m,g)=>m[g],t);switch(s){case"GET":d=h;break;case"SET":p[o.slice(-1)[0]]=ho(i.data.value),d=!0;break;case"APPLY":d=h.apply(p,c);break;case"CONSTRUCT":{const m=new h(...c);d=k$(m)}break;case"ENDPOINT":{const{port1:m,port2:g}=new MessageChannel;oj(t,g),d=O$(m,[m])}break;case"RELEASE":d=void 0;break;default:return}}catch(p){d={value:p,[Xp]:0}}Promise.resolve(d).catch(p=>({value:p,[Xp]:0})).then(p=>{const[h,m]=gm(p);e.postMessage(Object.assign(Object.assign({},h),{id:a}),m),s==="RELEASE"&&(e.removeEventListener("message",n),j$(e),U0 in t&&typeof t[U0]=="function"&&t[U0]())}).catch(p=>{const[h,m]=gm({value:new TypeError("Unserializable return value"),[Xp]:0});e.postMessage(Object.assign(Object.assign({},h),{id:a}),m)})}),e.start&&e.start()}function WK(t){return t.constructor.name==="MessagePort"}function j$(t){WK(t)&&t.close()}function lj(t,e){const r=new Map;return t.addEventListener("message",function(i){const{data:a}=i;if(!a||!a.id)return;const s=r.get(a.id);if(s)try{s(a)}finally{r.delete(a.id)}}),LS(t,r,[],e)}function Ep(t){if(t)throw new Error("Proxy has been released and is not useable")}function A$(t){return Bl(t,new Map,{type:"RELEASE"}).then(()=>{j$(t)})}const pm=new WeakMap,mm="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(pm.get(t)||0)-1;pm.set(t,e),e===0&&A$(t)});function HK(t,e){const r=(pm.get(e)||0)+1;pm.set(e,r),mm&&mm.register(t,e,t)}function KK(t){mm&&mm.unregister(t)}function LS(t,e,r=[],n=function(){}){let i=!1;const a=new Proxy(n,{get(s,o){if(Ep(i),o===sj)return()=>{KK(a),A$(t),e.clear(),i=!0};if(o==="then"){if(r.length===0)return{then:()=>a};const c=Bl(t,e,{type:"GET",path:r.map(d=>d.toString())}).then(ho);return c.then.bind(c)}return LS(t,e,[...r,o])},set(s,o,c){Ep(i);const[d,p]=gm(c);return Bl(t,e,{type:"SET",path:[...r,o].map(h=>h.toString()),value:d},p).then(ho)},apply(s,o,c){Ep(i);const d=r[r.length-1];if(d===_$)return Bl(t,e,{type:"ENDPOINT"}).then(ho);if(d==="bind")return LS(t,e,r.slice(0,-1));const[p,h]=bN(c);return Bl(t,e,{type:"APPLY",path:r.map(m=>m.toString()),argumentList:p},h).then(ho)},construct(s,o){Ep(i);const[c,d]=bN(o);return Bl(t,e,{type:"CONSTRUCT",path:r.map(p=>p.toString()),argumentList:c},d).then(ho)}});return HK(a,t),a}function GK(t){return Array.prototype.concat.apply([],t)}function bN(t){const e=t.map(gm);return[e.map(r=>r[0]),GK(e.map(r=>r[1]))]}const T$=new WeakMap;function O$(t,e){return T$.set(t,e),t}function k$(t){return Object.assign(t,{[w$]:!0})}function gm(t){for(const[e,r]of E$)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},T$.get(t)||[]]}function ho(t){switch(t.type){case"HANDLER":return E$.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Bl(t,e,r,n){return new Promise(i=>{const a=QK();e.set(a,i),t.start&&t.start(),t.postMessage(Object.assign({id:a},r),n)})}function QK(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class P$ extends Vn{constructor(r){super();te(this,"options");te(this,"lockAbortController",new AbortController);te(this,"notifyRemoteClosed");this.options=r,r.remoteCanCloseUnexpectedly&&(this.notifyRemoteClosed=new AbortController)}get baseConnection(){return this.options.baseConnection}init(){return this.baseConnection.init()}markRemoteClosed(){this.notifyRemoteClosed.abort()}markHold(){return this.withRemote(()=>this.baseConnection.markHold())}releaseHold(r){return this.withRemote(()=>this.baseConnection.releaseHold(r))}isAutoCommit(){return this.withRemote(()=>this.baseConnection.isAutoCommit())}withRemote(r,n=!1){const i=this.notifyRemoteClosed;return i?new Promise((a,s)=>{if(i.signal.aborted&&(s(new vc("Called operation on closed remote")),!n))return;function o(){s(new vc("Remote peer closed with request in flight"))}function c(d){i.signal.removeEventListener("abort",o),d()}i.signal.addEventListener("abort",o),r().then(d=>c(()=>a(d))).catch(d=>c(()=>s(d)))}):r()}async shareConnection(){const{identifier:r,remote:n}=this.options;return await new Promise((a,s)=>navigator.locks.request(`shared-connection-${this.options.identifier}-${Date.now()}-${Math.round(Math.random()*1e4)}`,{signal:this.lockAbortController.signal},async()=>{a(),!this.lockAbortController.signal.aborted&&await new Promise(o=>{this.lockAbortController.signal.addEventListener("abort",()=>{o()})})}).catch(o=>{o.name=="AbortError"?a():s(o)})),{port:await n[_$](),identifier:r}}async registerOnTableChange(r){return this.baseConnection.registerOnTableChange(k$(r))}async close(){var r,n;this.lockAbortController.abort();try{await this.withRemote(()=>this.baseConnection.close(),!0)}finally{this.options.remote[sj](),(n=(r=this.options).onClose)==null||n.call(r),this.iterateListeners(i=>{var a;return(a=i.closing)==null?void 0:a.call(i)})}}execute(r,n){return this.withRemote(()=>this.baseConnection.execute(r,n))}executeRaw(r,n){return this.withRemote(()=>this.baseConnection.executeRaw(r,n))}executeBatch(r,n){return this.withRemote(()=>this.baseConnection.executeBatch(r,n))}getConfig(){return this.withRemote(()=>this.baseConnection.getConfig())}}const YK="modulepreload",XK=function(t){return"/"+t},wN={},ws=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let s=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=s(r.map(d=>{if(d=XK(d),d in wN)return;wN[d]=!0;const p=d.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=p?"stylesheet":YK,p||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),p)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},jp=0,M0e=1,L0e=5,F0e=10,$0e=12,U0e=14,_N=21,B0=25,JK=27,FS=100,N$=101,B0e=3338,q0e=3594,z0e=4106,V0e=2570,W0e=1802,H0e=1034,K0e=3850,G0e=266,Q0e=522,Y0e=1546,X0e=2058,J0e=778,ZK=2,eG=4,Z0e=8,exe=64,txe=256,rxe=512,nxe=2048,ixe=16384,axe=524288,sxe=0,oxe=1,lxe=2,cxe=4,uxe=2048,dxe=16384,fxe=14,hxe=21,pxe=31,mxe=32,gxe=33,SN=1,EN=2,jN=3,AN=4,TN=5;typeof BigInt.prototype.toJSON>"u"&&(BigInt.prototype.toJSON=function(){return this.toString()});const ON=0x7fffffffffffffffn,kN=-0x8000000000000000n,q0=Object.getPrototypeOf(async function(){}).constructor;class nd extends Error{constructor(e,r){super(e),this.code=r}}const id=!0;function tG(t){const e={};t.retryOps=[];const r=t._getSqliteFree(),n=t._malloc(8),i=[n,n+4],a=new TextEncoder;function s(v){if(typeof v!="string")return 0;const x=a.encode(v),w=t._sqlite3_malloc(x.byteLength+1);return t.HEAPU8.set(x,w),t.HEAPU8[w+x.byteLength]=0,w}function o(v,x){return BigInt(x)<<32n|BigInt(v)&0xffffffffn}const c=(function(){const v=BigInt(Number.MAX_SAFE_INTEGER)>>32n,x=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(w,S){return S>v||S<x?o(w,S):S*4294967296+(w&2147483647)-(w&2147483648)}})(),d=new Set;function p(v){if(!d.has(v))throw new nd("not a database",_N)}const h=new Map;function m(v){if(!h.has(v))throw new nd("not a statement",_N)}e.bind_collection=function(v,x){m(v);const w=Array.isArray(x),S=e.bind_parameter_count(v);for(let E=1;E<=S;++E){const T=w?E-1:e.bind_parameter_name(v,E),j=x[T];j!==void 0&&e.bind(v,E,j)}return jp},e.bind=function(v,x,w){switch(m(v),typeof w){case"number":return w===(w|0)?e.bind_int(v,x,w):e.bind_double(v,x,w);case"string":return e.bind_text(v,x,w);case"boolean":return e.bind_int(v,x,w?1:0);default:return w instanceof Uint8Array||Array.isArray(w)?e.bind_blob(v,x,w):w===null?e.bind_null(v,x):typeof w=="bigint"?e.bind_int64(v,x,w):w===void 0?JK:(console.warn("unknown binding converted to null",w),e.bind_null(v,x))}},e.bind_blob=(function(){const v="sqlite3_bind_blob",x=t.cwrap(v,...rt("nnnnn:n"));return function(w,S,E){m(w);const T=E.byteLength??E.length,j=t._sqlite3_malloc(T);t.HEAPU8.subarray(j).set(E);const O=x(w,S,j,T,r);return g(v,O,h.get(w))}})(),e.bind_parameter_count=(function(){const x=t.cwrap("sqlite3_bind_parameter_count",...rt("n:n"));return function(w){return m(w),x(w)}})(),e.bind_double=(function(){const v="sqlite3_bind_double",x=t.cwrap(v,...rt("nnn:n"));return function(w,S,E){m(w);const T=x(w,S,E);return g(v,T,h.get(w))}})(),e.bind_int=(function(){const v="sqlite3_bind_int",x=t.cwrap(v,...rt("nnn:n"));return function(w,S,E){if(m(w),E>2147483647||E<-2147483648)return B0;const T=x(w,S,E);return g(v,T,h.get(w))}})(),e.bind_int64=(function(){const v="sqlite3_bind_int64",x=t.cwrap(v,...rt("nnnn:n"));return function(w,S,E){if(m(w),E>ON||E<kN)return B0;const T=E&0xffffffffn,j=E>>32n,O=x(w,S,Number(T),Number(j));return g(v,O,h.get(w))}})(),e.bind_null=(function(){const v="sqlite3_bind_null",x=t.cwrap(v,...rt("nn:n"));return function(w,S){m(w);const E=x(w,S);return g(v,E,h.get(w))}})(),e.bind_parameter_name=(function(){const x=t.cwrap("sqlite3_bind_parameter_name",...rt("n:s"));return function(w,S){return m(w),x(w,S)}})(),e.bind_text=(function(){const v="sqlite3_bind_text",x=t.cwrap(v,...rt("nnnnn:n"));return function(w,S,E){m(w);const T=s(E),j=x(w,S,T,-1,r);return g(v,j,h.get(w))}})(),e.changes=(function(){const x=t.cwrap("sqlite3_changes",...rt("n:n"));return function(w){return p(w),x(w)}})(),e.clear_bindings=(function(){const v="sqlite3_clear_bindings",x=t.cwrap(v,...rt("n:n"));return function(w){m(w);const S=x(w);return g(v,S,h.get(w))}})(),e.last_insert_id=(function(){const x=t.cwrap("sqlite3_last_insert_rowid",...rt("n:n"));return function(w){return p(w),x(w)}})(),e.close=(function(){const v="sqlite3_close",x=t.cwrap(v,...rt("n:n"),{async:id});return async function(w){p(w);const S=await x(w);return d.delete(w),g(v,S,w)}})(),e.column=function(v,x){m(v);const w=e.column_type(v,x);switch(w){case AN:return e.column_blob(v,x);case EN:return e.column_double(v,x);case SN:const S=e.column_int(v,x),E=t.getTempRet0();return c(S,E);case TN:return null;case jN:return e.column_text(v,x);default:throw new nd("unknown type",w)}},e.column_blob=(function(){const x=t.cwrap("sqlite3_column_blob",...rt("nn:n"));return function(w,S){m(w);const E=e.column_bytes(w,S),T=x(w,S);return t.HEAPU8.subarray(T,T+E)}})(),e.column_bytes=(function(){const x=t.cwrap("sqlite3_column_bytes",...rt("nn:n"));return function(w,S){return m(w),x(w,S)}})(),e.column_count=(function(){const x=t.cwrap("sqlite3_column_count",...rt("n:n"));return function(w){return m(w),x(w)}})(),e.column_double=(function(){const x=t.cwrap("sqlite3_column_double",...rt("nn:n"));return function(w,S){return m(w),x(w,S)}})(),e.column_int=(function(){const x=t.cwrap("sqlite3_column_int64",...rt("nn:n"));return function(w,S){return m(w),x(w,S)}})(),e.column_int64=(function(){const x=t.cwrap("sqlite3_column_int64",...rt("nn:n"));return function(w,S){m(w);const E=x(w,S),T=t.getTempRet0();return o(E,T)}})(),e.column_name=(function(){const x=t.cwrap("sqlite3_column_name",...rt("nn:s"));return function(w,S){return m(w),x(w,S)}})(),e.column_names=function(v){const x=[],w=e.column_count(v);for(let S=0;S<w;++S)x.push(e.column_name(v,S));return x},e.column_text=(function(){const x=t.cwrap("sqlite3_column_text",...rt("nn:s"));return function(w,S){return m(w),x(w,S)}})(),e.column_type=(function(){const x=t.cwrap("sqlite3_column_type",...rt("nn:n"));return function(w,S){return m(w),x(w,S)}})(),e.create_function=function(v,x,w,S,E,T,j,O){p(v);function N(I){return I instanceof q0?(async(q,U,D)=>I(q,t.HEAP32.subarray(D/4,D/4+U))):((q,U,D)=>I(q,t.HEAP32.subarray(D/4,D/4+U)))}const R=t.create_function(v,x,w,S,E,T&&N(T),j&&N(j),O);return g("sqlite3_create_function",R,v)},e.data_count=(function(){const x=t.cwrap("sqlite3_data_count",...rt("n:n"));return function(w){return m(w),x(w)}})(),e.exec=async function(v,x,w){for await(const S of e.statements(v,x)){let E;for(;await e.step(S)===FS;)if(w){E=E??e.column_names(S);const T=e.row(S);await w(T,E)}}return jp},e.finalize=(function(){const x=t.cwrap("sqlite3_finalize",...rt("n:n"),{async:id});return async function(w){const S=await x(w);return h.delete(w),S}})(),e.get_autocommit=(function(){const x=t.cwrap("sqlite3_get_autocommit",...rt("n:n"));return function(w){return x(w)}})(),e.libversion=(function(){const x=t.cwrap("sqlite3_libversion",...rt(":s"));return function(){return x()}})(),e.libversion_number=(function(){const x=t.cwrap("sqlite3_libversion_number",...rt(":n"));return function(){return x()}})(),e.limit=(function(){const x=t.cwrap("sqlite3_limit",...rt("nnn:n"));return function(w,S,E){return x(w,S,E)}})(),e.open_v2=(function(){const v="sqlite3_open_v2",x=t.cwrap(v,...rt("snnn:n"),{async:id});return async function(w,S,E){S=S||eG|ZK,E=s(E);try{const T=await b(()=>x(w,i[0],S,E)),j=t.getValue(i[0],"*");return d.add(j),t.ccall("RegisterExtensionFunctions","number",["number"],[j]),g(v,T),j}finally{t._sqlite3_free(E)}}})(),e.progress_handler=function(v,x,w,S){p(v),t.progress_handler(v,x,w,S)},e.reset=(function(){const v="sqlite3_reset",x=t.cwrap(v,...rt("n:n"),{async:id});return async function(w){m(w);const S=await x(w);return g(v,S,h.get(w))}})(),e.result=function(v,x){switch(typeof x){case"number":x===(x|0)?e.result_int(v,x):e.result_double(v,x);break;case"string":e.result_text(v,x);break;default:if(x instanceof Uint8Array||Array.isArray(x))e.result_blob(v,x);else if(x===null)e.result_null(v);else{if(typeof x=="bigint")return e.result_int64(v,x);console.warn("unknown result converted to null",x),e.result_null(v)}break}},e.result_blob=(function(){const x=t.cwrap("sqlite3_result_blob",...rt("nnnn:n"));return function(w,S){const E=S.byteLength??S.length,T=t._sqlite3_malloc(E);t.HEAPU8.subarray(T).set(S),x(w,T,E,r)}})(),e.result_double=(function(){const x=t.cwrap("sqlite3_result_double",...rt("nn:n"));return function(w,S){x(w,S)}})(),e.result_int=(function(){const x=t.cwrap("sqlite3_result_int",...rt("nn:n"));return function(w,S){x(w,S)}})(),e.result_int64=(function(){const x=t.cwrap("sqlite3_result_int64",...rt("nnn:n"));return function(w,S){if(S>ON||S<kN)return B0;const E=S&0xffffffffn,T=S>>32n;x(w,Number(E),Number(T))}})(),e.result_null=(function(){const x=t.cwrap("sqlite3_result_null",...rt("n:n"));return function(w){x(w)}})(),e.result_text=(function(){const x=t.cwrap("sqlite3_result_text",...rt("nnnn:n"));return function(w,S){const E=s(S);x(w,E,-1,r)}})(),e.row=function(v){const x=[],w=e.data_count(v);for(let S=0;S<w;++S){const E=e.column(v,S);x.push((E==null?void 0:E.buffer)===t.HEAPU8.buffer?E.slice():E)}return x},e.set_authorizer=function(v,x,w){p(v);function S(j,O,N,R,I,q){return[j,O,t.UTF8ToString(N),t.UTF8ToString(R),t.UTF8ToString(I),t.UTF8ToString(q)]}function E(j){return j instanceof q0?(async(O,N,R,I,q,U)=>j(...S(O,N,R,I,q,U))):((O,N,R,I,q,U)=>j(...S(O,N,R,I,q,U)))}const T=t.set_authorizer(v,E(x),w);return g("sqlite3_set_authorizer",T,v)},e.sql=(function(){const x=t.cwrap("sqlite3_sql",...rt("n:s"));return function(w){return m(w),x(w)}})(),e.statements=function(v,x,w={}){const S=t.cwrap("sqlite3_prepare_v3","number",["number","number","number","number","number","number"],{async:!0});return(async function*(){const E=[];try{let U=function(){q&&!w.unscoped&&e.finalize(q),q=0};const T=a.encode(x),j=T.byteLength-T.byteLength%4+12,O=t._sqlite3_malloc(j),N=O+T.byteLength+1;E.push(()=>t._sqlite3_free(O)),t.HEAPU8.set(T,O),t.HEAPU8[N-1]=0;const R=O+j-8,I=O+j-4;let q;E.push(U),t.setValue(I,O,"*");do{U();const D=t.getValue(I,"*"),B=await b(()=>S(v,D,N-I,w.flags||0,R,I));B!==jp&&g("sqlite3_prepare_v3",B,v),q=t.getValue(R,"*"),q&&(h.set(q,v),yield q)}while(q)}finally{for(;E.length;)E.pop()()}})()},e.step=(function(){const v="sqlite3_step",x=t.cwrap(v,...rt("n:n"),{async:id});return async function(w){m(w);const S=await b(()=>x(w));return g(v,S,h.get(w),[FS,N$])}})(),e.commit_hook=function(v,x){p(v),t.commit_hook(v,x)},e.update_hook=function(v,x){p(v);function w(E,T,j,O,N){return[E,t.UTF8ToString(T),t.UTF8ToString(j),o(O,N)]}function S(E){return E instanceof q0?(async(T,j,O,N,R)=>E(...w(T,j,O,N,R))):((T,j,O,N,R)=>E(...w(T,j,O,N,R)))}t.update_hook(v,S(x))},e.value=function(v){const x=e.value_type(v);switch(x){case AN:return e.value_blob(v);case EN:return e.value_double(v);case SN:const w=e.value_int(v),S=t.getTempRet0();return c(w,S);case TN:return null;case jN:return e.value_text(v);default:throw new nd("unknown type",x)}},e.value_blob=(function(){const x=t.cwrap("sqlite3_value_blob",...rt("n:n"));return function(w){const S=e.value_bytes(w),E=x(w);return t.HEAPU8.subarray(E,E+S)}})(),e.value_bytes=(function(){const x=t.cwrap("sqlite3_value_bytes",...rt("n:n"));return function(w){return x(w)}})(),e.value_double=(function(){const x=t.cwrap("sqlite3_value_double",...rt("n:n"));return function(w){return x(w)}})(),e.value_int=(function(){const x=t.cwrap("sqlite3_value_int64",...rt("n:n"));return function(w){return x(w)}})(),e.value_int64=(function(){const x=t.cwrap("sqlite3_value_int64",...rt("n:n"));return function(w){const S=x(w),E=t.getTempRet0();return o(S,E)}})(),e.value_text=(function(){const x=t.cwrap("sqlite3_value_text",...rt("n:s"));return function(w){return x(w)}})(),e.value_type=(function(){const x=t.cwrap("sqlite3_value_type",...rt("n:n"));return function(w){return x(w)}})(),e.vfs_register=function(v,x){const w=t.vfs_register(v,x);return g("sqlite3_vfs_register",w)};function g(v,x,w=null,S=[jp]){if(S.includes(x))return x;const E=w?t.ccall("sqlite3_errmsg","string",["number"],[w]):v;throw new nd(E,x)}async function b(v){let x;do{if(t.retryOps.length)try{await Promise.all(t.retryOps)}finally{t.retryOps=[]}x=await v()}while(x&&t.retryOps.length);return x}return e}function rt(t){const e=[],r=t.match(/([ns@]*):([nsv@])/);switch(r[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null);break}const n=[];for(let i of r[1])switch(i){case"n":n.push("number");break;case"s":n.push("string");break}return e.push(n),e}var Bn;(function(t){t.IDBBatchAtomicVFS="IDBBatchAtomicVFS",t.OPFSCoopSyncVFS="OPFSCoopSyncVFS",t.AccessHandlePoolVFS="AccessHandlePoolVFS"})(Bn||(Bn={}));const rG=async()=>{const{default:t}=await ws(async()=>{const{default:e}=await import("./wa-sqlite-async-B2LaFWqa.js");return{default:e}},[]);return t()},nG=async()=>{const{default:t}=await ws(async()=>{const{default:e}=await import("./mc-wa-sqlite-async-CXXv26nd.js");return{default:e}},[]);return t()},PN=async()=>{const{default:t}=await ws(async()=>{const{default:e}=await import("./wa-sqlite-8g52zAnM.js");return{default:e}},[]);return t()},NN=async()=>{const{default:t}=await ws(async()=>{const{default:e}=await import("./mc-wa-sqlite-DZYOhcgT.js");return{default:e}},[]);return t()},iG={[Bn.IDBBatchAtomicVFS]:async t=>{let e;t.encryptionKey?e=await nG():e=await rG();const{IDBBatchAtomicVFS:r}=await ws(async()=>{const{IDBBatchAtomicVFS:n}=await import("./IDBBatchAtomicVFS-CJeIXNY0.js");return{IDBBatchAtomicVFS:n}},__vite__mapDeps([0,1]));return{module:e,vfs:await r.create(t.dbFileName,e,{lockPolicy:"exclusive"})}},[Bn.AccessHandlePoolVFS]:async t=>{let e;t.encryptionKey?e=await NN():e=await PN();const{AccessHandlePoolVFS:r}=await ws(async()=>{const{AccessHandlePoolVFS:n}=await import("./AccessHandlePoolVFS-DiTMmkWt.js");return{AccessHandlePoolVFS:n}},__vite__mapDeps([2,1]));return{module:e,vfs:await r.create(t.dbFileName,e)}},[Bn.OPFSCoopSyncVFS]:async t=>{let e;t.encryptionKey?e=await NN():e=await PN();const{OPFSCoopSyncVFS:r}=await ws(async()=>{const{OPFSCoopSyncVFS:i}=await import("./OPFSCoopSyncVFS-DU_oFlJS.js");return{OPFSCoopSyncVFS:i}},__vite__mapDeps([3,1])),n=await r.create(t.dbFileName,e);return{module:e,vfs:n}}};class aG extends Vn{constructor(r){super();te(this,"options");te(this,"_sqliteAPI",null);te(this,"_dbP",null);te(this,"_moduleFactory");te(this,"updatedTables");te(this,"updateTimer");te(this,"statementMutex");te(this,"broadcastChannel");te(this,"connectionId");te(this,"_holdCounter");te(this,"_holdId");te(this,"acquireExecuteLock",r=>this.statementMutex.runExclusive(r));this.options=r,this.updatedTables=new Set,this.updateTimer=null,this.broadcastChannel=null,this.connectionId=new Date().valueOf()+Math.random(),this.statementMutex=new Lo,this._moduleFactory=iG[this.options.vfs],this._holdCounter=0,this._holdId=null}get currentHoldId(){return this._holdId}get sqliteAPI(){if(!this._sqliteAPI)throw new Error("Initialization has not completed");return this._sqliteAPI}get dbP(){if(!this._dbP)throw new Error("Initialization has not completed");return this._dbP}async isAutoCommit(){return this.sqliteAPI.get_autocommit(this.dbP)!=0}async markHold(){const r=this._holdId;return this._holdId=`${++this._holdCounter}`,r&&await this.iterateAsyncListeners(async n=>{var i;return(i=n.holdOverwritten)==null?void 0:i.call(n,r)}),this._holdId}async releaseHold(r){if(r!=this._holdId)throw new Error(`Invalid hold state, expected ${this._holdId} but got ${r}`);this._holdId=null}async openDB(){return this._dbP=await this.sqliteAPI.open_v2(this.options.dbFilename),this._dbP}async executeEncryptionPragma(){this.options.encryptionKey&&await this.executeSingleStatement(`PRAGMA key = "${this.options.encryptionKey}"`)}async openSQLiteAPI(){const{module:r,vfs:n}=await this._moduleFactory({dbFileName:this.options.dbFilename,encryptionKey:this.options.encryptionKey}),i=tG(r);if(i.vfs_register(n,!0),r.ccall("powersync_init_static","int",[]),this.options.encryptionKey&&r.ccall("sqlite3mc_vfs_create","int",["string","int"],[this.options.dbFilename,1])!==0)throw new Error("Failed to create multiple cipher vfs, Database encryption will not work");return i}registerBroadcastListeners(){this.broadcastChannel=new BroadcastChannel(`${this.options.dbFilename}-table-updates`),this.broadcastChannel.addEventListener("message",r=>{const n=r.data;this.connectionId!=n.connectionId&&this.queueTableUpdate(n.changedTables,!1)})}queueTableUpdate(r,n=!0){r.forEach(i=>this.updatedTables.add(i)),this.updateTimer==null&&(this.updateTimer=setTimeout(()=>this.fireUpdates(n),0))}async init(){this._sqliteAPI=await this.openSQLiteAPI(),await this.openDB(),this.registerBroadcastListeners(),await this.executeSingleStatement(`PRAGMA temp_store = ${this.options.temporaryStorage};`),await this.executeEncryptionPragma(),await this.executeSingleStatement(`PRAGMA cache_size = -${this.options.cacheSizeKb};`),this.sqliteAPI.update_hook(this.dbP,(r,n,i)=>{if(!i)return;const a=new Set([i]);this.queueTableUpdate(a)})}async getConfig(){return this.options}fireUpdates(r=!0){this.updateTimer=null;const n={tables:[...this.updatedTables],groupedUpdates:{},rawUpdates:[]};r&&this.broadcastChannel.postMessage({changedTables:this.updatedTables,connectionId:this.connectionId}),this.updatedTables.clear(),this.iterateListeners(i=>{var a;return(a=i.tablesUpdated)==null?void 0:a.call(i,n)})}async executeBatch(r,n){return this.acquireExecuteLock(async()=>{let i=0;try{await this.executeSingleStatement("BEGIN TRANSACTION");const s=n||[];for await(const o of this.sqliteAPI.statements(this.dbP,r)){if(o===null)return{rowsAffected:0,rows:{_array:[],length:0}};for(const c of s){for(let p=0;p<c.length;p++){const h=c[p];typeof h=="boolean"&&(c[p]=h?1:0)}n&&this.sqliteAPI.bind_collection(o,c),await this.sqliteAPI.step(o)===N$&&(i+=this.sqliteAPI.changes(this.dbP)),this.sqliteAPI.reset(o)}}await this.executeSingleStatement("COMMIT")}catch{return await this.executeSingleStatement("ROLLBACK"),{rowsAffected:0,rows:{_array:[],length:0}}}return{rowsAffected:i,rows:{_array:[],length:0}}})}async execute(r,n){return this.acquireExecuteLock(async()=>this.executeSingleStatement(r,n))}async executeRaw(r,n){return this.acquireExecuteLock(async()=>this.executeSingleStatementRaw(r,n))}async close(){var r;(r=this.broadcastChannel)==null||r.close(),await this.acquireExecuteLock(async()=>{await this.sqliteAPI.close(this.dbP)})}async registerOnTableChange(r){return this.registerListener({tablesUpdated:n=>r(n)})}async executeSingleStatement(r,n){const i=await this._execute(r,n),a=[];for(const o of i)for(const c of o.rows){const d={};o.columns.forEach((p,h)=>{d[p]=c[h]}),a.push(d)}return{insertId:this.sqliteAPI.last_insert_id(this.dbP),rowsAffected:this.sqliteAPI.changes(this.dbP),rows:{_array:a,length:a.length}}}async executeSingleStatementRaw(r,n){return(await this._execute(r,n)).flatMap(a=>a.rows.map(s=>a.columns.map((o,c)=>s[c])))}async _execute(r,n){const i=[];for await(const a of this.sqliteAPI.statements(this.dbP,r)){let s;const o=n?[n]:[[]];for(const c of o){c.forEach((p,h,m)=>{typeof p=="boolean"&&(m[h]=p?1:0)}),this.sqliteAPI.reset(a),n&&this.sqliteAPI.bind_collection(a,c);const d=[];for(;await this.sqliteAPI.step(a)===FS;){const p=this.sqliteAPI.row(a);d.push(p)}s=s??this.sqliteAPI.column_names(a),s.length&&i.push({columns:s,rows:d})}if(n)break}return i}}class C$ extends Vn{constructor(r){super();te(this,"options");te(this,"logger");te(this,"dbGetHelpers");te(this,"debugMode");te(this,"_dbIdentifier");te(this,"initPromise");te(this,"_db",null);te(this,"_disposeTableChangeListener",null);te(this,"_config",null);te(this,"pendingAbortControllers");te(this,"requiresHolds");te(this,"databaseOpenPromise",null);te(this,"closing");te(this,"closed");te(this,"_execute",async(r,n)=>{await this.waitForInitialized();const i=await this.baseDB.execute(r,n);return{...i,rows:{...i.rows,item:a=>i.rows._array[a]}}});te(this,"_executeRaw",async(r,n)=>(await this.waitForInitialized(),await this.baseDB.executeRaw(r,n)));te(this,"_executeBatch",async(r,n)=>(await this.waitForInitialized(),{...await this.baseDB.executeBatch(r,n),rows:void 0}));if(this.options=r,this._dbIdentifier=r.name,this.logger=r.logger??b$(`LockedAsyncDatabaseAdapter - ${this._dbIdentifier}`),this.pendingAbortControllers=new Set,this.closed=!1,this.closing=!1,this.requiresHolds=null,this.debugMode=r.debugMode??!1,this.debugMode){const n=this._execute.bind(this);this._execute=async(i,a)=>{const s=performance.now();try{const o=await n(i,a);return performance.measure(`[SQL] ${i}`,{start:s}),o}catch(o){throw performance.measure(`[SQL] [ERROR: ${o.message}] ${i}`,{start:s}),o}}}this.dbGetHelpers=this.generateDBHelpers({execute:(n,i)=>this.acquireLock(()=>this._execute(n,i)),executeRaw:(n,i)=>this.acquireLock(()=>this._executeRaw(n,i))}),this.initPromise=this._init()}get baseDB(){if(!this._db)throw new Error("Initialization has not completed yet. Cannot access base db");return this._db}get name(){return this._dbIdentifier}async init(){return this.initPromise}async openInternalDB(){return this._acquireLock(async()=>{var n,i;(n=this._disposeTableChangeListener)==null||n.call(this),this._disposeTableChangeListener=null,(i=this._db)==null||i.close().catch(a=>this.logger.warn("Error closing database before opening new instance",a));const r=!!this._db;this._db=null,this._db=await this.options.openConnection(),await this._db.init(),this._config=await this._db.getConfig(),await this.registerOnChangeListener(this._db),r&&this.iterateListeners(a=>{var s;return(s=a.databaseReOpened)==null?void 0:s.call(a)}),this.requiresHolds=this._config.vfs==Bn.IDBBatchAtomicVFS})}_reOpen(){return this.databaseOpenPromise=this.openInternalDB().finally(()=>{this.databaseOpenPromise=null}),this.databaseOpenPromise}async reOpenInternalDB(){if(!this.options.reOpenOnConnectionClosed)throw new Error("Cannot re-open underlying database, reOpenOnConnectionClosed is not enabled");return this.databaseOpenPromise?this.databaseOpenPromise:this._reOpen()}async _init(){for(let n=0;n<3;n++)try{await this.openInternalDB();break}catch(i){if(n==2)throw i;this.logger.warn(`Attempt ${n+1} of 3 to open database failed, retrying in 1 second...`,i),await new Promise(a=>setTimeout(a,1e3))}this.iterateListeners(n=>{var i;return(i=n.initialized)==null?void 0:i.call(n)})}getConfiguration(){if(!this._config)throw new Error("Cannot get config before initialization is completed");return{...this._config,requiresPersistentTriggers:!1}}async waitForInitialized(){await this.initPromise}async shareConnection(){if(!(this._db instanceof P$))throw new Error("Only worker connections can be shared");return this._db.shareConnection()}async registerOnChangeListener(r){this._disposeTableChangeListener=await r.registerOnTableChange(n=>{this.iterateListeners(i=>{var a;return(a=i.tablesUpdated)==null?void 0:a.call(i,n)})})}async refreshSchema(){}async execute(r,n){return this.writeLock(i=>i.execute(r,n))}async executeRaw(r,n){return this.writeLock(i=>i.executeRaw(r,n))}async executeBatch(r,n){return this.writeLock(i=>this._executeBatch(r,n))}async close(){var n,i;this.closing=!0;const r=this._disposeTableChangeListener;r&&r(),this.pendingAbortControllers.forEach(a=>a.abort("Closed")),await((i=(n=this.baseDB)==null?void 0:n.close)==null?void 0:i.call(n)),this.closed=!0}async getAll(r,n){return await this.waitForInitialized(),this.dbGetHelpers.getAll(r,n)}async getOptional(r,n){return await this.waitForInitialized(),this.dbGetHelpers.getOptional(r,n)}async get(r,n){return await this.waitForInitialized(),this.dbGetHelpers.get(r,n)}async readLock(r,n){return await this.waitForInitialized(),this.acquireLock(async()=>r(this.generateDBHelpers({execute:this._execute,executeRaw:this._executeRaw})),{timeoutMs:(n==null?void 0:n.timeoutMs)??this.options.defaultLockTimeoutMs})}async writeLock(r,n){return await this.waitForInitialized(),this.acquireLock(async()=>r(this.generateDBHelpers({execute:this._execute,executeRaw:this._executeRaw})),{timeoutMs:(n==null?void 0:n.timeoutMs)??this.options.defaultLockTimeoutMs})}async _acquireLock(r,n){if(this.closing)throw new Error("Cannot acquire lock, the database is closing");const i=new AbortController;this.pendingAbortControllers.add(i);const{timeoutMs:a}=n??{},s=a?setTimeout(()=>{i.abort(`Timeout after ${a}ms`),this.pendingAbortControllers.delete(i)},a):null;return xc().request(`db-lock-${this._dbIdentifier}`,{signal:i.signal},async()=>(this.pendingAbortControllers.delete(i),s&&clearTimeout(s),await r()))}async acquireLock(r,n){return await this.waitForInitialized(),this.databaseOpenPromise&&await this.databaseOpenPromise,this._acquireLock(async()=>{let i=null;try{if(this.databaseOpenPromise||!this._db)throw new vc("Connection is busy re-opening");return i=this.requiresHolds?await this.baseDB.markHold():null,await r()}catch(a){throw vc.MATCHES(a)&&this.options.reOpenOnConnectionClosed&&!this.databaseOpenPromise&&!this.closing&&this.reOpenInternalDB(),a}finally{i&&await this.baseDB.releaseHold(i)}},n)}async readTransaction(r,n){return this.readLock(this.wrapTransaction(r))}writeTransaction(r,n){return this.writeLock(this.wrapTransaction(r,!0))}generateDBHelpers(r){return{...r,async getAll(n,i){var s;return((s=(await r.execute(n,i)).rows)==null?void 0:s._array)??[]},async getOptional(n,i){var s;return((s=(await r.execute(n,i)).rows)==null?void 0:s.item(0))??null},async get(n,i){var o;const s=(o=(await r.execute(n,i)).rows)==null?void 0:o.item(0);if(!s)throw new Error("Result set is empty");return s}}}wrapTransaction(r,n=!1){return async i=>{await this._execute(n?"BEGIN EXCLUSIVE":"BEGIN");let a=!1;const s=async()=>a?{rowsAffected:0}:(a=!0,this._execute("COMMIT")),o=()=>(a=!0,this._execute("ROLLBACK"));try{const c=await r({...i,commit:s,rollback:o});return a||await s(),c}catch(c){this.logger.debug("Caught ex in transaction",c);try{await o()}catch{}throw c}}}}function sG(t,e=!0,r="",n){const i=n==Bn.AccessHandlePoolVFS||n==Bn.OPFSCoopSyncVFS;return r?!i&&e?new SharedWorker(`${r}`,{name:`shared-DB-worker-${t}`}).port:new Worker(`${r}`,{name:`DB-worker-${t}`}):!i&&e?new SharedWorker(new URL("/assets/WASQLiteDB.worker-BO2zAGn8.js",import.meta.url),{name:`shared-DB-worker-${t}`,type:"module"}).port:new Worker(new URL("/assets/WASQLiteDB.worker-BO2zAGn8.js",import.meta.url),{name:`DB-worker-${t}`,type:"module"})}function oG(t){const e=t();return lG(e)?e.port:e}function lG(t){return"port"in t}const Ap={rowsAffected:0};class cG extends Vn{constructor(){super();te(this,"name");te(this,"readMutex");te(this,"writeMutex");this.name="SSR DB",this.readMutex=new Lo,this.writeMutex=new Lo}close(){}async readLock(r,n){return this.readMutex.runExclusive(()=>r(this))}async readTransaction(r,n){return this.readLock(()=>r(this.generateMockTransactionContext()))}async writeLock(r,n){return this.writeMutex.runExclusive(()=>r(this))}async writeTransaction(r,n){return this.writeLock(()=>r(this.generateMockTransactionContext()))}async execute(r,n){return this.writeMutex.runExclusive(async()=>Ap)}async executeRaw(r,n){return this.writeMutex.runExclusive(async()=>[])}async executeBatch(r,n){return this.writeMutex.runExclusive(async()=>Ap)}async getAll(r,n){return[]}async getOptional(r,n){return null}async get(r,n){throw new Error("No values are returned in SSR mode")}generateMockTransactionContext(){return{...this,commit:async()=>Ap,rollback:async()=>Ap}}async refreshSchema(){}}var ym;(function(t){t.MEMORY="memory",t.FILESYSTEM="file"})(ym||(ym={}));const R$=50*1024;function vm(){return typeof window>"u"}const I$={broadcastLogs:!0,disableSSRWarning:!1,ssrMode:vm(),enableMultiTabs:typeof globalThis.navigator<"u"&&typeof SharedWorker<"u"&&!navigator.userAgent.match(/(Android|iPhone|iPod|iPad)/i)&&!window.safari,useWebWorker:!0};function cj(t){const e={...I$,...t??{}};return typeof(t==null?void 0:t.enableMultiTabs)<"u"&&(e.enableMultiTabs=t.enableMultiTabs),(t==null?void 0:t.useWebWorker)===!1&&(e.enableMultiTabs=!1),e}class uG{constructor(e){te(this,"options");te(this,"resolvedFlags");te(this,"logger");this.options=e,this.resolvedFlags=cj(e.flags),this.logger=e.logger??b$(`AbstractWebSQLOpenFactory - ${this.options.dbFilename}`)}openDB(){const{resolvedFlags:{disableSSRWarning:e,enableMultiTabs:r,ssrMode:n=vm()}}=this;return n&&!e&&this.logger.warn(`
  Running PowerSync in SSR mode.
  Only empty query results will be returned.
  Disable this warning by setting 'disableSSRWarning: true' in options.`),r||this.logger.warn("Multiple tab support is not enabled. Using this site across multiple tabs may not function correctly."),n?new cG:this.openAdapter()}}class dG extends C${getConfiguration(){const e=super.getConfiguration();return{...super.getConfiguration(),requiresPersistentTriggers:e.vfs==Bn.OPFSCoopSyncVFS||e.vfs==Bn.AccessHandlePoolVFS}}}class fG extends uG{constructor(e){super(e),hG(e)}get waOptions(){return this.options}openAdapter(){return new dG({name:this.options.dbFilename,openConnection:()=>this.openConnection(),debugMode:this.options.debugMode,logger:this.logger})}async openConnection(){const{enableMultiTabs:e,useWebWorker:r}=this.resolvedFlags,{vfs:n=Bn.IDBBatchAtomicVFS,temporaryStorage:i=ym.MEMORY,cacheSizeKb:a=R$,encryptionKey:s}=this.waOptions;if(e||this.logger.warn("Multiple tabs are not enabled in this browser"),r){const o=this.options.worker,c=typeof o=="function"?oG(()=>o({...this.options,temporaryStorage:i,cacheSizeKb:a,flags:this.resolvedFlags,encryptionKey:s})):sG(this.options.dbFilename,e,o,this.waOptions.vfs),d=lj(c);return new P$({remote:d,remoteCanCloseUnexpectedly:!1,baseConnection:await d({dbFilename:this.options.dbFilename,vfs:n,temporaryStorage:i,cacheSizeKb:a,flags:this.resolvedFlags,encryptionKey:s,logLevel:this.logger.getLevel()}),identifier:this.options.dbFilename,onClose:()=>{c instanceof Worker?c.terminate():c.close()}})}else return new aG({dbFilename:this.options.dbFilename,dbLocation:this.options.dbLocation,debugMode:this.options.debugMode,vfs:n,temporaryStorage:i,cacheSizeKb:a,flags:this.resolvedFlags,encryptionKey:s})}}function hG(t){if("vfs"in t&&"flags"in t){const{vfs:e,flags:r={}}=t;if(e!==Bn.IDBBatchAtomicVFS&&"useWebWorker"in r&&!r.useWebWorker)throw new Error(`Invalid configuration: The 'useWebWorker' flag must be true when using an OPFS-based VFS (${e}).`)}}class pG extends Vn{constructor(r){super();te(this,"syncMutex");te(this,"crudMutex");te(this,"isConnected");te(this,"lastSyncedAt");te(this,"syncStatus");this.syncMutex=new Lo,this.crudMutex=new Lo,this.syncStatus=new ua({}),this.isConnected=!1}obtainLock(r){return(r.type==yc.CRUD?this.crudMutex:this.syncMutex).runExclusive(r.callback)}async connect(r){}async dispose(){}async disconnect(){}async waitForReady(){}async waitForStatus(r){return this.waitUntilStatusMatches(()=>!1)}waitUntilStatusMatches(r){return new Promise(()=>{})}async getWriteCheckpoint(){return"1"}async hasCompletedSync(){return!1}triggerCrudUpload(){}updateSubscriptions(){}}class mG{}function gG(t){t??(t=navigator);const e=yG(t),r=vG(t);return[e,r].filter(n=>n!=null)}function yG(t){var i;const e=(i=t.userAgentData)==null?void 0:i.brands;if(e!=null){const a=[{name:"Google Chrome",value:"Chrome"},{name:"Opera",value:"Opera"},{name:"Edge",value:"Edge"},{name:"Chromium",value:"Chromium"}];for(let{name:s,value:o}of a){const c=e.find(d=>d.brand==s);if(c!=null)return`${o}/${c.version}`}}const r=t.userAgent,n=[{re:/(?:firefox|fxios)\/(\d+)/i,value:"Firefox"},{re:/(?:edg|edge|edga|edgios)\/(\d+)/i,value:"Edge"},{re:/opr\/(\d+)/i,value:"Opera"},{re:/(?:chrome|chromium|crios)\/(\d+)/i,value:"Chrome"},{re:/version\/(\d+).*safari/i,value:"Safari"}];for(let{re:a,value:s}of n){const o=a.exec(r);if(o!=null)return`${s}/${o[1]}`}return null}function vG(t){var n;if(((n=t.userAgentData)==null?void 0:n.platform)!=null)return t.userAgentData.platform.toLowerCase();const e=t.userAgent,r=[{re:/windows/i,value:"windows"},{re:/android/i,value:"android"},{re:/linux/i,value:"linux"},{re:/iphone|ipad|ipod/i,value:"ios"},{re:/macintosh|mac os x/i,value:"macos"}];for(let{re:i,value:a}of r)if(i.test(e))return a;return null}class xG extends ij{getFetch(){return fetch.bind(globalThis)}}class bG extends mK{constructor(r,n=y$,i){super(r,n,{...i??{},fetchImplementation:(i==null?void 0:i.fetchImplementation)??new xG});te(this,"connector");te(this,"logger");te(this,"_bson");this.connector=r,this.logger=n}getUserAgent(){let r=[super.getUserAgent(),"powersync-web"];try{r.push(...gG())}catch(n){this.logger.warn("Failed to get user agent info",n)}return r.join(" ")}async getBSON(){if(this._bson)return this._bson;const{BSON:r}=await ws(async()=>{const{BSON:n}=await import("./bson-CuyQlZSR.js");return{BSON:n}},[]);return this._bson=r,this._bson}}class D$ extends jK{constructor(e){super(e)}get webOptions(){return this.options}async obtainLock(e){const r=`streaming-sync-${e.type}-${this.webOptions.identifier}`;return e.type==yc.SYNC&&this.logger.debug("requesting lock for ",r),xc().request(r,{signal:e.signal},e.callback)}}var xm;(function(t){t.CLOSE_CLIENT="close-client",t.CLOSE_ACK="close-ack"})(xm||(xm={}));class wG extends mG{constructor(r,n,i){super();te(this,"options");te(this,"statusChanged");te(this,"webDB");this.options=r,this.statusChanged=n,this.webDB=i}async getDBWorkerPort(){const{port:r}=await this.webDB.shareConnection();return O$(r,[r])}invalidateCredentials(){this.options.remote.invalidateCredentials()}async fetchCredentials(){const r=await this.options.remote.getCredentials();return r==null?null:{endpoint:r.endpoint,token:r.token}}async uploadCrud(){await this.options.uploadCrud()}get logger(){return this.options.logger}trace(...r){var n;(n=this.logger)==null||n.trace(...r)}debug(...r){var n;(n=this.logger)==null||n.debug(...r)}info(...r){var n;(n=this.logger)==null||n.info(...r)}log(...r){var n;(n=this.logger)==null||n.log(...r)}warn(...r){var n;(n=this.logger)==null||n.warn(...r)}error(...r){var n;(n=this.logger)==null||n.error(...r)}time(r){var n;(n=this.logger)==null||n.time(r)}timeEnd(r){var n;(n=this.logger)==null||n.timeEnd(r)}}class _G extends D${constructor(r){var a;super(r);te(this,"syncManager");te(this,"clientProvider");te(this,"messagePort");te(this,"isInitialized");te(this,"dbAdapter");te(this,"abortOnClose",new AbortController);this.dbAdapter=r.db;const n={dbFilename:this.options.identifier,temporaryStorage:ym.MEMORY,cacheSizeKb:R$,...r,flags:cj(r.flags)},i=(a=r.sync)==null?void 0:a.worker;i?typeof i=="function"?this.messagePort=i(n).port:this.messagePort=new SharedWorker(`${i}`,{name:`shared-sync-${this.webOptions.identifier}`}).port:this.messagePort=new SharedWorker(new URL("/assets/SharedSyncImplementation.worker-Fn4sDDi2.js",import.meta.url),{name:`shared-sync-${this.webOptions.identifier}`,type:"module"}).port,this.clientProvider=new wG(this.webOptions,s=>{this.updateSyncStatus(s)},r.db),this.syncManager=lj(this.messagePort),oj(this.clientProvider,this.messagePort),this.syncManager.setLogLevel(this.logger.getLevel()),this.triggerCrudUpload=this.syncManager.triggerCrudUpload,this.isInitialized=this._init()}async _init(){await new Promise(s=>{xc().request(`tab-close-signal-${crypto.randomUUID()}`,async o=>{this.abortOnClose.signal.aborted||(await this.syncManager.addLockBasedCloseSignal(o.name),s(),await new Promise(c=>{this.abortOnClose.signal.onabort=()=>c()}))})});const{crudUploadThrottleMs:r,identifier:n,retryDelayMs:i}=this.options,a={...this.webOptions.flags,workers:void 0};await this.syncManager.setParams({dbParams:this.dbAdapter.getConfiguration(),streamOptions:{crudUploadThrottleMs:r,identifier:n,retryDelayMs:i,flags:a}},this.options.subscriptions)}async connect(r){return await this.waitForReady(),this.syncManager.connect(r)}async disconnect(){return await this.waitForReady(),this.syncManager.disconnect()}async getWriteCheckpoint(){return await this.waitForReady(),this.syncManager.getWriteCheckpoint()}async hasCompletedSync(){return this.syncManager.hasCompletedSync()}async dispose(){await this.waitForReady(),await new Promise(r=>{this.messagePort.addEventListener("message",i=>{const a=i.data;(a==null?void 0:a.event)===xm.CLOSE_ACK&&r()});const n={event:xm.CLOSE_CLIENT,data:{}};this.messagePort.postMessage(n)}),await super.dispose(),this.abortOnClose.abort(),this.syncManager[sj](),this.messagePort.close()}async waitForReady(){return this.isInitialized}updateSubscriptions(r){this.syncManager.updateSubscriptions(r)}}const SG={...I$,externallyUnload:!1},CN=t=>({...SG,...t,...cj(t)});function EG(t){if("database"in t&&"encryptionKey"in t){const{database:e}=t;if(DS(e)||c$(e))throw new Error(`Invalid configuration: 'encryptionKey' should only be included inside the database object when using a custom ${DS(e)?"WASQLiteOpenFactory":"WASQLiteDBAdapter"} constructor.`)}}const Ig=class Ig extends DK{constructor(r){super(r);te(this,"options");te(this,"unloadListener");te(this,"resolvedFlags");this.options=r,EG(r),this.resolvedFlags=CN(r.flags),this.resolvedFlags.enableMultiTabs&&!this.resolvedFlags.externallyUnload&&(this.unloadListener=()=>this.close({disconnect:!1}),window.addEventListener("unload",this.unloadListener))}async _initialize(){this.database instanceof C$&&await this.database.init(),typeof this.database.getConfiguration=="function"&&this.database.getConfiguration().requiresPersistentTriggers&&this.triggersImpl.updateDefaults({useStorageByDefault:!0})}generateTriggerManagerConfig(){return{claimManager:BK}}openDBAdapter(r){return new fG({...r.database,flags:CN(r.flags),encryptionKey:r.encryptionKey}).openDB()}close(r){return this.unloadListener&&window.removeEventListener("unload",this.unloadListener),super.close({disconnect:(r==null?void 0:r.disconnect)??!this.resolvedFlags.enableMultiTabs})}async loadVersion(){if(!vm())return super.loadVersion()}async resolveOfflineSyncStatus(){if(!vm())return super.resolveOfflineSyncStatus()}generateBucketStorageAdapter(){return new MS(this.database)}async runExclusive(r){return this.resolvedFlags.ssrMode?Ig.SHARED_MUTEX.runExclusive(r):xc().request(`lock-${this.database.name}`,r)}generateSyncStreamImplementation(r,n){const i=new bG(r,this.logger),a={...this.options,...n,flags:this.resolvedFlags,adapter:this.bucketStorageAdapter,remote:i,uploadCrud:async()=>{await this.waitForReady(),await r.uploadData(this)},identifier:this.database.name,logger:this.logger};switch(!0){case this.resolvedFlags.ssrMode:return new pG(a);case this.resolvedFlags.enableMultiTabs:if(!this.resolvedFlags.broadcastLogs){const s=`
            Multiple tabs are enabled, but broadcasting of logs is disabled.
            Logs for shared sync worker will only be available in the shared worker context
          `,o=this.options.logger;o?o.warn(s):console.warn(s)}return new _G({...a,db:this.database});default:return new D$(a)}}};te(Ig,"SHARED_MUTEX",new Lo);let $S=Ig;const jG=new UK({assessments:new yo({description:Ur.TEXT,status:Ur.TEXT,lead_id:Ur.TEXT,damage_score:Ur.INTEGER}),leads:new yo({first_name:Ur.TEXT,last_name:Ur.TEXT,email:Ur.TEXT,status:Ur.TEXT,address:Ur.TEXT})}),AG=new $S({schema:jG,database:{dbFilename:"orpaynter_edge.db"}}),TG=async()=>{console.warn("VITE_POWERSYNC_URL not set. Offline sync will strictly be local-only (no cloud sync).")},OG=M.createContext(null),kG=({children:t})=>{const[e,r]=M.useState(!1);return M.useEffect(()=>{TG().then(()=>r(!0))},[]),e?f.jsx(OG.Provider,{value:AG,children:t}):null};function z0({children:t}){const{user:e,loading:r}=Sr();return r?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-8",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),f.jsx("p",{className:"text-white text-center",children:"Loading..."})]})}):e?f.jsx(f.Fragment,{children:t}):f.jsx(ki,{to:"/login",replace:!0})}function Ja({children:t,allowedRoles:e}){const{user:r,profile:n,loading:i}=Sr();return i?f.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r?!n||!e.includes(n.user_role)?(n==null?void 0:n.user_role)==="contractor"?f.jsx(ki,{to:"/dashboard",replace:!0}):(n==null?void 0:n.user_role)==="homeowner"?f.jsx(ki,{to:"/homeowner/dashboard",replace:!0}):(n==null?void 0:n.user_role)==="supplier"?f.jsx(ki,{to:"/supplier/dashboard",replace:!0}):(n==null?void 0:n.user_role)==="insurance"?f.jsx(ki,{to:"/insurance/dashboard",replace:!0}):f.jsx(ki,{to:"/",replace:!0}):f.jsx(f.Fragment,{children:t}):f.jsx(ki,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=M.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...d},p)=>M.createElement("svg",{ref:p,...PG,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${NG(t)}`,o].join(" "),...d},[...e.map(([h,m])=>M.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=je("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=je("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=je("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=je("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=je("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=je("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=je("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=je("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=je("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=je("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=je("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=je("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=je("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=je("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=je("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=je("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=je("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=je("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=je("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=je("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=je("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=je("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=je("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=je("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=je("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=je("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),vj=M.createContext({});function xj(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const z$=typeof window<"u",V$=z$?M.useLayoutEffect:M.useEffect,Xg=M.createContext(null);function bj(t,e){t.indexOf(e)===-1&&t.push(e)}function wj(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const $i=(t,e,r)=>r>e?e:r<t?t:r;let _j=()=>{};const wa={},W$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function H$(t){return typeof t=="object"&&t!==null}const K$=t=>/^0[^.\s]+$/u.test(t);function Sj(t){let e;return()=>(e===void 0&&(e=t()),e)}const zn=t=>t,aQ=(t,e)=>r=>e(t(r)),Vf=(...t)=>t.reduce(aQ),Yd=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class Ej{constructor(){this.subscriptions=[]}add(e){return bj(this.subscriptions,e),()=>wj(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ga=t=>t*1e3,$n=t=>t/1e3;function G$(t,e){return e?t*(1e3/e):0}const Q$=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,sQ=1e-7,oQ=12;function lQ(t,e,r,n,i){let a,s,o=0;do s=e+(r-e)/2,a=Q$(s,n,i)-t,a>0?r=s:e=s;while(Math.abs(a)>sQ&&++o<oQ);return s}function Wf(t,e,r,n){if(t===e&&r===n)return zn;const i=a=>lQ(a,0,1,t,r);return a=>a===0||a===1?a:Q$(i(a),e,n)}const Y$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X$=t=>e=>1-t(1-e),J$=Wf(.33,1.53,.69,.99),jj=X$(J$),Z$=Y$(jj),e3=t=>(t*=2)<1?.5*jj(t):.5*(2-Math.pow(2,-10*(t-1))),Aj=t=>1-Math.sin(Math.acos(t)),t3=X$(Aj),r3=Y$(Aj),cQ=Wf(.42,0,1,1),uQ=Wf(0,0,.58,1),n3=Wf(.42,0,.58,1),dQ=t=>Array.isArray(t)&&typeof t[0]!="number",i3=t=>Array.isArray(t)&&typeof t[0]=="number",fQ={linear:zn,easeIn:cQ,easeInOut:n3,easeOut:uQ,circIn:Aj,circInOut:r3,circOut:t3,backIn:jj,backInOut:Z$,backOut:J$,anticipate:e3},hQ=t=>typeof t=="string",DN=t=>{if(i3(t)){_j(t.length===4);const[e,r,n,i]=t;return Wf(e,r,n,i)}else if(hQ(t))return fQ[t];return t},Tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pQ(t,e){let r=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(p){s.has(p)&&(d.schedule(p),t()),p(o)}const d={schedule:(p,h=!1,m=!1)=>{const b=m&&i?r:n;return h&&s.add(p),b.has(p)||b.add(p),p},cancel:p=>{n.delete(p),s.delete(p)},process:p=>{if(o=p,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),r.clear(),i=!1,a&&(a=!1,d.process(p))}};return d}const mQ=40;function a3(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=Tp.reduce((E,T)=>(E[T]=pQ(a),E),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:p,update:h,preRender:m,render:g,postRender:b}=s,v=()=>{const E=wa.useManualTiming?i.timestamp:performance.now();r=!1,wa.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(E-i.timestamp,mQ),1)),i.timestamp=E,i.isProcessing=!0,o.process(i),c.process(i),d.process(i),p.process(i),h.process(i),m.process(i),g.process(i),b.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},x=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:Tp.reduce((E,T)=>{const j=s[T];return E[T]=(O,N=!1,R=!1)=>(r||x(),j.schedule(O,N,R)),E},{}),cancel:E=>{for(let T=0;T<Tp.length;T++)s[Tp[T]].cancel(E)},state:i,steps:s}}const{schedule:It,cancel:Ss,state:Nr,steps:H0}=a3(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let em;function gQ(){em=void 0}const en={now:()=>(em===void 0&&en.set(Nr.isProcessing||wa.useManualTiming?Nr.timestamp:performance.now()),em),set:t=>{em=t,queueMicrotask(gQ)}},s3=t=>e=>typeof e=="string"&&e.startsWith(t),o3=s3("--"),yQ=s3("var(--"),Tj=t=>yQ(t)?vQ.test(t.split("/*")[0].trim()):!1,vQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function MN(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const eu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xd={...eu,transform:t=>$i(0,1,t)},Op={...eu,default:1},jd=t=>Math.round(t*1e5)/1e5,Oj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xQ(t){return t==null}const bQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kj=(t,e)=>r=>!!(typeof r=="string"&&bQ.test(r)&&r.startsWith(t)||e&&!xQ(r)&&Object.prototype.hasOwnProperty.call(r,e)),l3=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(Oj);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},wQ=t=>$i(0,255,t),K0={...eu,transform:t=>Math.round(wQ(t))},vo={test:kj("rgb","red"),parse:l3("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+K0.transform(t)+", "+K0.transform(e)+", "+K0.transform(r)+", "+jd(Xd.transform(n))+")"};function _Q(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const VS={test:kj("#"),parse:_Q,transform:vo.transform},Hf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),rs=Hf("deg"),Di=Hf("%"),De=Hf("px"),SQ=Hf("vh"),EQ=Hf("vw"),LN={...Di,parse:t=>Di.parse(t)/100,transform:t=>Di.transform(t*100)},Wl={test:kj("hsl","hue"),parse:l3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Di.transform(jd(e))+", "+Di.transform(jd(r))+", "+jd(Xd.transform(n))+")"},ar={test:t=>vo.test(t)||VS.test(t)||Wl.test(t),parse:t=>vo.test(t)?vo.parse(t):Wl.test(t)?Wl.parse(t):VS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vo.transform(t):Wl.transform(t),getAnimatableNone:t=>{const e=ar.parse(t);return e.alpha=0,ar.transform(e)}},jQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AQ(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Oj))==null?void 0:e.length)||0)+(((r=t.match(jQ))==null?void 0:r.length)||0)>0}const c3="number",u3="color",TQ="var",OQ="var(",FN="${}",kQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jd(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=e.replace(kQ,c=>(ar.test(c)?(n.color.push(a),i.push(u3),r.push(ar.parse(c))):c.startsWith(OQ)?(n.var.push(a),i.push(TQ),r.push(c)):(n.number.push(a),i.push(c3),r.push(parseFloat(c))),++a,FN)).split(FN);return{values:r,split:o,indexes:n,types:i}}function d3(t){return Jd(t).values}function f3(t){const{split:e,types:r}=Jd(t),n=e.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=e[s],i[s]!==void 0){const o=r[s];o===c3?a+=jd(i[s]):o===u3?a+=ar.transform(i[s]):a+=i[s]}return a}}const PQ=t=>typeof t=="number"?0:ar.test(t)?ar.getAnimatableNone(t):t;function NQ(t){const e=d3(t);return f3(t)(e.map(PQ))}const Es={test:AQ,parse:d3,createTransformer:f3,getAnimatableNone:NQ};function G0(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function CQ({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,s=0;if(!e)i=a=s=r;else{const o=r<.5?r*(1+e):r+e-r*e,c=2*r-o;i=G0(c,o,t+1/3),a=G0(c,o,t),s=G0(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function Sm(t,e){return r=>r>0?e:t}const zt=(t,e,r)=>t+(e-t)*r,Q0=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},RQ=[VS,vo,Wl],IQ=t=>RQ.find(e=>e.test(t));function $N(t){const e=IQ(t);if(!e)return!1;let r=e.parse(t);return e===Wl&&(r=CQ(r)),r}const UN=(t,e)=>{const r=$N(t),n=$N(e);if(!r||!n)return Sm(t,e);const i={...r};return a=>(i.red=Q0(r.red,n.red,a),i.green=Q0(r.green,n.green,a),i.blue=Q0(r.blue,n.blue,a),i.alpha=zt(r.alpha,n.alpha,a),vo.transform(i))},WS=new Set(["none","hidden"]);function DQ(t,e){return WS.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function MQ(t,e){return r=>zt(t,e,r)}function Pj(t){return typeof t=="number"?MQ:typeof t=="string"?Tj(t)?Sm:ar.test(t)?UN:$Q:Array.isArray(t)?h3:typeof t=="object"?ar.test(t)?UN:LQ:Sm}function h3(t,e){const r=[...t],n=r.length,i=t.map((a,s)=>Pj(a)(a,e[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function LQ(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Pj(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function FQ(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],s=t.indexes[a][n[a]],o=t.values[s]??0;r[i]=o,n[a]++}return r}const $Q=(t,e)=>{const r=Es.createTransformer(e),n=Jd(t),i=Jd(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?WS.has(t)&&!i.values.length||WS.has(e)&&!n.values.length?DQ(t,e):Vf(h3(FQ(n,i),i.values),r):Sm(t,e)};function p3(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?zt(t,e,r):Pj(t)(t,e)}const UQ=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>It.update(e,r),stop:()=>Ss(e),now:()=>Nr.isProcessing?Nr.timestamp:en.now()}},m3=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Em=2e4;function Nj(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Em;)e+=r,n=t.next(e);return e>=Em?1/0:e}function BQ(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(Nj(n),Em);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:$n(i)}}const qQ=5;function g3(t,e,r){const n=Math.max(e-qQ,0);return G$(r-t(n),e-n)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y0=.001;function zQ({duration:t=Kt.duration,bounce:e=Kt.bounce,velocity:r=Kt.velocity,mass:n=Kt.mass}){let i,a,s=1-e;s=$i(Kt.minDamping,Kt.maxDamping,s),t=$i(Kt.minDuration,Kt.maxDuration,$n(t)),s<1?(i=d=>{const p=d*s,h=p*t,m=p-r,g=HS(d,s),b=Math.exp(-h);return Y0-m/g*b},a=d=>{const h=d*s*t,m=h*r+r,g=Math.pow(s,2)*Math.pow(d,2)*t,b=Math.exp(-h),v=HS(Math.pow(d,2),s);return(-i(d)+Y0>0?-1:1)*((m-g)*b)/v}):(i=d=>{const p=Math.exp(-d*t),h=(d-r)*t+1;return-Y0+p*h},a=d=>{const p=Math.exp(-d*t),h=(r-d)*(t*t);return p*h});const o=5/t,c=WQ(i,a,o);if(t=ga(t),isNaN(c))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:s*2*Math.sqrt(n*d),duration:t}}}const VQ=12;function WQ(t,e,r){let n=r;for(let i=1;i<VQ;i++)n=n-t(n)/e(n);return n}function HS(t,e){return t*Math.sqrt(1-e*e)}const HQ=["duration","bounce"],KQ=["stiffness","damping","mass"];function BN(t,e){return e.some(r=>t[r]!==void 0)}function GQ(t){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...t};if(!BN(t,KQ)&&BN(t,HQ))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*$i(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Kt.mass,stiffness:i,damping:a}}else{const r=zQ(t);e={...e,...r,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function jm(t=Kt.visualDuration,e=Kt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:d,mass:p,duration:h,velocity:m,isResolvedFromDuration:g}=GQ({...r,velocity:-$n(r.velocity||0)}),b=m||0,v=d/(2*Math.sqrt(c*p)),x=s-a,w=$n(Math.sqrt(c/p)),S=Math.abs(x)<5;n||(n=S?Kt.restSpeed.granular:Kt.restSpeed.default),i||(i=S?Kt.restDelta.granular:Kt.restDelta.default);let E;if(v<1){const j=HS(w,v);E=O=>{const N=Math.exp(-v*w*O);return s-N*((b+v*w*x)/j*Math.sin(j*O)+x*Math.cos(j*O))}}else if(v===1)E=j=>s-Math.exp(-w*j)*(x+(b+w*x)*j);else{const j=w*Math.sqrt(v*v-1);E=O=>{const N=Math.exp(-v*w*O),R=Math.min(j*O,300);return s-N*((b+v*w*x)*Math.sinh(R)+j*x*Math.cosh(R))/j}}const T={calculatedDuration:g&&h||null,next:j=>{const O=E(j);if(g)o.done=j>=h;else{let N=j===0?b:0;v<1&&(N=j===0?ga(b):g3(E,j,O));const R=Math.abs(N)<=n,I=Math.abs(s-O)<=i;o.done=R&&I}return o.value=o.done?s:O,o},toString:()=>{const j=Math.min(Nj(T),Em),O=m3(N=>T.next(j*N).value,j,30);return j+"ms "+O},toTransition:()=>{}};return T}jm.applyToOptions=t=>{const e=BQ(t,100,jm);return t.ease=e.ease,t.duration=ga(e.duration),t.type="keyframes",t};function KS({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:d=.5,restSpeed:p}){const h=t[0],m={done:!1,value:h},g=R=>o!==void 0&&R<o||c!==void 0&&R>c,b=R=>o===void 0?c:c===void 0||Math.abs(o-R)<Math.abs(c-R)?o:c;let v=r*e;const x=h+v,w=s===void 0?x:s(x);w!==x&&(v=w-h);const S=R=>-v*Math.exp(-R/n),E=R=>w+S(R),T=R=>{const I=S(R),q=E(R);m.done=Math.abs(I)<=d,m.value=m.done?w:q};let j,O;const N=R=>{g(m.value)&&(j=R,O=jm({keyframes:[m.value,b(m.value)],velocity:g3(E,R,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:p}))};return N(0),{calculatedDuration:null,next:R=>{let I=!1;return!O&&j===void 0&&(I=!0,T(R),N(R)),j!==void 0&&R>=j?O.next(R-j):(!I&&T(R),m)}}}function QQ(t,e,r){const n=[],i=r||wa.mix||p3,a=t.length-1;for(let s=0;s<a;s++){let o=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||zn:e;o=Vf(c,o)}n.push(o)}return n}function YQ(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(_j(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=QQ(e,n,i),c=o.length,d=p=>{if(s&&p<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const m=Yd(t[h],t[h+1],p);return o[h](m)};return r?p=>d($i(t[0],t[a-1],p)):d}function XQ(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Yd(0,e,n);t.push(zt(r,1,i))}}function JQ(t){const e=[0];return XQ(e,t.length-1),e}function ZQ(t,e){return t.map(r=>r*e)}function eY(t,e){return t.map(()=>e||n3).splice(0,t.length-1)}function Ad({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=dQ(n)?n.map(DN):DN(n),a={done:!1,value:e[0]},s=ZQ(r&&r.length===e.length?r:JQ(e),t),o=YQ(s,e,{ease:Array.isArray(i)?i:eY(e,i)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const tY=t=>t!==null;function Cj(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(tY),o=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const rY={decay:KS,inertia:KS,tween:Ad,keyframes:Ad,spring:jm};function y3(t){typeof t.type=="string"&&(t.type=rY[t.type])}class Rj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const nY=t=>t/100;class Ij extends Rj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==en.now()&&this.tick(en.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;y3(e);const{type:r=Ad,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const c=r||Ad;c!==Ad&&typeof o[0]!="number"&&(this.mixKeyframes=Vf(nY,p3(o[0],o[1])),o=[0,100]);const d=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=Nj(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:p,repeat:h,repeatType:m,repeatDelay:g,type:b,onUpdate:v,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,T=n;if(h){const R=Math.min(this.currentTime,i)/o;let I=Math.floor(R),q=R%1;!q&&R>=1&&(q=1),q===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(m==="reverse"?(q=1-q,g&&(q-=g/o)):m==="mirror"&&(T=s)),E=$i(0,1,q)*o}const j=S?{done:!1,value:p[0]}:T.next(E);a&&(j.value=a(j.value));let{done:O}=j;!S&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return N&&b!==KS&&(j.value=Cj(p,this.options,x,this.speed)),v&&v(j.value),N&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(this.currentTime)}set time(e){var r;e=ga(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(en.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=$n(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=UQ,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function iY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const xo=t=>t*180/Math.PI,GS=t=>{const e=xo(Math.atan2(t[1],t[0]));return QS(e)},aY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:GS,rotateZ:GS,skewX:t=>xo(Math.atan(t[1])),skewY:t=>xo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QS=t=>(t=t%360,t<0&&(t+=360),t),qN=GS,zN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zN,scaleY:VN,scale:t=>(zN(t)+VN(t))/2,rotateX:t=>QS(xo(Math.atan2(t[6],t[5]))),rotateY:t=>QS(xo(Math.atan2(-t[2],t[0]))),rotateZ:qN,rotate:qN,skewX:t=>xo(Math.atan(t[4])),skewY:t=>xo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function YS(t){return t.includes("scale")?1:0}function XS(t,e){if(!t||t==="none")return YS(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=sY,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=aY,i=o}if(!i)return YS(e);const a=n[e],s=i[1].split(",").map(lY);return typeof a=="function"?a(s):s[a]}const oY=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return XS(r,e)};function lY(t){return parseFloat(t.trim())}const tu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(tu),WN=t=>t===eu||t===De,cY=new Set(["x","y","z"]),uY=tu.filter(t=>!cY.has(t));function dY(t){const e=[];return uY.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const gs={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>XS(e,"x"),y:(t,{transform:e})=>XS(e,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const Co=new Set;let JS=!1,ZS=!1,e1=!1;function v3(){if(ZS){const t=Array.from(Co).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=dY(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))==null||o.set(s)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ZS=!1,JS=!1,Co.forEach(t=>t.complete(e1)),Co.clear()}function x3(){Co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ZS=!0)})}function fY(){e1=!0,x3(),v3(),e1=!1}class Dj{constructor(e,r,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Co.add(this),JS||(JS=!0,It.read(x3),It.resolveKeyframes(v3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const o=n.readValue(r,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),i&&a===void 0&&i.set(e[0])}iY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Co.delete(this)}cancel(){this.state==="scheduled"&&(Co.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hY=t=>t.startsWith("--");function pY(t,e,r){hY(e)?t.style.setProperty(e,r):t.style[e]=r}const mY=Sj(()=>window.ScrollTimeline!==void 0),gY={};function yY(t,e){const r=Sj(t);return()=>gY[e]??r()}const b3=yY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,HN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vd([0,.65,.55,1]),circOut:vd([.55,0,1,.45]),backIn:vd([.31,.01,.66,-.59]),backOut:vd([.33,1.53,.69,.99])};function w3(t,e){if(t)return typeof t=="function"?b3()?m3(t,e):"ease-out":i3(t)?vd(t):Array.isArray(t)?t.map(r=>w3(r,e)||HN.easeOut):HN[t]}function vY(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:c}={},d=void 0){const p={[e]:r};c&&(p.offset=c);const h=w3(o,i);Array.isArray(h)&&(p.easing=h);const m={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(p,m)}function _3(t){return typeof t=="function"&&"applyToOptions"in t}function xY({type:t,...e}){return _3(t)&&b3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class bY extends Rj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,_j(typeof e.type!="string");const d=xY(e);this.animation=vY(r,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Cj(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(p):pY(r,n,p),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return $n(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$n(e)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ga(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mY()?(this.animation.timeline=e,zn):r(this)}}const S3={anticipate:e3,backInOut:Z$,circInOut:r3};function wY(t){return t in S3}function _Y(t){typeof t.ease=="string"&&wY(t.ease)&&(t.ease=S3[t.ease])}const X0=10;class SY extends bY{constructor(e){_Y(e),y3(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new Ij({...s,autoplay:!1}),c=Math.max(X0,en.now()-this.startTime),d=$i(0,X0,c-X0);r.setWithVelocity(o.sample(Math.max(0,c-d)).value,o.sample(c).value,d),o.stop()}}const KN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Es.test(t)||t==="0")&&!t.startsWith("url("));function EY(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function jY(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],s=KN(i,e),o=KN(a,e);return!s||!o?!1:EY(t)||(r==="spring"||_3(r))&&n}function t1(t){t.duration=0,t.type="keyframes"}const AY=new Set(["opacity","clipPath","filter","transform"]),TY=Sj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OY(t){var p;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return TY()&&r&&AY.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const kY=40;class PY extends Rj{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:c,motionValue:d,element:p,...h}){var b;super(),this.stop=()=>{var v,x;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=en.now();const m={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,name:c,motionValue:d,element:p,...h},g=(p==null?void 0:p.KeyframeResolver)||Dj;this.keyframeResolver=new g(o,(v,x,w)=>this.onKeyframesResolved(v,x,m,!w),c,d,p),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,r,n,i){var x,w;this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:c,isHandoff:d,onUpdate:p}=n;this.resolvedAt=en.now(),jY(e,a,s,o)||((wa.instantAnimations||!c)&&(p==null||p(Cj(e,n,r))),e[0]=e[e.length-1],t1(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!d&&OY(m),b=(w=(x=m.motionValue)==null?void 0:x.owner)==null?void 0:w.current,v=g?new SY({...m,element:b}):new Ij(m);v.finished.then(()=>{this.notifyFinished()}).catch(zn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function E3(t,e,r,n=0,i=1){const a=Array.from(t).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),s=t.size,o=(s-1)*n;return typeof r=="function"?r(a,s):i===1?a*n:o-a*n}const NY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CY(t){const e=NY.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function j3(t,e,r=1){const[n,i]=CY(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const s=a.trim();return W$(s)?parseFloat(s):s}return Tj(i)?j3(i,e,r+1):i}const RY={type:"spring",stiffness:500,damping:25,restSpeed:10},IY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DY={type:"keyframes",duration:.8},MY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LY=(t,{keyframes:e})=>e.length>2?DY:ru.has(t)?t.startsWith("scale")?IY(e[1]):RY:MY,FY=t=>t!==null;function $Y(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(FY),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}function Mj(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function UY({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:d,...p}){return!!Object.keys(p).length}const Lj=(t,e,r,n={},i,a)=>s=>{const o=Mj(n,t)||{},c=o.delay||n.delay||0;let{elapsed:d=0}=n;d=d-ga(c);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-d,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:i};UY(o)||Object.assign(p,LY(t,p)),p.duration&&(p.duration=ga(p.duration)),p.repeatDelay&&(p.repeatDelay=ga(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(t1(p),p.delay===0&&(h=!0)),(wa.instantAnimations||wa.skipAnimations)&&(h=!0,t1(p),p.delay=0),p.allowFlatten=!o.type&&!o.ease,h&&!a&&e.get()!==void 0){const m=$Y(p.keyframes,o);if(m!==void 0){It.update(()=>{p.onUpdate(m),p.onComplete()});return}}return o.isSync?new Ij(p):new PY(p)};function GN(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Fj(t,e,r,n){if(typeof e=="function"){const[i,a]=GN(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=GN(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function nc(t,e,r){const n=t.getProps();return Fj(n,e,r!==void 0?r:n.custom,t)}const A3=new Set(["width","height","top","left","right","bottom",...tu]),QN=30,BY=t=>!isNaN(parseFloat(t));class qY{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=en.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=en.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BY(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Ej);const n=this.events[e].add(r);return e==="change"?()=>{n(),It.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,QN);return G$(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sc(t,e){return new qY(t,e)}const r1=t=>Array.isArray(t);function zY(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Sc(r))}function VY(t){return r1(t)?t[t.length-1]||0:t}function WY(t,e){const r=nc(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const o=VY(a[s]);zY(t,s,o)}}const qr=t=>!!(t&&t.getVelocity);function HY(t){return!!(qr(t)&&t.add)}function n1(t,e){const r=t.getValue("willChange");if(HY(r))return r.add(e);if(!r&&wa.WillChange){const n=new wa.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function $j(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const KY="framerAppearId",T3="data-"+$j(KY);function O3(t){return t.props[T3]}function GY({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function k3(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:s,...o}=e;const c=a==null?void 0:a.reduceMotion;n&&(a=n);const d=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const m=t.getValue(h,t.latestValues[h]??null),g=o[h];if(g===void 0||p&&GY(p,h))continue;const b={delay:r,...Mj(a||{},h)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!b.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const E=O3(t);if(E){const T=window.MotionHandoffAnimation(E,h,It);T!==null&&(b.startTime=T,x=!0)}}n1(t,h);const w=c??t.shouldReduceMotion;m.start(Lj(h,m,g,w&&A3.has(h)?{type:!1}:b,t,x));const S=m.animation;S&&d.push(S)}return s&&Promise.all(d).then(()=>{It.update(()=>{s&&WY(t,s)})}),d}function i1(t,e,r={}){var c;const n=nc(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(k3(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:m}=i;return QY(t,e,d,p,h,m,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[d,p]=o==="beforeChildren"?[a,s]:[s,a];return d().then(()=>p())}else return Promise.all([a(),s(r.delay)])}function QY(t,e,r=0,n=0,i=0,a=1,s){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(i1(c,e,{...s,delay:r+(typeof n=="function"?0:n)+E3(t.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function YY(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>i1(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=i1(t,e,r);else{const i=typeof e=="function"?nc(t,e,r.custom):e;n=Promise.all(k3(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const XY={test:t=>t==="auto",parse:t=>t},P3=t=>e=>e.test(t),N3=[eu,De,Di,rs,EQ,SQ,XY],YN=t=>N3.find(P3(t));function JY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||K$(t):!0}const ZY=new Set(["brightness","contrast","saturate","opacity"]);function eX(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Oj)||[];if(!n)return t;const i=r.replace(n,"");let a=ZY.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const tX=/\b([a-z-]*)\(.*?\)/gu,a1={...Es,getAnimatableNone:t=>{const e=t.match(tX);return e?e.map(eX).join(" "):t}},XN={...eu,transform:Math.round},rX={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:Op,scaleX:Op,scaleY:Op,scaleZ:Op,skew:rs,skewX:rs,skewY:rs,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Xd,originX:LN,originY:LN,originZ:De},Uj={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,fontSize:De,backgroundPositionX:De,backgroundPositionY:De,...rX,zIndex:XN,fillOpacity:Xd,strokeOpacity:Xd,numOctaves:XN},nX={...Uj,color:ar,backgroundColor:ar,outlineColor:ar,fill:ar,stroke:ar,borderColor:ar,borderTopColor:ar,borderRightColor:ar,borderBottomColor:ar,borderLeftColor:ar,filter:a1,WebkitFilter:a1},C3=t=>nX[t];function R3(t,e){let r=C3(t);return r!==a1&&(r=Es),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const iX=new Set(["auto","none","0"]);function aX(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!iX.has(a)&&Jd(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=R3(r,i)}class sX extends Dj{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),Tj(h))){const m=j3(h,r.current);m!==void 0&&(e[p]=m),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!A3.has(n)||e.length!==2)return;const[i,a]=e,s=YN(i),o=YN(a),c=MN(i),d=MN(a);if(c!==d&&gs[n]){this.needsMeasurement=!0;return}if(s!==o)if(WN(s)&&WN(o))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else gs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||JY(e[i]))&&n.push(i);n.length&&aX(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function oX(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(n=>n!=null)}const I3=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function s1(t){return H$(t)&&"offsetHeight"in t}const{schedule:Bj}=a3(queueMicrotask,!1),si={x:!1,y:!1};function D3(){return si.x||si.y}function lX(t){return t==="x"||t==="y"?si[t]?null:(si[t]=!0,()=>{si[t]=!1}):si.x||si.y?null:(si.x=si.y=!0,()=>{si.x=si.y=!1})}function M3(t,e){const r=oX(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function JN(t){return!(t.pointerType==="touch"||D3())}function cX(t,e,r={}){const[n,i,a]=M3(t,r),s=o=>{if(!JN(o))return;const{target:c}=o,d=e(c,o);if(typeof d!="function"||!c)return;const p=h=>{JN(h)&&(d(h),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const L3=(t,e)=>e?t===e?!0:L3(t,e.parentElement):!1,qj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,uX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F3(t){return uX.has(t.tagName)||t.isContentEditable===!0}const tm=new WeakSet;function ZN(t){return e=>{e.key==="Enter"&&t(e)}}function J0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dX=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ZN(()=>{if(tm.has(r))return;J0(r,"down");const i=ZN(()=>{J0(r,"up")}),a=()=>J0(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function eC(t){return qj(t)&&!D3()}function fX(t,e,r={}){const[n,i,a]=M3(t,r),s=o=>{const c=o.currentTarget;if(!eC(o))return;tm.add(c);const d=e(c,o),p=(g,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),tm.has(c)&&tm.delete(c),eC(g)&&typeof d=="function"&&d(g,{success:b})},h=g=>{p(g,c===window||c===document||r.useGlobalTarget||L3(c,g.target))},m=g=>{p(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),s1(o)&&(o.addEventListener("focus",d=>dX(d,i)),!F3(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function $3(t){return H$(t)&&"ownerSVGElement"in t}function hX(t){return $3(t)&&t.tagName==="svg"}const pX=[...N3,ar,Es],mX=t=>pX.find(P3(t)),tC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:tC(),y:tC()}),rC=()=>({min:0,max:0}),hr=()=>({x:rC(),y:rC()}),o1={current:null},U3={current:!1},gX=typeof window<"u";function yX(){if(U3.current=!0,!!gX)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>o1.current=t.matches;t.addEventListener("change",e),e()}else o1.current=!1}const vX=new WeakMap;function Jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zd(t){return typeof t=="string"||Array.isArray(t)}const zj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vj=["initial",...zj];function Zg(t){return Jg(t.animate)||Vj.some(e=>Zd(t[e]))}function B3(t){return!!(Zg(t)||t.variants)}function xX(t,e,r){for(const n in e){const i=e[n],a=r[n];if(qr(i))t.addValue(n,i);else if(qr(a))t.addValue(n,Sc(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const s=t.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(n);t.addValue(n,Sc(s!==void 0?s:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const nC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Am={};function q3(t){Am=t}function bX(){return Am}class wX{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=en.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,It.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=Zg(r),this.isVariantNode=B3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&qr(g)&&g.set(c[m])}}mount(e){var r;this.current=e,vX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(U3.current||yX(),this.shouldReduceMotion=o1.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ss(this.notifyUpdate),Ss(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ru.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&It.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Am){const r=Am[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<nC.length;n++){const i=nC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=e[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=xX(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Sc(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(W$(n)||K$(n))?n=parseFloat(n):!mX(n)&&Es.test(r)&&(n=R3(e,r)),this.setBaseTarget(e,qr(n)?n.get():n)),qr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Fj(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qr(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Ej),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Bj.render(this.render)}}class z3 extends wX{constructor(){super(...arguments),this.KeyframeResolver=sX}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class Ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}function V3({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function _X({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SX(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Z0(t){return t===void 0||t===1}function l1({scale:t,scaleX:e,scaleY:r}){return!Z0(t)||!Z0(e)||!Z0(r)}function oo(t){return l1(t)||W3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function W3(t){return iC(t.x)||iC(t.y)}function iC(t){return t&&t!=="0%"}function Tm(t,e,r){const n=t-r,i=e*n;return r+i}function aC(t,e,r,n,i){return i!==void 0&&(t=Tm(t,i,n)),Tm(t,r,n)+e}function c1(t,e=0,r=1,n,i){t.min=aC(t.min,e,r,n,i),t.max=aC(t.max,e,r,n,i)}function H3(t,{x:e,y:r}){c1(t.x,e.translate,e.scale,e.originPoint),c1(t.y,r.translate,r.scale,r.originPoint)}const sC=.999999999999,oC=1.0000000000001;function EX(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,s;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Gl(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,H3(t,s)),n&&oo(a.latestValues)&&Gl(t,a.latestValues))}e.x<oC&&e.x>sC&&(e.x=1),e.y<oC&&e.y>sC&&(e.y=1)}function Kl(t,e){t.min=t.min+e,t.max=t.max+e}function lC(t,e,r,n,i=.5){const a=zt(t.min,t.max,i);c1(t,e,r,a,n)}function Gl(t,e){lC(t.x,e.x,e.scaleX,e.scale,e.originX),lC(t.y,e.y,e.scaleY,e.scale,e.originY)}function K3(t,e){return V3(SX(t.getBoundingClientRect(),e))}function jX(t,e,r){const n=K3(t,r),{scroll:i}=e;return i&&(Kl(n.x,i.offset.x),Kl(n.y,i.offset.y)),n}const AX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TX=tu.length;function OX(t,e,r){let n="",i=!0;for(let a=0;a<TX;a++){const s=tu[a],o=t[s];if(o===void 0)continue;let c=!0;if(typeof o=="number")c=o===(s.startsWith("scale")?1:0);else{const d=parseFloat(o);c=s.startsWith("scale")?d===1:d===0}if(!c||r){const d=I3(o,Uj[s]);if(!c){i=!1;const p=AX[s]||s;n+=`${p}(${d}) `}r&&(e[s]=d)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Wj(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let s=!1,o=!1;for(const c in e){const d=e[c];if(ru.has(c)){s=!0;continue}else if(o3(c)){i[c]=d;continue}else{const p=I3(d,Uj[c]);c.startsWith("origin")?(o=!0,a[c]=p):n[c]=p}}if(e.transform||(s||r?n.transform=OX(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:p=0}=a;n.transformOrigin=`${c} ${d} ${p}`}}function G3(t,{style:e,vars:r},n,i){const a=t.style;let s;for(s in e)a[s]=e[s];i==null||i.applyProjectionStyles(a,n);for(s in r)a.setProperty(s,r[s])}function cC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ad={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const r=cC(t,e.target.x),n=cC(t,e.target.y);return`${r}% ${n}%`}},kX={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Es.parse(t);if(i.length>5)return n;const a=Es.createTransformer(t),s=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,c=r.y.scale*e.y;i[0+s]/=o,i[1+s]/=c;const d=zt(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=d),typeof i[3+s]=="number"&&(i[3+s]/=d),a(i)}},u1={borderRadius:{...ad,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ad,borderTopRightRadius:ad,borderBottomLeftRadius:ad,borderBottomRightRadius:ad,boxShadow:kX};function Q3(t,{layout:e,layoutId:r}){return ru.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!u1[t]||t==="opacity")}function Hj(t,e,r){var s;const n=t.style,i=e==null?void 0:e.style,a={};if(!n)return a;for(const o in n)(qr(n[o])||i&&qr(i[o])||Q3(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}function PX(t){return window.getComputedStyle(t)}class NX extends z3{constructor(){super(...arguments),this.type="html",this.renderInstance=G3}readValueFromInstance(e,r){var n;if(ru.has(r))return(n=this.projection)!=null&&n.isProjecting?YS(r):oY(e,r);{const i=PX(e),a=(o3(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return K3(e,r)}build(e,r,n){Wj(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Hj(e,r,n)}}const CX={offset:"stroke-dashoffset",array:"stroke-dasharray"},RX={offset:"strokeDashoffset",array:"strokeDasharray"};function IX(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?CX:RX;t[a.offset]=`${-n}`,t[a.array]=`${e} ${r}`}const DX=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Y3(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},c,d,p){if(Wj(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete h.transformBox);for(const g of DX)h[g]!==void 0&&(m[g]=h[g],delete h[g]);e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&IX(h,i,a,s,!1)}const X3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),J3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MX(t,e,r,n){G3(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(X3.has(i)?i:$j(i),e.attrs[i])}function Z3(t,e,r){const n=Hj(t,e,r);for(const i in t)if(qr(t[i])||qr(e[i])){const a=tu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}class LX extends z3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ru.has(r)){const n=C3(r);return n&&n.default||0}return r=X3.has(r)?r:$j(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Z3(e,r,n)}build(e,r,n){Y3(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){MX(e,r,n,i)}mount(e){this.isSVGTag=J3(e.tagName),super.mount(e)}}const FX=Vj.length;function eU(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?eU(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<FX;r++){const n=Vj[r],i=t.props[n];(Zd(i)||i===!1)&&(e[n]=i)}return e}function tU(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const $X=[...zj].reverse(),UX=zj.length;function BX(t){return e=>Promise.all(e.map(({animation:r,options:n})=>YY(t,r,n)))}function qX(t){let e=BX(t),r=uC(),n=!0;const i=c=>(d,p)=>{var m;const h=nc(t,p,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:g,transitionEnd:b,...v}=h;d={...d,...v,...b}}return d};function a(c){e=c(t)}function s(c){const{props:d}=t,p=eU(t.parent)||{},h=[],m=new Set;let g={},b=1/0;for(let x=0;x<UX;x++){const w=$X[x],S=r[w],E=d[w]!==void 0?d[w]:p[w],T=Zd(E),j=w===c?S.isActive:null;j===!1&&(b=x);let O=E===p[w]&&E!==d[w]&&T;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),S.protectedKeys={...g},!S.isActive&&j===null||!E&&!S.prevProp||Jg(E)||typeof E=="boolean")continue;const N=zX(S.prevProp,E);let R=N||w===c&&S.isActive&&!O&&T||x>b&&T,I=!1;const q=Array.isArray(E)?E:[E];let U=q.reduce(i(w),{});j===!1&&(U={});const{prevResolvedValues:D={}}=S,B={...D,...U},V=ie=>{R=!0,m.has(ie)&&(I=!0,m.delete(ie)),S.needsAnimating[ie]=!0;const ne=t.getValue(ie);ne&&(ne.liveStyle=!1)};for(const ie in B){const ne=U[ie],oe=D[ie];if(g.hasOwnProperty(ie))continue;let se=!1;r1(ne)&&r1(oe)?se=!tU(ne,oe):se=ne!==oe,se?ne!=null?V(ie):m.add(ie):ne!==void 0&&m.has(ie)?V(ie):S.protectedKeys[ie]=!0}S.prevProp=E,S.prevResolvedValues=U,S.isActive&&(g={...g,...U}),n&&t.blockInitialAnimation&&(R=!1);const G=O&&N;R&&(!G||I)&&h.push(...q.map(ie=>{const ne={type:w};if(typeof ie=="string"&&n&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,se=nc(oe,ie);if(oe.enteringChildren&&se){const{delayChildren:W}=se.transition||{};ne.delay=E3(oe.enteringChildren,t,W)}}return{animation:ie,options:ne}}))}if(m.size){const x={};if(typeof d.initial!="boolean"){const w=nc(t,Array.isArray(d.initial)?d.initial[0]:d.initial);w&&w.transition&&(x.transition=w.transition)}m.forEach(w=>{const S=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),x[w]=S??null}),h.push({animation:x})}let v=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function o(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,d)}),r[c].isActive=d;const p=s(c);for(const m in r)r[m].protectedKeys={};return p}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=uC()}}}function zX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tU(e,t):!1}function ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uC(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}function dC(t,e){t.min=e.min,t.max=e.max}function ti(t,e){dC(t.x,e.x),dC(t.y,e.y)}function fC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const rU=1e-4,VX=1-rU,WX=1+rU,nU=.01,HX=0-nU,KX=0+nU;function tn(t){return t.max-t.min}function GX(t,e,r){return Math.abs(t-e)<=r}function hC(t,e,r,n=.5){t.origin=n,t.originPoint=zt(e.min,e.max,t.origin),t.scale=tn(r)/tn(e),t.translate=zt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=VX&&t.scale<=WX||isNaN(t.scale))&&(t.scale=1),(t.translate>=HX&&t.translate<=KX||isNaN(t.translate))&&(t.translate=0)}function Td(t,e,r,n){hC(t.x,e.x,r.x,n?n.originX:void 0),hC(t.y,e.y,r.y,n?n.originY:void 0)}function pC(t,e,r){t.min=r.min+e.min,t.max=t.min+tn(e)}function QX(t,e,r){pC(t.x,e.x,r.x),pC(t.y,e.y,r.y)}function mC(t,e,r){t.min=e.min-r.min,t.max=t.min+tn(e)}function Om(t,e,r){mC(t.x,e.x,r.x),mC(t.y,e.y,r.y)}function gC(t,e,r,n,i){return t-=e,t=Tm(t,1/r,n),i!==void 0&&(t=Tm(t,1/i,n)),t}function YX(t,e=0,r=1,n=.5,i,a=t,s=t){if(Di.test(e)&&(e=parseFloat(e),e=zt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=zt(a.min,a.max,n);t===a&&(o-=e),t.min=gC(t.min,e,r,o,i),t.max=gC(t.max,e,r,o,i)}function yC(t,e,[r,n,i],a,s){YX(t,e[r],e[n],e[i],e.scale,a,s)}const XX=["x","scaleX","originX"],JX=["y","scaleY","originY"];function vC(t,e,r,n){yC(t.x,e,XX,r?r.x:void 0,n?n.x:void 0),yC(t.y,e,JX,r?r.y:void 0,n?n.y:void 0)}function xC(t){return t.translate===0&&t.scale===1}function iU(t){return xC(t.x)&&xC(t.y)}function bC(t,e){return t.min===e.min&&t.max===e.max}function ZX(t,e){return bC(t.x,e.x)&&bC(t.y,e.y)}function wC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aU(t,e){return wC(t.x,e.x)&&wC(t.y,e.y)}function _C(t){return tn(t.x)/tn(t.y)}function SC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Dn(t){return[t("x"),t("y")]}function eJ(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:p,rotateX:h,rotateY:m,skewX:g,skewY:b}=r;d&&(n=`perspective(${d}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const sU=["TopLeft","TopRight","BottomLeft","BottomRight"],tJ=sU.length,EC=t=>typeof t=="string"?parseFloat(t):t,jC=t=>typeof t=="number"||De.test(t);function rJ(t,e,r,n,i,a){i?(t.opacity=zt(0,r.opacity??1,nJ(n)),t.opacityExit=zt(e.opacity??1,0,iJ(n))):a&&(t.opacity=zt(e.opacity??1,r.opacity??1,n));for(let s=0;s<tJ;s++){const o=`border${sU[s]}Radius`;let c=AC(e,o),d=AC(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||jC(c)===jC(d)?(t[o]=Math.max(zt(EC(c),EC(d),n),0),(Di.test(d)||Di.test(c))&&(t[o]+="%")):t[o]=d}(e.rotate||r.rotate)&&(t.rotate=zt(e.rotate||0,r.rotate||0,n))}function AC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nJ=oU(0,.5,t3),iJ=oU(.5,.95,zn);function oU(t,e,r){return n=>n<t?0:n>e?1:r(Yd(t,e,n))}function aJ(t,e,r){const n=qr(t)?t:Sc(t);return n.start(Lj("",n,e,r)),n.animation}function ef(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const sJ=(t,e)=>t.depth-e.depth;class oJ{constructor(){this.children=[],this.isDirty=!1}add(e){bj(this.children,e),this.isDirty=!0}remove(e){wj(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sJ),this.isDirty=!1,this.children.forEach(e)}}function lJ(t,e){const r=en.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Ss(n),t(a-e))};return It.setup(n,!0),()=>Ss(n)}function rm(t){return qr(t)?t.get():t}class cJ{constructor(){this.members=[]}add(e){bj(this.members,e),e.scheduleRender()}remove(e){if(wj(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:o}=e.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ex=["","X","Y","Z"],uJ=1e3;let dJ=0;function tx(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function lU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=O3(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",It,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&lU(n)}function cU({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=dJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pJ),this.nodes.forEach(vJ),this.nodes.forEach(xJ),this.nodes.forEach(mJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oJ)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Ej),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=$3(s)&&!hX(s),this.instance=s;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let p,h=0;const m=()=>this.root.updateBlockedByResize=!1;It.read(()=>{h=window.innerWidth}),t(s,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,p&&p(),p=lJ(m,250),nm.hasAnimatedSinceResize&&(nm.hasAnimatedSinceResize=!1,this.nodes.forEach(kC)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||EJ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!aU(this.targetLayout,g),S=!h&&m;if(this.options.layoutRoot||this.resumeFrom||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Mj(b,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(p,S)}else h||kC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bJ),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yJ),this.nodes.forEach(fJ),this.nodes.forEach(hJ)):this.nodes.forEach(OC),this.clearAllSnapshots();const o=en.now();Nr.delta=$i(0,1e3/60,o-Nr.timestamp),Nr.timestamp=o,Nr.isProcessing=!0,H0.update.process(Nr),H0.preRender.process(Nr),H0.render.process(Nr),Nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gJ),this.sharedNodes.forEach(wJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,It.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){It.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!iU(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;s&&this.instance&&(o||oo(this.latestValues)||p)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),jJ(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:s}=this.options;if(!s)return hr();const o=s.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(AJ))){const{scroll:p}=this.root;p&&(Kl(o.x,p.offset.x),Kl(o.y,p.offset.y))}return o}removeElementScroll(s){var c;const o=hr();if(ti(o,s),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:h,options:m}=p;p!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ti(o,s),Kl(o.x,h.offset.x),Kl(o.y,h.offset.y))}return o}applyTransform(s,o=!1){const c=hr();ti(c,s);for(let d=0;d<this.path.length;d++){const p=this.path[d];!o&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Gl(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),oo(p.latestValues)&&Gl(c,p.latestValues)}return oo(this.latestValues)&&Gl(c,this.latestValues),c}removeTransform(s){const o=hr();ti(o,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!oo(d.latestValues))continue;l1(d.latestValues)&&d.updateSnapshot();const p=hr(),h=d.measurePageBox();ti(p,h),vC(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return oo(this.latestValues)&&vC(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!this.layout||!(p||h))return;this.resolvedRelativeTargetAt=Nr.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hr(),this.targetWithTransforms=hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),H3(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||l1(this.parent.latestValues)||W3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hr(),this.relativeTargetOrigin=hr(),Om(this.relativeTargetOrigin,o,c),ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Nr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;ti(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;EX(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=hr());const{target:g}=s;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fC(this.prevProjectionDelta.x,this.projectionDelta.x),fC(this.prevProjectionDelta.y,this.projectionDelta.y)),Td(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!SC(this.projectionDelta.x,this.prevProjectionDelta.x)||!SC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hl(),this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl()}setAnimationOrigin(s,o=!1){const c=this.snapshot,d=c?c.latestValues:{},p={...this.latestValues},h=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=hr(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,x=this.getStack(),w=!x||x.members.length<=1,S=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(SJ));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const j=T/1e3;PC(h.x,s.x,j),PC(h.y,s.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Om(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_J(this.relativeTarget,this.relativeTargetOrigin,m,j),E&&ZX(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=hr()),ti(E,this.relativeTarget)),v&&(this.animationValues=p,rJ(p,d,this.latestValues,j,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=It.update(()=>{nm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sc(0)),this.currentAnimation=aJ(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),s.onUpdate&&s.onUpdate(p)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:p}=s;if(!(!o||!c||!d)){if(this!==s&&this.layout&&d&&uU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||hr();const h=tn(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+h;const m=tn(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+m}ti(o,c),Gl(o,p),Td(this.projectionDeltaWithTransform,this.layoutCorrected,o,p)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new cJ),this.sharedNodes.get(s).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&tx("z",s,d,this.animationValues);for(let p=0;p<ex.length;p++)tx(`rotate${ex[p]}`,s,d,this.animationValues),tx(`skew${ex[p]}`,s,d,this.animationValues);s.render();for(const p in d)s.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=rm(o==null?void 0:o.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=rm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oo(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=eJ(this.projectionDeltaWithTransform,this.treeScale,p);c&&(h=c(p,h)),s.transform=h;const{x:m,y:g}=this.projectionDelta;s.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?s.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:s.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in u1){if(p[b]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:w}=u1[b],S=h==="none"?p[b]:v(p[b],d);if(x){const E=x.length;for(let T=0;T<E;T++)s[x[T]]=S}else w?this.options.visualElement.renderState.vars[b]=S:s[b]=S}this.options.layoutId&&(s.pointerEvents=d===this?rm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(TC),this.root.sharedNodes.clear()}}}function fJ(t){t.updateLayout()}function hJ(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,s=e.source!==t.layout.source;a==="size"?Dn(h=>{const m=s?e.measuredBox[h]:e.layoutBox[h],g=tn(m);m.min=n[h].min,m.max=m.min+g}):uU(a,e.layoutBox,n)&&Dn(h=>{const m=s?e.measuredBox[h]:e.layoutBox[h],g=tn(n[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const o=Hl();Td(o,n,e.layoutBox);const c=Hl();s?Td(c,t.applyTransform(i,!0),e.measuredBox):Td(c,n,e.layoutBox);const d=!iU(o);let p=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const b=hr();Om(b,e.layoutBox,m.layoutBox);const v=hr();Om(v,n,g.layoutBox),aU(b,v)||(p=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function pJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gJ(t){t.clearSnapshot()}function TC(t){t.clearMeasurements()}function OC(t){t.isLayoutDirty=!1}function yJ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vJ(t){t.resolveTargetDelta()}function xJ(t){t.calcProjection()}function bJ(t){t.resetSkewAndRotation()}function wJ(t){t.removeLeadSnapshot()}function PC(t,e,r){t.translate=zt(e.translate,0,r),t.scale=zt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function NC(t,e,r,n){t.min=zt(e.min,r.min,n),t.max=zt(e.max,r.max,n)}function _J(t,e,r,n){NC(t.x,e.x,r.x,n),NC(t.y,e.y,r.y,n)}function SJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EJ={duration:.45,ease:[.4,0,.1,1]},CC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),RC=CC("applewebkit/")&&!CC("chrome/")?Math.round:zn;function IC(t){t.min=RC(t.min),t.max=RC(t.max)}function jJ(t){IC(t.x),IC(t.y)}function uU(t,e,r){return t==="position"||t==="preserve-aspect"&&!GX(_C(e),_C(r),.2)}function AJ(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const TJ=cU({attachResizeListener:(t,e)=>ef(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),rx={current:void 0},dU=cU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rx.current){const t=new TJ({});t.mount(window),t.setOptions({layoutScroll:!0}),rx.current=t}return rx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Kj=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function DC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OJ(...t){return e=>{let r=!1;const n=t.map(i=>{const a=DC(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():DC(t[i],null)}}}}function kJ(...t){return M.useCallback(OJ(...t),t)}class PJ extends M.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=s1(n)&&n.offsetWidth||0,a=s1(n)&&n.offsetHeight||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left,s.bottom=a-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function NJ({children:t,isPresent:e,anchorX:r,anchorY:n,root:i}){var h;const a=M.useId(),s=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=M.useContext(Kj),d=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),p=kJ(s,d);return M.useInsertionEffect(()=>{const{width:m,height:g,top:b,left:v,right:x,bottom:w}=o.current;if(e||!s.current||!m||!g)return;const S=r==="left"?`left: ${v}`:`right: ${x}`,E=n==="bottom"?`bottom: ${w}`:`top: ${b}`;s.current.dataset.motionPopId=a;const T=document.createElement("style");c&&(T.nonce=c);const j=i??document.head;return j.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${S}px !important;
            ${E}px !important;
          }
        `),()=>{j.contains(T)&&j.removeChild(T)}},[e]),f.jsx(PJ,{isPresent:e,childRef:s,sizeRef:o,children:M.cloneElement(t,{ref:p})})}const CJ=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,anchorY:c,root:d})=>{const p=xj(RJ),h=M.useId();let m=!0,g=M.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:i,onExitComplete:b=>{p.set(b,!0);for(const v of p.values())if(!v)return;n&&n()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,n]);return a&&m&&(g={...g}),M.useMemo(()=>{p.forEach((b,v)=>p.set(v,!1))},[r]),M.useEffect(()=>{!r&&!p.size&&n&&n()},[r]),s==="popLayout"&&(t=f.jsx(NJ,{isPresent:r,anchorX:o,anchorY:c,root:d,children:t})),f.jsx(Xg.Provider,{value:g,children:t})};function RJ(){return new Map}function fU(t=!0){const e=M.useContext(Xg);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=M.useId();M.useEffect(()=>{if(t)return i(a)},[t]);const s=M.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,s]:[!0]}const kp=t=>t.key||"";function MC(t){const e=[];return M.Children.forEach(t,r=>{M.isValidElement(r)&&e.push(r)}),e}const Od=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",anchorY:c="top",root:d})=>{const[p,h]=fU(s),m=M.useMemo(()=>MC(t),[t]),g=s&&!p?[]:m.map(kp),b=M.useRef(!0),v=M.useRef(m),x=xj(()=>new Map),w=M.useRef(new Set),[S,E]=M.useState(m),[T,j]=M.useState(m);V$(()=>{b.current=!1,v.current=m;for(let R=0;R<T.length;R++){const I=kp(T[R]);g.includes(I)?(x.delete(I),w.current.delete(I)):x.get(I)!==!0&&x.set(I,!1)}},[T,g.length,g.join("-")]);const O=[];if(m!==S){let R=[...m];for(let I=0;I<T.length;I++){const q=T[I],U=kp(q);g.includes(U)||(R.splice(I,0,q),O.push(q))}return a==="wait"&&O.length&&(R=O),j(MC(R)),E(m),null}const{forceRender:N}=M.useContext(vj);return f.jsx(f.Fragment,{children:T.map(R=>{const I=kp(R),q=s&&!p?!1:m===T||g.includes(I),U=()=>{if(w.current.has(I))return;if(w.current.add(I),x.has(I))x.set(I,!0);else return;let D=!0;x.forEach(B=>{B||(D=!1)}),D&&(N==null||N(),j(v.current),s&&(h==null||h()),n&&n())};return f.jsx(CJ,{isPresent:q,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:q?void 0:U,anchorX:o,anchorY:c,children:R},I)})})},hU=M.createContext({strict:!1}),LC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let FC=!1;function IJ(){if(FC)return;const t={};for(const e in LC)t[e]={isEnabled:r=>LC[e].some(n=>!!r[n])};q3(t),FC=!0}function pU(){return IJ(),bX()}function DJ(t){const e=pU();for(const r in t)e[r]={...e[r],...t[r]};q3(e)}const MJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MJ.has(t)}let mU=t=>!km(t);function LJ(t){typeof t=="function"&&(mU=e=>e.startsWith("on")?!km(e):t(e))}try{LJ(require("@emotion/is-prop-valid").default)}catch{}function FJ(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(mU(i)||r===!0&&km(i)||!e&&!km(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const ey=M.createContext({});function $J(t,e){if(Zg(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Zd(r)?r:void 0,animate:Zd(n)?n:void 0}}return t.inherit!==!1?e:{}}function UJ(t){const{initial:e,animate:r}=$J(t,M.useContext(ey));return M.useMemo(()=>({initial:e,animate:r}),[$C(e),$C(r)])}function $C(t){return Array.isArray(t)?t.join(" "):t}const Gj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gU(t,e,r){for(const n in e)!qr(e[n])&&!Q3(n,r)&&(t[n]=e[n])}function BJ({transformTemplate:t},e){return M.useMemo(()=>{const r=Gj();return Wj(r,e,t),Object.assign({},r.vars,r.style)},[e])}function qJ(t,e){const r=t.style||{},n={};return gU(n,r,t),Object.assign(n,BJ(t,e)),n}function zJ(t,e){const r={},n=qJ(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const yU=()=>({...Gj(),attrs:{}});function VJ(t,e,r,n){const i=M.useMemo(()=>{const a=yU();return Y3(a,e,J3(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};gU(a,t.style,t),i.style={...a,...i.style}}return i}const WJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qj(t){return typeof t!="string"||t.includes("-")?!1:!!(WJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function HJ(t,e,r,{latestValues:n},i,a=!1,s){const c=(s??Qj(t)?VJ:zJ)(e,n,i,t),d=FJ(e,typeof t=="string",a),p=t!==M.Fragment?{...d,...c,ref:r}:{},{children:h}=e,m=M.useMemo(()=>qr(h)?h.get():h,[h]);return M.createElement(t,{...p,children:m})}function KJ({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:GJ(r,n,i,t),renderState:e()}}function GJ(t,e,r,n){const i={},a=n(t,{});for(const m in a)i[m]=rm(a[m]);let{initial:s,animate:o}=t;const c=Zg(t),d=B3(t);e&&d&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let p=r?r.initial===!1:!1;p=p||s===!1;const h=p?o:s;if(h&&typeof h!="boolean"&&!Jg(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const b=Fj(t,m[g]);if(b){const{transitionEnd:v,transition:x,...w}=b;for(const S in w){let E=w[S];if(Array.isArray(E)){const T=p?E.length-1:0;E=E[T]}E!==null&&(i[S]=E)}for(const S in v)i[S]=v[S]}}}return i}const vU=t=>(e,r)=>{const n=M.useContext(ey),i=M.useContext(Xg),a=()=>KJ(t,e,n,i);return r?a():xj(a)},QJ=vU({scrapeMotionValuesFromProps:Hj,createRenderState:Gj}),YJ=vU({scrapeMotionValuesFromProps:Z3,createRenderState:yU}),XJ=Symbol.for("motionComponentSymbol");function JJ(t,e,r){const n=M.useRef(r);M.useInsertionEffect(()=>{n.current=r});const i=M.useRef(null);return M.useCallback(a=>{var o;a&&((o=t.onMount)==null||o.call(t,a)),e&&(a?e.mount(a):e.unmount());const s=n.current;if(typeof s=="function")if(a){const c=s(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):s(a);else s&&(s.current=a)},[e])}const xU=M.createContext({});function xd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZJ(t,e,r,n,i,a){var w,S;const{visualElement:s}=M.useContext(ey),o=M.useContext(hU),c=M.useContext(Xg),d=M.useContext(Kj).reducedMotion,p=M.useRef(null),h=M.useRef(!1);n=n||o.renderer,!p.current&&n&&(p.current=n(t,{visualState:e,parent:s,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d,isSVG:a}),h.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const m=p.current,g=M.useContext(xU);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&eZ(p.current,r,i,g);const b=M.useRef(!1);M.useInsertionEffect(()=>{m&&b.current&&m.update(r,c)});const v=r[T3],x=M.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,v)));return V$(()=>{h.current=!0,m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),M.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),x.current=!1),m.enteringChildren=void 0)}),m}function eZ(t,e,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:bU(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&xd(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:c,layoutRoot:d})}function bU(t){if(t)return t.options.allowProjection!==!1?t.projection:bU(t.parent)}function nx(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&DJ(n);const a=r?r==="svg":Qj(t),s=a?YJ:QJ;function o(d,p){let h;const m={...M.useContext(Kj),...d,layoutId:tZ(d)},{isStatic:g}=m,b=UJ(d),v=s(d,g);if(!g&&z$){rZ();const x=nZ(m);h=x.MeasureLayout,b.visualElement=ZJ(t,v,m,i,x.ProjectionNode,a)}return f.jsxs(ey.Provider,{value:b,children:[h&&b.visualElement?f.jsx(h,{visualElement:b.visualElement,...m}):null,HJ(t,d,JJ(v,b.visualElement,p),v,g,e,a)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=M.forwardRef(o);return c[XJ]=t,c}function tZ({layoutId:t}){const e=M.useContext(vj).id;return e&&t!==void 0?e+"-"+t:t}function rZ(t,e){M.useContext(hU).strict}function nZ(t){const e=pU(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function iZ(t,e){if(typeof Proxy>"u")return nx;const r=new Map,n=(a,s)=>nx(a,s,t,e),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(r.has(s)||r.set(s,nx(s,void 0,t,e)),r.get(s))})}const aZ=(t,e)=>e.isSVG??Qj(t)?new LX(e):new NX(e,{allowProjection:t!==M.Fragment});class sZ extends Ps{constructor(e){super(e),e.animationState||(e.animationState=qX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oZ=0;class lZ extends Ps{constructor(){super(...arguments),this.id=oZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cZ={animation:{Feature:sZ},exit:{Feature:lZ}};function Kf(t){return{point:{x:t.pageX,y:t.pageY}}}const uZ=t=>e=>qj(e)&&t(e,Kf(e));function kd(t,e,r,n){return ef(t,e,uZ(r),n)}const wU=({current:t})=>t?t.ownerDocument.defaultView:null,UC=(t,e)=>Math.abs(t-e);function dZ(t,e){const r=UC(t.x,e.x),n=UC(t.y,e.y);return Math.sqrt(r**2+n**2)}const BC=new Set(["auto","scroll"]);class _U{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ax(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=dZ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:x}=g,{timestamp:w}=Nr;this.history.push({...x,timestamp:w});const{onStart:S,onMove:E}=this.handlers;b||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ix(b,this.transformPagePoint),It.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ax(g.type==="pointercancel"?this.lastMoveEventInfo:ix(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,S),x&&x(g,S)},!qj(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const c=Kf(e),d=ix(c,this.transformPagePoint),{point:p}=d,{timestamp:h}=Nr;this.history=[{...p,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,ax(d,this.history)),this.removeListeners=Vf(kd(this.contextWindow,"pointermove",this.handlePointerMove),kd(this.contextWindow,"pointerup",this.handlePointerUp),kd(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(BC.has(n.overflowX)||BC.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-r.x,y:i.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),It.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ss(this.updatePoint)}}function ix(t,e){return e?{point:e(t.point)}:t}function qC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ax({point:t},e){return{point:t,delta:qC(t,SU(e)),offset:qC(t,fZ(e)),velocity:hZ(e,.1)}}function fZ(t){return t[0]}function SU(t){return t[t.length-1]}function hZ(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=SU(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ga(e)));)r--;if(!n)return{x:0,y:0};const a=$n(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function pZ(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?zt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?zt(r,t,n.max):Math.min(t,r)),t}function zC(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function mZ(t,{top:e,left:r,bottom:n,right:i}){return{x:zC(t.x,r,i),y:zC(t.y,e,n)}}function VC(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function gZ(t,e){return{x:VC(t.x,e.x),y:VC(t.y,e.y)}}function yZ(t,e){let r=.5;const n=tn(t),i=tn(e);return i>n?r=Yd(e.min,e.max-n,t.min):n>i&&(r=Yd(t.min,t.max-i,e.min)),$i(0,1,r)}function vZ(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const d1=.35;function xZ(t=d1){return t===!1?t=0:t===!0&&(t=d1),{x:WC(t,"left","right"),y:WC(t,"top","bottom")}}function WC(t,e,r){return{min:HC(t,e),max:HC(t,r)}}function HC(t,e){return typeof t=="number"?t:t[e]||0}const bZ=new WeakMap;class wZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{r?(this.stopAnimation(),this.snapToCursor(Kf(h).point)):this.pauseAnimation()},s=(h,m)=>{this.stopAnimation();const{drag:g,dragPropagation:b,onDragStart:v}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lX(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(w=>{let S=this.getAxisMotionValue(w).get()||0;if(Di.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[w];T&&(S=tn(T)*(parseFloat(S)/100))}}this.originPoint[w]=S}),v&&It.postRender(()=>v(h,m)),n1(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:v,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=m;if(b&&this.currentDirection===null){this.currentDirection=_Z(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),x&&x(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Dn(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new _U(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:wU(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&It.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Pp(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=pZ(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&xd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=mZ(n.layoutBox,e):this.constraints=!1,this.elastic=xZ(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Dn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=vZ(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!xd(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=jX(n,i.root,this.visualElement.getTransformPagePoint());let s=gZ(i.layout.layoutBox,a);if(r){const o=r(_X(s));this.hasMutatedConstraints=!!o,o&&(s=V3(o))}return s}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=Dn(p=>{if(!Pp(p,r,this.currentDirection))return;let h=c&&c[p]||{};s&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:n?e[p]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(p,b)});return Promise.all(d).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n1(this.visualElement,e),n.start(Lj(e,n,0,r,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Dn(r=>{const{drag:n}=this.getProps();if(!Pp(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[r],c=a.get()||0;a.set(e[r]-zt(s,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!xd(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Dn(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const c=o.get();i[s]=yZ({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dn(s=>{if(!Pp(s,e,null))return;const o=this.getAxisMotionValue(s),{min:c,max:d}=this.constraints[s];o.set(zt(c,d,i[s]))})}addListeners(){if(!this.visualElement.current)return;bZ.set(this.visualElement,this);const e=this.visualElement.current,r=kd(e,"pointerdown",c=>{const{drag:d,dragListener:p=!0}=this.getProps(),h=c.target,m=h!==e&&F3(h);d&&p&&!m&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();xd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),It.read(n);const s=ef(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Dn(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=c[p].translate,h.set(h.get()+c[p].translate))}),this.visualElement.render())}));return()=>{s(),r(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=d1,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Pp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function _Z(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class SZ extends Ps{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new wZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const KC=t=>(e,r)=>{t&&It.postRender(()=>t(e,r))};class EZ extends Ps{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new _U(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:KC(e),onStart:KC(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&It.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=kd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sx=!1;class jZ extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),sx&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,e.layoutDependency!==r&&s.setOptions({...s.options,layoutDependency:r}),sx=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||It.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;sx=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EU(t){const[e,r]=fU(),n=M.useContext(vj);return f.jsx(jZ,{...t,layoutGroup:n,switchLayoutGroup:M.useContext(xU),isPresent:e,safeToRemove:r})}const AZ={pan:{Feature:EZ},drag:{Feature:SZ,ProjectionNode:dU,MeasureLayout:EU}};function GC(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&It.postRender(()=>a(e,Kf(e)))}class TZ extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=cX(e,(r,n)=>(GC(this.node,n,"Start"),i=>GC(this.node,i,"End"))))}unmount(){}}class OZ extends Ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vf(ef(this.node.current,"focus",()=>this.onFocus()),ef(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QC(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&It.postRender(()=>a(e,Kf(e)))}class kZ extends Ps{mount(){const{current:e}=this.node;e&&(this.unmount=fX(e,(r,n)=>(QC(this.node,n,"Start"),(i,{success:a})=>QC(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const f1=new WeakMap,ox=new WeakMap,PZ=t=>{const e=f1.get(t.target);e&&e(t)},NZ=t=>{t.forEach(PZ)};function CZ({root:t,...e}){const r=t||document;ox.has(r)||ox.set(r,{});const n=ox.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(NZ,{root:t,...e})),n[i]}function RZ(t,e,r){const n=CZ(e);return f1.set(t,r),n.observe(t),()=>{f1.delete(t),n.unobserve(t)}}const IZ={some:0,all:1};class DZ extends Ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:IZ[i]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),m=d?p:h;m&&m(c)};return RZ(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(MZ(e,r))&&this.startObserver()}unmount(){}}function MZ({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const LZ={inView:{Feature:DZ},tap:{Feature:kZ},focus:{Feature:OZ},hover:{Feature:TZ}},FZ={layout:{ProjectionNode:dU,MeasureLayout:EU}},$Z={...cZ,...LZ,...AZ,...FZ},ze=iZ($Z,aZ);function UZ(){const{user:t,signIn:e,loading:r}=Sr(),[n,i]=M.useState(""),[a,s]=M.useState(""),[o,c]=M.useState(!1),[d,p]=M.useState(!1);if(t&&!r)return f.jsx(ki,{to:"/dashboard",replace:!0});const h=async m=>{if(m.preventDefault(),!d){p(!0);try{await e(n,a)}catch(g){console.error("Login error:",g)}finally{p(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"OrPaynter"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-200 mb-6",children:"Welcome back"}),f.jsx("p",{className:"text-gray-400",children:"Sign in to your account"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($o,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n,onChange:m=>i(m.target.value),className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wc,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:a,onChange:m=>s(m.target.value),className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:d||r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Sign in"})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",f.jsx(bs,{to:"/signup",className:"font-medium text-purple-400 hover:text-purple-300 transition-colors",children:"Sign up"})]})})]})]})})})}function BZ(){const{user:t,signUp:e,loading:r}=Sr(),[n,i]=M.useState({email:"",password:"",confirmPassword:"",fullName:"",company:"",phone:"",userRole:"property_owner",licenseType:"basic"}),[a,s]=M.useState(!1),[o,c]=M.useState(!1),[d,p]=M.useState(!1),[h,m]=M.useState({});if(t&&!r)return f.jsx(ki,{to:"/dashboard",replace:!0});const g=x=>{const{name:w,value:S}=x.target;i(E=>({...E,[w]:S})),h[w]&&m(E=>({...E,[w]:""}))},b=()=>{const x={};return n.email||(x.email="Email is required"),n.password||(x.password="Password is required"),n.password.length<6&&(x.password="Password must be at least 6 characters"),n.password!==n.confirmPassword&&(x.confirmPassword="Passwords do not match"),n.fullName||(x.fullName="Full name is required"),m(x),Object.keys(x).length===0},v=async x=>{if(x.preventDefault(),!(d||!b())){p(!0);try{const w={full_name:n.fullName,company:n.company,phone:n.phone,user_role:n.userRole,license_type:n.licenseType};await e(n.email,n.password,w)}catch(w){console.error("Signup error:",w)}finally{p(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 shadow-2xl",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"OrPaynter"}),f.jsx("h2",{className:"text-xl font-semibold text-gray-200 mb-6",children:"Create your account"}),f.jsx("p",{className:"text-gray-400",children:"Join thousands of roofing professionals"})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(zS,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:n.fullName,onChange:g,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name"})]}),h.fullName&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.fullName})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email address *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($o,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:g,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email"})]}),h.email&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.email})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-2",children:"Company"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(L$,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"company",name:"company",type:"text",value:n.company,onChange:g,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your company name"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"userRole",className:"block text-sm font-medium text-gray-300 mb-2",children:"Role"}),f.jsxs("select",{id:"userRole",name:"userRole",value:n.userRole,onChange:g,className:"block w-full px-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[f.jsx("option",{value:"property_owner",children:"Property Owner"}),f.jsx("option",{value:"contractor",children:"Contractor"}),f.jsx("option",{value:"insurance_adjuster",children:"Insurance Adjuster"}),f.jsx("option",{value:"public_adjuster",children:"Public Adjuster"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wc,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"password",name:"password",type:a?"text":"password",required:!0,value:n.password,onChange:g,className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password"}),f.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]}),h.password&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.password})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wc,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:n.confirmPassword,onChange:g,className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password"}),f.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]}),h.confirmPassword&&f.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.confirmPassword})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:d||r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"})}),f.jsx("div",{className:"text-center",children:f.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",f.jsx(bs,{to:"/login",className:"font-medium text-purple-400 hover:text-purple-300 transition-colors",children:"Sign in"})]})})]})]})})})}function qZ(){const t=Bi(),{refreshSession:e}=Sr(),[r,n]=M.useState("loading"),[i,a]=M.useState("Processing authentication...");return M.useEffect(()=>{async function s(){var o;try{const c=new URLSearchParams(window.location.hash.substring(1)),d=c.get("access_token"),p=c.get("refresh_token");if(c.get("type")==="signup"&&d&&p){a("Confirming your email...");const{data:m,error:g}=await lt.auth.setSession({access_token:d,refresh_token:p});if(g){console.error("Session setting error:",g),n("error"),a(`Authentication failed: ${g.message}`),setTimeout(()=>t("/login"),3e3);return}if((o=m.session)!=null&&o.user){const{error:b}=await lt.from("profiles").upsert({user_id:m.session.user.id,email:m.session.user.email,full_name:m.session.user.user_metadata.full_name||"",company:m.session.user.user_metadata.company||"",phone:m.session.user.user_metadata.phone||"",user_role:m.session.user.user_metadata.user_role||"property_owner",license_type:m.session.user.user_metadata.license_type||"basic",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});b&&console.error("Profile creation error:",b),await e(),n("success"),a("Email confirmed successfully! Redirecting to dashboard..."),setTimeout(()=>t("/dashboard"),2e3)}}else{const{data:m,error:g}=await lt.auth.getSession();if(g){n("error"),a(`Authentication error: ${g.message}`),setTimeout(()=>t("/login"),3e3);return}m.session?(await e(),n("success"),a("Successfully authenticated! Redirecting..."),setTimeout(()=>t("/dashboard"),2e3)):(n("error"),a("No authentication session found"),setTimeout(()=>t("/login"),3e3))}}catch(c){console.error("Auth callback error:",c),n("error"),a("Authentication failed"),setTimeout(()=>t("/login"),3e3)}}s()},[t,e]),f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:f.jsxs(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8 max-w-md w-full mx-4 text-center",children:[f.jsxs("div",{className:"mb-6",children:[r==="loading"&&f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),r==="success"&&f.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r==="error"&&f.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Authentication"}),f.jsx("p",{className:"text-gray-300",children:i}),r==="error"&&f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:()=>t("/login"),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Go to Login"})})]})})}function jU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=jU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function nt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=jU(t))&&(n&&(n+=" "),n+=e);return n}const Yj="-",zZ=t=>{const e=WZ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const o=s.split(Yj);return o[0]===""&&o.length!==1&&o.shift(),AU(o,e)||VZ(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},AU=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?AU(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Yj);return(s=e.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},YC=/^\[(.+)\]$/,VZ=t=>{if(YC.test(t)){const e=YC.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},WZ=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return KZ(Object.entries(t.classGroups),r).forEach(([a,s])=>{h1(s,n,a,e)}),n},h1=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:XC(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(HZ(i)){h1(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{h1(s,XC(e,a),r,n)})})},XC=(t,e)=>{let r=t;return e.split(Yj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},HZ=t=>t.isThemeGetter,KZ=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[e+s,o])):a);return[r,i]}):t,GZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},TU="!",QZ=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,s=o=>{const c=[];let d=0,p=0,h;for(let x=0;x<o.length;x++){let w=o[x];if(d===0){if(w===i&&(n||o.slice(x,x+a)===e)){c.push(o.slice(p,x)),p=x+a;continue}if(w==="/"){h=x;continue}}w==="["?d++:w==="]"&&d--}const m=c.length===0?o:o.substring(p),g=m.startsWith(TU),b=g?m.substring(1):m,v=h&&h>p?h-p:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:s}):s},YZ=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},XZ=t=>({cache:GZ(t.cacheSize),parseClassName:QZ(t),...zZ(t)}),JZ=/\s+/,ZZ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],s=t.trim().split(JZ);let o="";for(let c=s.length-1;c>=0;c-=1){const d=s[c],{modifiers:p,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=r(d);let b=!!g,v=n(b?m.substring(0,g):m);if(!v){if(!b){o=d+(o.length>0?" "+o:o);continue}if(v=n(m),!v){o=d+(o.length>0?" "+o:o);continue}b=!1}const x=YZ(p).join(":"),w=h?x+TU:x,S=w+v;if(a.includes(S))continue;a.push(S);const E=i(v,b);for(let T=0;T<E.length;++T){const j=E[T];a.push(w+j)}o=d+(o.length>0?" "+o:o)}return o};function eee(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=OU(e))&&(n&&(n+=" "),n+=r);return n}const OU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=OU(t[n]))&&(r&&(r+=" "),r+=e);return r};function tee(t,...e){let r,n,i,a=s;function s(c){const d=e.reduce((p,h)=>h(p),t());return r=XZ(d),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const d=n(c);if(d)return d;const p=ZZ(c,r);return i(c,p),p}return function(){return a(eee.apply(null,arguments))}}const Ct=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},kU=/^\[(?:([a-z-]+):)?(.+)\]$/i,ree=/^\d+\/\d+$/,nee=new Set(["px","full","screen"]),iee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,see=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,na=t=>ic(t)||nee.has(t)||ree.test(t),Za=t=>nu(t,"length",gee),ic=t=>!!t&&!Number.isNaN(Number(t)),lx=t=>nu(t,"number",ic),sd=t=>!!t&&Number.isInteger(Number(t)),cee=t=>t.endsWith("%")&&ic(t.slice(0,-1)),it=t=>kU.test(t),es=t=>iee.test(t),uee=new Set(["length","size","percentage"]),dee=t=>nu(t,uee,PU),fee=t=>nu(t,"position",PU),hee=new Set(["image","url"]),pee=t=>nu(t,hee,vee),mee=t=>nu(t,"",yee),od=()=>!0,nu=(t,e,r)=>{const n=kU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},gee=t=>aee.test(t)&&!see.test(t),PU=()=>!1,yee=t=>oee.test(t),vee=t=>lee.test(t),xee=()=>{const t=Ct("colors"),e=Ct("spacing"),r=Ct("blur"),n=Ct("brightness"),i=Ct("borderColor"),a=Ct("borderRadius"),s=Ct("borderSpacing"),o=Ct("borderWidth"),c=Ct("contrast"),d=Ct("grayscale"),p=Ct("hueRotate"),h=Ct("invert"),m=Ct("gap"),g=Ct("gradientColorStops"),b=Ct("gradientColorStopPositions"),v=Ct("inset"),x=Ct("margin"),w=Ct("opacity"),S=Ct("padding"),E=Ct("saturate"),T=Ct("scale"),j=Ct("sepia"),O=Ct("skew"),N=Ct("space"),R=Ct("translate"),I=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",it,e],D=()=>[it,e],B=()=>["",na,Za],V=()=>["auto",ic,it],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",it],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ic,it];return{cacheSize:500,separator:":",theme:{colors:[od],spacing:[na,Za],blur:["none","",es,it],brightness:W(),borderColor:[t],borderRadius:["none","","full",es,it],borderSpacing:D(),borderWidth:B(),contrast:W(),grayscale:oe(),hueRotate:W(),invert:oe(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[cee,Za],inset:U(),margin:U(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:oe(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),it]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sd,it]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",sd,it]}],"grid-cols":[{"grid-cols":[od]}],"col-start-end":[{col:["auto",{span:["full",sd,it]},it]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[od]}],"row-start-end":[{row:["auto",{span:[sd,it]},it]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,e]}],"min-w":[{"min-w":[it,e,"min","max","fit"]}],"max-w":[{"max-w":[it,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[it,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Za]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lx]}],"font-family":[{font:[od]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",ic,lx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",na,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",na,Za]}],"underline-offset":[{"underline-offset":["auto",na,it]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),fee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pee]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[na,it]}],"outline-w":[{outline:[na,Za]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[na,Za]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,mee]}],"shadow-color":[{shadow:[od]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,it]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[sd,it]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[na,Za,lx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bee=tee(xee);function cx(...t){return bee(nt(t))}function p1(t){const r=t.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return r?"("+r[1]+") "+r[2]+"-"+r[3]:t}function da(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function wee(){return["Under $5,000","$5,000 - $10,000","$10,000 - $20,000","$20,000 - $50,000","$50,000+","Insurance will cover"]}function _ee(){return["Immediately (Emergency)","Within 1 week","Within 2 weeks","Within 1 month","Within 3 months","Planning for next year"]}function See(){return["Asphalt Shingles","Metal Roofing","Tile (Clay/Concrete)","Slate","Wood Shingles/Shakes","Flat/Built-up Roof","Not Sure"]}const JC=[{name:"Command Center",href:"/command-center",icon:zr},{name:"Dashboard",href:"/dashboard",icon:QG},{name:"Projects",href:"/projects",icon:Jp},{name:"Analytics",href:"/analytics",icon:wm},{name:"Referrals",href:"/referrals",icon:Bo},{name:"AI Agents",href:"/ai-agents",icon:IG},{name:"Billing",href:"/billing",icon:dj},{name:"Settings",href:"/settings",icon:U$}];function ri({children:t}){const{user:e,profile:r,signOut:n}=Sr(),i=Qo(),[a,s]=M.useState(!1),o=async()=>{await n()};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[f.jsxs("div",{className:cx("fixed inset-0 z-40 lg:hidden",a?"block":"hidden"),children:[f.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),f.jsxs("nav",{className:"fixed top-0 left-0 bottom-0 flex flex-col w-5/6 max-w-sm bg-white/10 backdrop-blur-sm border-r border-white/20",children:[f.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-white/20",children:[f.jsx("h1",{className:"text-xl font-bold text-white",children:"OrPaynter"}),f.jsx("button",{onClick:()=>s(!1),className:"p-2 text-gray-400 hover:text-white",children:f.jsx(Yg,{className:"h-6 w-6"})})]}),f.jsx("div",{className:"flex-1 px-4 py-4 space-y-2",children:JC.map(c=>{const d=i.pathname===c.href;return f.jsxs(bs,{to:c.href,onClick:()=>s(!1),className:cx("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",d?"bg-purple-600/50 text-white border border-purple-500/50":"text-gray-300 hover:bg-white/10 hover:text-white"),children:[f.jsx(c.icon,{className:"mr-3 h-5 w-5"}),c.name]},c.name)})}),f.jsx("div",{className:"px-4 py-4 border-t border-white/20",children:f.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-300 rounded-lg hover:bg-white/10 hover:text-white transition-colors",children:[f.jsx(BS,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})]}),f.jsx("nav",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:f.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto bg-white/10 backdrop-blur-sm border-r border-white/20",children:[f.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:f.jsx("h1",{className:"text-xl font-bold text-white",children:"OrPaynter"})}),f.jsxs("div",{className:"flex flex-col flex-1 mt-5",children:[f.jsx("nav",{className:"flex-1 px-4 space-y-2",children:JC.map(c=>{const d=i.pathname===c.href;return f.jsxs(bs,{to:c.href,className:cx("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",d?"bg-purple-600/50 text-white border border-purple-500/50":"text-gray-300 hover:bg-white/10 hover:text-white"),children:[f.jsx(c.icon,{className:"mr-3 h-5 w-5"}),c.name]},c.name)})}),f.jsxs("div",{className:"px-4 py-4 border-t border-white/20",children:[f.jsxs("div",{className:"mb-4 p-3 bg-white/5 rounded-lg",children:[f.jsx("p",{className:"text-sm text-gray-300",children:"Welcome back,"}),f.jsx("p",{className:"font-medium text-white",children:(r==null?void 0:r.full_name)||(e==null?void 0:e.email)})]}),f.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-300 rounded-lg hover:bg-white/10 hover:text-white transition-colors",children:[f.jsx(BS,{className:"mr-3 h-5 w-5"}),"Sign Out"]})]})]})]})}),f.jsxs("div",{className:"lg:pl-64",children:[f.jsxs("div",{className:"flex items-center h-16 px-4 bg-white/5 backdrop-blur-sm border-b border-white/10 lg:px-6",children:[f.jsx("button",{onClick:()=>s(!0),className:"p-2 text-gray-400 hover:text-white lg:hidden",children:f.jsx(ZG,{className:"h-6 w-6"})}),f.jsx("div",{className:"flex items-center justify-between flex-1 ml-4 lg:ml-0",children:f.jsx("div",{children:f.jsx("h2",{className:"text-lg font-medium text-white capitalize",children:i.pathname.slice(1)||"dashboard"})})})]}),f.jsx("main",{className:"flex-1",children:f.jsx("div",{className:"p-4 lg:p-6",children:t})})]})]})}function Eee(){const{user:t,profile:e}=Sr(),[r,n]=M.useState({totalProjects:0,totalSavings:0,assessmentsDone:0,contractorsMatched:0,activeReferrals:0,thisMonthProjects:0}),[i,a]=M.useState([]),[s,o]=M.useState(!0);M.useEffect(()=>{t&&c()},[t]);async function c(){var g,b;try{const{data:v}=await lt.from("projects").select("*").eq("user_id",t==null?void 0:t.id),{data:x}=await lt.from("referrals").select("*").eq("referrer_id",t==null?void 0:t.id),{data:w}=await lt.from("damage_assessments").select("*").limit(10),S=(v==null?void 0:v.length)||0,E=(v==null?void 0:v.reduce((q,U)=>q+(U.total_value||0),0))||0,T=(w==null?void 0:w.length)||8,j=((g=x==null?void 0:x.filter(q=>q.status==="active"))==null?void 0:g.length)||0,O=12,N=new Date;N.setDate(1);const R=((b=v==null?void 0:v.filter(q=>new Date(q.created_at)>=N))==null?void 0:b.length)||0;n({totalProjects:S,totalSavings:E,assessmentsDone:T,contractorsMatched:O,activeReferrals:j,thisMonthProjects:R});const I=[{id:"1",type:"project",description:"New roofing project created for 123 Main St",timestamp:new Date(Date.now()-7200*1e3).toISOString(),status:"completed"},{id:"2",type:"assessment",description:"AI damage assessment completed with 94% confidence",timestamp:new Date(Date.now()-14400*1e3).toISOString(),status:"completed"},{id:"3",type:"referral",description:"New referral from John Smith accepted",timestamp:new Date(Date.now()-360*60*1e3).toISOString(),status:"pending"},{id:"4",type:"contractor",description:"Matched with 3 qualified contractors in your area",timestamp:new Date(Date.now()-480*60*1e3).toISOString(),status:"completed"},{id:"5",type:"analytics",description:"Weekly performance report generated",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),status:"completed"}];a(I)}catch(v){console.error("Error loading dashboard data:",v)}finally{o(!1)}}const d=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),p=g=>{const b=Date.now()-new Date(g).getTime(),v=Math.floor(b/(1e3*60*60)),x=Math.floor(v/24);return x>0?`${x}d ago`:v>0?`${v}h ago`:"Just now"},h=g=>{switch(g){case"project":return Jp;case"assessment":return qn;case"referral":return Bo;case"contractor":return _c;case"analytics":return wm;default:return bc}},m=g=>{switch(g){case"completed":return"text-green-400";case"pending":return"text-yellow-400";case"error":return"text-red-400";default:return"text-gray-400"}};return s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Welcome back, ",(e==null?void 0:e.full_name)||(t==null?void 0:t.email)]}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Here's what's happening with your roofing projects"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Today"}),f.jsx("p",{className:"text-xl font-semibold text-white",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:"Active Projects",value:r.totalProjects.toString(),icon:Jp,color:"bg-blue-500/20 text-blue-400",change:`+${r.thisMonthProjects} this month`},{title:"Total Savings",value:d(r.totalSavings),icon:ks,color:"bg-green-500/20 text-green-400",change:"+12% from last month"},{title:"AI Assessments",value:r.assessmentsDone.toString(),icon:qn,color:"bg-purple-500/20 text-purple-400",change:"94% accuracy rate"},{title:"Contractors Matched",value:r.contractorsMatched.toString(),icon:_c,color:"bg-orange-500/20 text-orange-400",change:"Avg response: 2hrs"}].map((g,b)=>{const v=g.icon;return f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:`p-3 rounded-lg ${g.color}`,children:f.jsx(v,{className:"h-6 w-6"})}),f.jsx(yj,{className:"h-5 w-5 text-green-400"})]}),f.jsxs("div",{className:"mt-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-400",children:g.title}),f.jsx("p",{className:"text-3xl font-bold text-white",children:g.value}),f.jsx("p",{className:"text-sm text-green-400 mt-1",children:g.change})]})]},g.title)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Recent Activity"}),f.jsx("div",{className:"space-y-4",children:i.map(g=>{const b=h(g.type);return f.jsxs("div",{className:"flex items-start space-x-4",children:[f.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:f.jsx(b,{className:"h-4 w-4 text-purple-400"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm text-white",children:g.description}),f.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[f.jsx("span",{className:"text-xs text-gray-400",children:p(g.timestamp)}),g.status&&f.jsxs("span",{className:`text-xs ${m(g.status)}`,children:[" ",g.status]})]})]})]},g.id)})})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Quick Actions"}),f.jsx("div",{className:"space-y-4",children:[{title:"Create New Project",description:"Start a new roofing project assessment",icon:Jp,href:"/projects",color:"hover:bg-blue-500/20"},{title:"Upload Roof Photos",description:"Get AI-powered damage analysis",icon:qn,href:"/ai-agents",color:"hover:bg-purple-500/20"},{title:"View Analytics",description:"Check your performance metrics",icon:wm,href:"/analytics",color:"hover:bg-green-500/20"},{title:"Invite Referrals",description:"Share your referral link",icon:Bo,href:"/referrals",color:"hover:bg-orange-500/20"}].map(g=>{const b=g.icon;return f.jsx("a",{href:g.href,className:`block p-4 rounded-lg border border-white/10 transition-colors ${g.color}`,children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx(b,{className:"h-6 w-6 text-white"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:g.title}),f.jsx("p",{className:"text-sm text-gray-400",children:g.description})]})]})},g.title)})})]})]})]})}const Rl=({children:t,className:e=""})=>f.jsx("div",{className:`bg-white/5 backdrop-blur-xl border border-white/10 rounded-3xl overflow-hidden ${e}`,children:t}),Np=({label:t,value:e,trend:r,icon:n})=>f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:f.jsx(n,{className:"w-5 h-5 text-blue-400"})}),r&&f.jsxs("span",{className:"text-[10px] font-bold text-green-400 bg-green-400/10 px-2 py-1 rounded-full flex items-center gap-1",children:[f.jsx(RG,{className:"w-3 h-3"})," ",r]})]}),f.jsx("p",{className:"text-slate-400 text-xs uppercase tracking-widest font-bold mb-1",children:t}),f.jsx("p",{className:"text-2xl font-black text-white tracking-tighter",children:e})]}),Cp=({name:t,status:e,desc:r,icon:n,active:i=!1})=>f.jsxs("div",{className:`p-5 rounded-2xl border transition-all cursor-pointer group ${i?"bg-blue-600/20 border-blue-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[f.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.jsx("div",{className:`p-3 rounded-xl ${i?"bg-blue-500 text-white":"bg-white/5 text-slate-400 group-hover:text-blue-400"}`,children:f.jsx(n,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-bold text-white uppercase tracking-tight",children:t}),f.jsx("p",{className:"text-[10px] font-mono text-blue-400",children:e})]})]}),f.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:r})]});function jee(){var o,c,d;const{user:t,profile:e,loading:r}=Sr(),[n,i]=M.useState("intelligence"),[a,s]=M.useState(!0);return r?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):f.jsxs("div",{className:"min-h-screen text-slate-200 p-6 lg:p-10 space-y-10 max-w-7xl mx-auto",children:[f.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:`animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 ${a?"":"hidden"}`}),f.jsx("span",{className:`relative inline-flex rounded-full h-2 w-2 ${a?"bg-blue-500":"bg-slate-500"}`})]}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-blue-400 font-mono",children:"System Live: 0.05ms"})]}),f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Command Session Active"})]}),f.jsxs("h1",{className:"text-4xl lg:text-5xl font-black tracking-tighter text-white uppercase",children:["Command ",f.jsx("span",{className:"text-blue-500",children:"Center"})]}),f.jsx("p",{className:"text-slate-500 text-sm mt-2 max-w-md",children:"The Orchestrator of Orchestrators. Unified intelligence and tactical execution for the elite operator."})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{className:"p-3 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all text-slate-400",children:f.jsx(hj,{className:"w-5 h-5"})}),f.jsxs("button",{className:"p-3 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all text-slate-400 relative",children:[f.jsx(uj,{className:"w-5 h-5"}),f.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-500 rounded-full border-2 border-slate-900"})]}),f.jsx("div",{className:"h-12 w-12 rounded-2xl bg-gradient-to-br from-blue-600 to-cyan-500 p-[1px]",children:f.jsx("div",{className:"h-full w-full rounded-2xl bg-slate-900 flex items-center justify-center font-bold text-white text-sm",children:((o=e==null?void 0:e.full_name)==null?void 0:o[0])||((d=(c=t==null?void 0:t.email)==null?void 0:c[0])==null?void 0:d.toUpperCase())})})]})]}),f.jsxs("div",{className:"grid lg:grid-cols-12 gap-8",children:[f.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[f.jsxs(Rl,{className:"grid grid-cols-2 md:grid-cols-4 divide-x divide-white/5",children:[f.jsx(Np,{label:"Correlation",value:"91ms",trend:"+12%",icon:bc}),f.jsx(Np,{label:"Validated Data",value:"1,124",trend:"+40%",icon:qS}),f.jsx(Np,{label:"Active Agents",value:"24",icon:V0}),f.jsx(Np,{label:"Alignment",value:"98.2%",trend:"+2.4%",icon:_c})]}),f.jsxs(Rl,{className:"aspect-[16/9] relative group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-500/5 to-transparent"}),f.jsxs("div",{className:"absolute top-6 left-6 right-6 flex items-center justify-between z-10",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-500"}),f.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"})]}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400 font-mono",children:"Real-time Correlation Graph"})]}),f.jsx("button",{className:"p-2 bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:f.jsx(JG,{className:"w-4 h-4"})})]}),f.jsxs("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"relative w-full h-full opacity-30",children:f.jsxs("svg",{className:"w-full h-full",children:[f.jsx("path",{d:"M 100 200 Q 300 50 500 200",stroke:"currentColor",fill:"none",className:"text-blue-500/40",strokeWidth:"1"}),f.jsx("path",{d:"M 200 400 Q 400 300 600 450",stroke:"currentColor",fill:"none",className:"text-cyan-500/40",strokeWidth:"1"}),f.jsx("path",{d:"M 50 500 Q 250 450 450 550",stroke:"currentColor",fill:"none",className:"text-purple-500/40",strokeWidth:"1"})]})}),f.jsx("div",{className:"absolute top-1/4 left-1/4 p-4 glass rounded-2xl border-blue-500/30 animate-pulse",children:f.jsx(KG,{className:"w-6 h-6 text-blue-400"})}),f.jsx("div",{className:"absolute bottom-1/3 right-1/4 p-4 glass rounded-2xl border-cyan-500/30",children:f.jsx(V0,{className:"w-6 h-6 text-cyan-400"})}),f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-8 glass rounded-full border-white/20 bg-blue-500/10 scale-125",children:f.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center shadow-lg shadow-blue-500/40",children:f.jsx(bc,{className:"w-6 h-6 text-white"})})})]}),f.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex items-center justify-between z-10",children:[f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),f.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:"INPUT: 508 SOURCES"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),f.jsx("span",{className:"text-[10px] font-mono text-slate-400",children:"SYNC: 100%"})]})]}),f.jsx("span",{className:"text-[10px] font-mono text-blue-400 uppercase",children:"Strategic Nervous System Active"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs(Rl,{className:"p-6",children:[f.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6 flex items-center justify-between",children:["Current Objective",f.jsx(_c,{className:"w-4 h-4 text-blue-400"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-2xl",children:[f.jsx("p",{className:"text-xs text-blue-400 font-bold uppercase mb-1",children:"Primary Goal"}),f.jsx("p",{className:"text-sm text-white font-medium italic",children:'"Scale regional roofing operations by 40% with 0% increase in manual oversight."'})]}),f.jsxs("div",{className:"flex items-center justify-between px-2",children:[f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Alignment Score"}),f.jsx("span",{className:"text-xs font-black text-green-400 font-mono",children:"98.2%"})]}),f.jsx("div",{className:"w-full bg-white/5 rounded-full h-1",children:f.jsx("div",{className:"bg-green-400 h-full rounded-full",style:{width:"98.2%"}})})]})]}),f.jsxs(Rl,{className:"p-6",children:[f.jsxs("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6 flex items-center justify-between",children:["Active Execution",f.jsx(qn,{className:"w-4 h-4 text-blue-400"})]}),f.jsx("div",{className:"space-y-4",children:[{label:"Market Anomaly Detection",status:"Running",val:"94%"},{label:"Autonomous Outreach (Twilio)",status:"Active",val:"24 calls"},{label:"Briefing Generation",status:"Standby",val:"12:00 PM"}].map((p,h)=>f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-slate-400",children:p.label}),f.jsxs("span",{className:"text-[10px] font-mono text-blue-400 font-bold",children:[p.status," (",p.val,")"]})]},h))})]})]})]}),f.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[f.jsxs(Rl,{className:"p-6",children:[f.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Execution Arms"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Cp,{name:"Voice & SMS",status:"Twilio Integrated",desc:"Autonomous verification and lead warming via localized voice nodes.",icon:fj,active:!0}),f.jsx(Cp,{name:"Meta-Intelligence",status:"ASI Models Active",desc:"Orchestration across Anthropic, OpenAI, and custom RoofNet models.",icon:V0}),f.jsx(Cp,{name:"Communication",status:"Resend/Sendgrid",desc:"Institutional-grade distribution of validated briefings.",icon:B$}),f.jsx(Cp,{name:"Security Guard",status:"Blockchain Audit",desc:"Immutable logging of all tactical decisions for IP defense.",icon:qS})]}),f.jsxs("button",{className:"w-full mt-6 py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-2xl font-bold transition-all flex items-center justify-center gap-2",children:["Add Execution Node",f.jsx(LG,{className:"w-4 h-4"})]})]}),f.jsxs(Rl,{className:"p-6",children:[f.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6",children:"Recent Tactical Actions"}),f.jsx("div",{className:"space-y-6",children:[{time:"2m ago",action:"Signal Detected",desc:"Market anomaly in TX-75201",type:"intelligence"},{time:"15m ago",action:"Outreach Initiated",desc:"3 verification calls placed via Node 4",type:"action"},{time:"1h ago",action:"Briefing Sent",desc:"Investor deck update to 12 stakeholders",type:"distribution"}].map((p,h)=>f.jsxs("div",{className:"flex gap-4 relative",children:[h!==2&&f.jsx("div",{className:"absolute left-[11px] top-6 bottom-[-24px] w-[2px] bg-white/5"}),f.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 ${p.type==="intelligence"?"bg-blue-500/20 text-blue-400":p.type==="action"?"bg-green-500/20 text-green-400":"bg-purple-500/20 text-purple-400"}`,children:f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-xs font-bold text-white",children:p.action}),f.jsx("span",{className:"text-[10px] font-mono text-slate-500 uppercase",children:p.time})]}),f.jsx("p",{className:"text-[11px] text-slate-500",children:p.desc})]})]},h))})]}),f.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-600/20 to-cyan-500/20 rounded-3xl border border-blue-500/30 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(wc,{className:"w-5 h-5 text-blue-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-bold text-white uppercase",children:"Sovereign Mode"}),f.jsx("p",{className:"text-[10px] text-blue-400/70",children:"Encrypted Environment"})]})]}),f.jsx("div",{className:"w-10 h-6 bg-blue-500 rounded-full flex items-center px-1",children:f.jsx("div",{className:"w-4 h-4 bg-white rounded-full ml-auto shadow-sm"})})]})]})]})]})}function Aee(){const{user:t}=Sr(),[e,r]=M.useState([]),[n,i]=M.useState(!0),[a,s]=M.useState(""),[o,c]=M.useState("all"),[d,p]=M.useState(!1),[h,m]=M.useState(null),[g,b]=M.useState(null),[v,x]=M.useState({title:"",description:"",property_address:"",status:"planning",total_value:"",progress_percentage:"0"}),w=[{value:"planning",label:"Planning",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"In Progress",color:"bg-yellow-500/20 text-yellow-400"},{value:"completed",label:"Completed",color:"bg-green-500/20 text-green-400"},{value:"on_hold",label:"On Hold",color:"bg-gray-500/20 text-gray-400"},{value:"cancelled",label:"Cancelled",color:"bg-red-500/20 text-red-400"}];M.useEffect(()=>{t&&S()},[t]);async function S(){try{i(!0);const{data:B,error:V}=await lt.from("projects").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(V)throw V;r(B||[])}catch(B){console.error("Error loading projects:",B),ke.error("Failed to load projects")}finally{i(!1)}}async function E(B){if(B.preventDefault(),!!t)try{const V={user_id:t.id,title:v.title,description:v.description,property_address:v.property_address,status:v.status,total_value:v.total_value?parseFloat(v.total_value):null,progress_percentage:parseInt(v.progress_percentage),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:G,error:X}=await lt.from("projects").insert(V).select().single();if(X)throw X;r([G,...e]),p(!1),O(),ke.success("Project created successfully!")}catch(V){console.error("Error creating project:",V),ke.error("Failed to create project")}}async function T(B){if(B.preventDefault(),!!h)try{const V={title:v.title,description:v.description,property_address:v.property_address,status:v.status,total_value:v.total_value?parseFloat(v.total_value):null,progress_percentage:parseInt(v.progress_percentage),updated_at:new Date().toISOString()},{data:G,error:X}=await lt.from("projects").update(V).eq("id",h.id).select().single();if(X)throw X;r(e.map(ie=>ie.id===h.id?G:ie)),m(null),O(),ke.success("Project updated successfully!")}catch(V){console.error("Error updating project:",V),ke.error("Failed to update project")}}async function j(B){try{const{error:V}=await lt.from("projects").delete().eq("id",B);if(V)throw V;r(e.filter(G=>G.id!==B)),b(null),ke.success("Project deleted successfully!")}catch(V){console.error("Error deleting project:",V),ke.error("Failed to delete project")}}function O(){x({title:"",description:"",property_address:"",status:"planning",total_value:"",progress_percentage:"0"})}function N(B){var V,G;m(B),x({title:B.title,description:B.description||"",property_address:B.property_address||"",status:B.status,total_value:((V=B.total_value)==null?void 0:V.toString())||"",progress_percentage:((G=B.progress_percentage)==null?void 0:G.toString())||"0"})}function R(B){return w.find(V=>V.value===B)||w[0]}const I=e.filter(B=>{var X;const V=B.title.toLowerCase().includes(a.toLowerCase())||((X=B.property_address)==null?void 0:X.toLowerCase().includes(a.toLowerCase())),G=o==="all"||B.status===o;return V&&G}),q=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(B),U=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),D=B=>B<25?"bg-red-500":B<50?"bg-yellow-500":B<75?"bg-blue-500":"bg-green-500";return n?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Projects"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Manage your roofing projects"})]}),f.jsxs("button",{onClick:()=>p(!0),className:"mt-4 sm:mt-0 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(_m,{className:"h-5 w-5"}),f.jsx("span",{children:"New Project"})]})]}),f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"relative",children:[f.jsx(hj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Search projects...",value:a,onChange:B=>s(B.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx($$,{className:"h-5 w-5 text-gray-400"}),f.jsxs("select",{value:o,onChange:B=>c(B.target.value),className:"bg-white/5 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[f.jsx("option",{value:"all",children:"All Status"}),w.map(B=>f.jsx("option",{value:B.value,children:B.label},B.value))]})]})})]})}),I.length===0?f.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-12 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(_m,{className:"h-8 w-8 text-gray-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No projects found"}),f.jsx("p",{className:"text-gray-400 mb-6",children:a||o!=="all"?"Try adjusting your search or filter criteria":"Create your first project to get started"}),f.jsx("button",{onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Create Project"})]}):f.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:f.jsx(Od,{children:I.map((B,V)=>{const G=R(B.status);return f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:V*.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:B.title}),B.property_address&&f.jsxs("div",{className:"flex items-center text-gray-400 mt-1",children:[f.jsx(Gg,{className:"h-4 w-4 mr-1"}),f.jsx("span",{className:"text-sm truncate",children:B.property_address})]})]}),f.jsxs("div",{className:"relative group",children:[f.jsx("button",{className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/10",children:f.jsx(qG,{className:"h-5 w-5"})}),f.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10",children:[f.jsxs("button",{onClick:()=>N(B),className:"w-full flex items-center px-4 py-3 text-sm text-gray-300 hover:bg-gray-700 rounded-t-lg",children:[f.jsx(eQ,{className:"h-4 w-4 mr-3"}),"Edit Project"]}),f.jsxs("button",{onClick:()=>b(B.id),className:"w-full flex items-center px-4 py-3 text-sm text-red-400 hover:bg-gray-700 rounded-b-lg",children:[f.jsx(gj,{className:"h-4 w-4 mr-3"}),"Delete Project"]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${G.color}`,children:G.label}),f.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[f.jsx(zf,{className:"h-4 w-4 mr-1"}),U(B.created_at)]})]}),B.description&&f.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:B.description}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-400",children:"Progress"}),f.jsxs("span",{className:"text-white font-medium",children:[B.progress_percentage||0,"%"]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:f.jsx("div",{className:`h-2 rounded-full transition-all ${D(B.progress_percentage||0)}`,style:{width:`${B.progress_percentage||0}%`}})})]}),B.total_value&&f.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(ks,{className:"h-4 w-4 mr-1"}),f.jsx("span",{className:"text-sm",children:"Project Value"})]}),f.jsx("span",{className:"text-white font-semibold",children:q(B.total_value)})]})]})]},B.id)})})}),f.jsx(Od,{children:(d||h)&&f.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>{p(!1),m(null),O()},children:f.jsxs(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:B=>B.stopPropagation(),className:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-white",children:h?"Edit Project":"Create New Project"}),f.jsx("button",{onClick:()=>{p(!1),m(null),O()},className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-gray-800",children:f.jsx(Yg,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:h?T:E,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Title *"}),f.jsx("input",{type:"text",required:!0,value:v.title,onChange:B=>x({...v,title:B.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter project title"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Property Address"}),f.jsx("input",{type:"text",value:v.property_address,onChange:B=>x({...v,property_address:B.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter property address"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),f.jsx("textarea",{value:v.description,onChange:B=>x({...v,description:B.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"Describe the project details..."})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),f.jsx("select",{value:v.status,onChange:B=>x({...v,status:B.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:w.map(B=>f.jsx("option",{value:B.value,children:B.label},B.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Progress (%)"}),f.jsx("input",{type:"number",min:"0",max:"100",value:v.progress_percentage,onChange:B=>x({...v,progress_percentage:B.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project Value ($)"}),f.jsx("input",{type:"number",min:"0",step:"0.01",value:v.total_value,onChange:B=>x({...v,total_value:B.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter project value"})]}),f.jsxs("div",{className:"flex space-x-4 pt-6",children:[f.jsx("button",{type:"button",onClick:()=>{p(!1),m(null),O()},className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),f.jsxs("button",{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[f.jsx(Zp,{className:"h-4 w-4"}),f.jsx("span",{children:h?"Update":"Create"})]})]})]})]})})}),f.jsx(Od,{children:g&&f.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:f.jsx(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Vl,{className:"h-6 w-6 text-red-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Project"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Are you sure you want to delete this project? This action cannot be undone."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:()=>j(g),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Delete"})]})]})})})})]})}var ux,ZC;function hn(){if(ZC)return ux;ZC=1;var t=Array.isArray;return ux=t,ux}var dx,eR;function NU(){if(eR)return dx;eR=1;var t=typeof fp=="object"&&fp&&fp.Object===Object&&fp;return dx=t,dx}var fx,tR;function qi(){if(tR)return fx;tR=1;var t=NU(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return fx=r,fx}var hx,rR;function Gf(){if(rR)return hx;rR=1;var t=qi(),e=t.Symbol;return hx=e,hx}var px,nR;function Tee(){if(nR)return px;nR=1;var t=Gf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var p=n.call(s);return d&&(o?s[i]=c:delete s[i]),p}return px=a,px}var mx,iR;function Oee(){if(iR)return mx;iR=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return mx=r,mx}var gx,aR;function ka(){if(aR)return gx;aR=1;var t=Gf(),e=Tee(),r=Oee(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return gx=s,gx}var yx,sR;function Pa(){if(sR)return yx;sR=1;function t(e){return e!=null&&typeof e=="object"}return yx=t,yx}var vx,oR;function iu(){if(oR)return vx;oR=1;var t=ka(),e=Pa(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return vx=n,vx}var xx,lR;function Xj(){if(lR)return xx;lR=1;var t=hn(),e=iu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return xx=i,xx}var bx,cR;function Ns(){if(cR)return bx;cR=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return bx=t,bx}var wx,uR;function Jj(){if(uR)return wx;uR=1;var t=ka(),e=Ns(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var c=t(o);return c==n||c==i||c==r||c==a}return wx=s,wx}var _x,dR;function kee(){if(dR)return _x;dR=1;var t=qi(),e=t["__core-js_shared__"];return _x=e,_x}var Sx,fR;function Pee(){if(fR)return Sx;fR=1;var t=kee(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Sx=r,Sx}var Ex,hR;function CU(){if(hR)return Ex;hR=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ex=r,Ex}var jx,pR;function Nee(){if(pR)return jx;pR=1;var t=Jj(),e=Pee(),r=Ns(),n=CU(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,d=o.hasOwnProperty,p=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var g=t(m)?p:a;return g.test(n(m))}return jx=h,jx}var Ax,mR;function Cee(){if(mR)return Ax;mR=1;function t(e,r){return e==null?void 0:e[r]}return Ax=t,Ax}var Tx,gR;function Xo(){if(gR)return Tx;gR=1;var t=Nee(),e=Cee();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Tx=r,Tx}var Ox,yR;function ty(){if(yR)return Ox;yR=1;var t=Xo(),e=t(Object,"create");return Ox=e,Ox}var kx,vR;function Ree(){if(vR)return kx;vR=1;var t=ty();function e(){this.__data__=t?t(null):{},this.size=0}return kx=e,kx}var Px,xR;function Iee(){if(xR)return Px;xR=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Px=t,Px}var Nx,bR;function Dee(){if(bR)return Nx;bR=1;var t=ty(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return Nx=i,Nx}var Cx,wR;function Mee(){if(wR)return Cx;wR=1;var t=ty(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Cx=n,Cx}var Rx,_R;function Lee(){if(_R)return Rx;_R=1;var t=ty(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Rx=r,Rx}var Ix,SR;function Fee(){if(SR)return Ix;SR=1;var t=Ree(),e=Iee(),r=Dee(),n=Mee(),i=Lee();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Ix=a,Ix}var Dx,ER;function $ee(){if(ER)return Dx;ER=1;function t(){this.__data__=[],this.size=0}return Dx=t,Dx}var Mx,jR;function Zj(){if(jR)return Mx;jR=1;function t(e,r){return e===r||e!==e&&r!==r}return Mx=t,Mx}var Lx,AR;function ry(){if(AR)return Lx;AR=1;var t=Zj();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Lx=e,Lx}var Fx,TR;function Uee(){if(TR)return Fx;TR=1;var t=ry(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return Fx=n,Fx}var $x,OR;function Bee(){if(OR)return $x;OR=1;var t=ry();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return $x=e,$x}var Ux,kR;function qee(){if(kR)return Ux;kR=1;var t=ry();function e(r){return t(this.__data__,r)>-1}return Ux=e,Ux}var Bx,PR;function zee(){if(PR)return Bx;PR=1;var t=ry();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Bx=e,Bx}var qx,NR;function ny(){if(NR)return qx;NR=1;var t=$ee(),e=Uee(),r=Bee(),n=qee(),i=zee();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,qx=a,qx}var zx,CR;function eA(){if(CR)return zx;CR=1;var t=Xo(),e=qi(),r=t(e,"Map");return zx=r,zx}var Vx,RR;function Vee(){if(RR)return Vx;RR=1;var t=Fee(),e=ny(),r=eA();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Vx=n,Vx}var Wx,IR;function Wee(){if(IR)return Wx;IR=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Wx=t,Wx}var Hx,DR;function iy(){if(DR)return Hx;DR=1;var t=Wee();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Hx=e,Hx}var Kx,MR;function Hee(){if(MR)return Kx;MR=1;var t=iy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Kx=e,Kx}var Gx,LR;function Kee(){if(LR)return Gx;LR=1;var t=iy();function e(r){return t(this,r).get(r)}return Gx=e,Gx}var Qx,FR;function Gee(){if(FR)return Qx;FR=1;var t=iy();function e(r){return t(this,r).has(r)}return Qx=e,Qx}var Yx,$R;function Qee(){if($R)return Yx;$R=1;var t=iy();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Yx=e,Yx}var Xx,UR;function tA(){if(UR)return Xx;UR=1;var t=Vee(),e=Hee(),r=Kee(),n=Gee(),i=Qee();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Xx=a,Xx}var Jx,BR;function RU(){if(BR)return Jx;BR=1;var t=tA(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],c=a.cache;if(c.has(o))return c.get(o);var d=n.apply(this,s);return a.cache=c.set(o,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,Jx=r,Jx}var Zx,qR;function Yee(){if(qR)return Zx;qR=1;var t=RU(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Zx=r,Zx}var eb,zR;function Xee(){if(zR)return eb;zR=1;var t=Yee(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,c,d){a.push(c?d.replace(r,"$1"):o||s)}),a});return eb=n,eb}var tb,VR;function rA(){if(VR)return tb;VR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return tb=t,tb}var rb,WR;function Jee(){if(WR)return rb;WR=1;var t=Gf(),e=rA(),r=hn(),n=iu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return rb=s,rb}var nb,HR;function IU(){if(HR)return nb;HR=1;var t=Jee();function e(r){return r==null?"":t(r)}return nb=e,nb}var ib,KR;function DU(){if(KR)return ib;KR=1;var t=hn(),e=Xj(),r=Xee(),n=IU();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return ib=i,ib}var ab,GR;function ay(){if(GR)return ab;GR=1;var t=iu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ab=e,ab}var sb,QR;function nA(){if(QR)return sb;QR=1;var t=DU(),e=ay();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return sb=r,sb}var ob,YR;function MU(){if(YR)return ob;YR=1;var t=nA();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return ob=e,ob}var Zee=MU();const En=gt(Zee);var lb,XR;function ete(){if(XR)return lb;XR=1;function t(e){return e==null}return lb=t,lb}var tte=ete();const tt=gt(tte);var cb,JR;function rte(){if(JR)return cb;JR=1;var t=ka(),e=hn(),r=Pa(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return cb=i,cb}var nte=rte();const qo=gt(nte);var ite=Jj();const Qe=gt(ite);var ate=Ns();const au=gt(ate);var ub={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function ste(){if(ZR)return mt;ZR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(x){if(typeof x=="object"&&x!==null){var w=x.$$typeof;switch(w){case t:switch(x=x.type,x){case r:case i:case n:case d:case p:return x;default:switch(x=x&&x.$$typeof,x){case o:case s:case c:case m:case h:case a:return x;default:return w}}case e:return w}}}return mt.ContextConsumer=s,mt.ContextProvider=a,mt.Element=t,mt.ForwardRef=c,mt.Fragment=r,mt.Lazy=m,mt.Memo=h,mt.Portal=e,mt.Profiler=i,mt.StrictMode=n,mt.Suspense=d,mt.SuspenseList=p,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(x){return v(x)===s},mt.isContextProvider=function(x){return v(x)===a},mt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},mt.isForwardRef=function(x){return v(x)===c},mt.isFragment=function(x){return v(x)===r},mt.isLazy=function(x){return v(x)===m},mt.isMemo=function(x){return v(x)===h},mt.isPortal=function(x){return v(x)===e},mt.isProfiler=function(x){return v(x)===i},mt.isStrictMode=function(x){return v(x)===n},mt.isSuspense=function(x){return v(x)===d},mt.isSuspenseList=function(x){return v(x)===p},mt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===d||x===p||x===g||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===b||x.getModuleId!==void 0)},mt.typeOf=v,mt}var e2;function ote(){return e2||(e2=1,ub.exports=ste()),ub.exports}var lte=ote(),db,t2;function LU(){if(t2)return db;t2=1;var t=ka(),e=Pa(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return db=n,db}var fb,r2;function cte(){if(r2)return fb;r2=1;var t=LU();function e(r){return t(r)&&r!=+r}return fb=e,fb}var ute=cte();const su=gt(ute);var dte=LU();const fte=gt(dte);var rn=function(e){return e===0?0:e>0?1:-1},bo=function(e){return qo(e)&&e.indexOf("%")===e.length-1},be=function(e){return fte(e)&&!su(e)},hte=function(e){return tt(e)},mr=function(e){return be(e)||qo(e)},pte=0,Jo=function(e){var r=++pte;return"".concat(e||"").concat(r)},nn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!qo(e))return n;var a;if(bo(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return su(a)&&(a=n),i&&a>r&&(a=r),a},ls=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},mte=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},pr=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function Pm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):En(n,e))===r})}var gte=function(e,r){return be(e)&&be(r)?e-r:qo(e)&&qo(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ac(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function m1(t){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(t)}var yte=["viewBox","children"],vte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],n2=["points","pathLength"],hb={svg:yte,polygon:n2,polyline:n2},iA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!au(n))return null;var i={};return Object.keys(n).forEach(function(a){iA.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},xte=function(e,r,n){return function(i){return e(r,n,i),null}},zo=function(e,r,n){if(!au(e)||m1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];iA.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=xte(s,r,n))}),i},bte=["children"],wte=["children"];function i2(t,e){if(t==null)return{};var r=_te(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _te(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}var a2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ya=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},s2=null,pb=null,aA=function t(e){if(e===s2&&Array.isArray(pb))return pb;var r=[];return M.Children.forEach(e,function(n){tt(n)||(lte.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),pb=r,s2=e,r};function jn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ya(i)}):n=[ya(e)],aA(t).forEach(function(i){var a=En(i,"type.displayName")||En(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function _n(t,e){var r=jn(t,e);return r&&r[0]}var o2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!be(n)||n<=0||!be(i)||i<=0)},Ste=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ete=function(e){return e&&e.type&&qo(e.type)&&Ste.indexOf(e.type)>=0},FU=function(e){return e&&g1(e)==="object"&&"clipDot"in e},jte=function(e,r,n,i){var a,s=(a=hb==null?void 0:hb[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Qe(e)&&(i&&s.includes(r)||vte.includes(r))||n&&iA.includes(r)},Be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!au(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;jte((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},y1=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return l2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!l2(a,s))return!1}return!0},l2=function(e,r){if(tt(e)&&tt(r))return!0;if(!tt(e)&&!tt(r)){var n=e.props||{},i=n.children,a=i2(n,bte),s=r.props||{},o=s.children,c=i2(s,wte);return i&&o?ac(a,c)&&y1(i,o):!i&&!o?ac(a,c):!1}return!1},c2=function(e,r){var n=[],i={};return aA(e).forEach(function(a,s){if(Ete(a))n.push(a);else if(a){var o=ya(a.type),c=r[o]||{},d=c.handler,p=c.once;if(d&&(!p||!i[o])){var h=d(a,o,s);n.push(h),i[o]=!0}}}),n},Ate=function(e){var r=e&&e.type;return r&&a2[r]?a2[r]:null},Tte=function(e,r){return aA(r).indexOf(e)},Ote=["children","width","height","viewBox","className","style","title","desc"];function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function kte(t,e){if(t==null)return{};var r=Pte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function x1(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,o=t.title,c=t.desc,d=kte(t,Ote),p=i||{width:r,height:n,x:0,y:0},h=nt("recharts-surface",a);return Q.createElement("svg",v1({},Be(d,!0,"svg"),{className:h,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Q.createElement("title",null,o),Q.createElement("desc",null,c),e)}var Nte=["children","className"];function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function Cte(t,e){if(t==null)return{};var r=Rte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ct=Q.forwardRef(function(t,e){var r=t.children,n=t.className,i=Cte(t,Nte),a=nt("recharts-layer",n);return Q.createElement("g",b1({className:a},Be(i,!0),{ref:e}),r)}),pi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},mb,u2;function Ite(){if(u2)return mb;u2=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return mb=t,mb}var gb,d2;function Dte(){if(d2)return gb;d2=1;var t=Ite();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return gb=e,gb}var yb,f2;function $U(){if(f2)return yb;f2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function c(d){return o.test(d)}return yb=c,yb}var vb,h2;function Mte(){if(h2)return vb;h2=1;function t(e){return e.split("")}return vb=t,vb}var xb,p2;function Lte(){if(p2)return xb;p2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+o+"|"+c+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",b=d+"?",v="["+a+"]?",x="(?:"+g+"(?:"+[p,h,m].join("|")+")"+v+b+")*",w=v+b+x,S="(?:"+[p+o+"?",o,h,m,s].join("|")+")",E=RegExp(c+"(?="+c+")|"+S+w,"g");function T(j){return j.match(E)||[]}return xb=T,xb}var bb,m2;function Fte(){if(m2)return bb;m2=1;var t=Mte(),e=$U(),r=Lte();function n(i){return e(i)?r(i):t(i)}return bb=n,bb}var wb,g2;function $te(){if(g2)return wb;g2=1;var t=Dte(),e=$U(),r=Fte(),n=IU();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,c=o?o[0]:s.charAt(0),d=o?t(o,1).join(""):s.slice(1);return c[a]()+d}}return wb=i,wb}var _b,y2;function Ute(){if(y2)return _b;y2=1;var t=$te(),e=t("toUpperCase");return _b=e,_b}var Bte=Ute();const sy=gt(Bte);function Ot(t){return function(){return t}}const UU=Math.cos,Cm=Math.sin,yi=Math.sqrt,Rm=Math.PI,oy=2*Rm,w1=Math.PI,_1=2*w1,lo=1e-6,qte=_1-lo;function BU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function zte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BU;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Vte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BU:zte(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,d=i-r,p=s-e,h=o-r,m=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>lo)if(!(Math.abs(h*c-d*p)>lo)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,b=i-o,v=c*c+d*d,x=g*g+b*b,w=Math.sqrt(v),S=Math.sqrt(m),E=a*Math.tan((w1-Math.acos((v+m-x)/(2*w*S)))/2),T=E/S,j=E/w;Math.abs(T-1)>lo&&this._append`L${e+T*p},${r+T*h}`,this._append`A${a},${a},0,0,${+(h*g>p*b)},${this._x1=e+j*c},${this._y1=r+j*d}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),d=e+o,p=r+c,h=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>lo||Math.abs(this._y1-p)>lo)&&this._append`L${d},${p}`,n&&(m<0&&(m=m%_1+_1),m>qte?this._append`A${n},${n},0,1,${h},${e-o},${r-c}A${n},${n},0,1,${h},${this._x1=d},${this._y1=p}`:m>lo&&this._append`A${n},${n},0,${+(m>=w1)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sA(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Vte(e)}function oA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qU(t){this._context=t}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ly(t){return new qU(t)}function zU(t){return t[0]}function VU(t){return t[1]}function WU(t,e){var r=Ot(!0),n=null,i=ly,a=null,s=sA(o);t=typeof t=="function"?t:t===void 0?zU:Ot(t),e=typeof e=="function"?e:e===void 0?VU:Ot(e);function o(c){var d,p=(c=oA(c)).length,h,m=!1,g;for(n==null&&(a=i(g=s())),d=0;d<=p;++d)!(d<p&&r(h=c[d],d,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(h,d,c),+e(h,d,c));if(g)return a=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Rp(t,e,r){var n=null,i=Ot(!0),a=null,s=ly,o=null,c=sA(d);t=typeof t=="function"?t:t===void 0?zU:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?VU:Ot(+r);function d(h){var m,g,b,v=(h=oA(h)).length,x,w=!1,S,E=new Array(v),T=new Array(v);for(a==null&&(o=s(S=c())),m=0;m<=v;++m){if(!(m<v&&i(x=h[m],m,h))===w)if(w=!w)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=m-1;b>=g;--b)o.point(E[b],T[b]);o.lineEnd(),o.areaEnd()}w&&(E[m]=+t(x,m,h),T[m]=+e(x,m,h),o.point(n?+n(x,m,h):E[m],r?+r(x,m,h):T[m]))}if(S)return o=null,S+""||null}function p(){return WU().defined(i).curve(s).context(a)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),n=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),d):t},d.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ot(+h),d):n},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),d):r},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(r)},d.lineX1=function(){return p().x(n).y(e)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ot(!!h),d):i},d.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),d):s},d.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),d):a},d}class HU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Wte(t){return new HU(t,!0)}function Hte(t){return new HU(t,!1)}const lA={draw(t,e){const r=yi(e/Rm);t.moveTo(r,0),t.arc(0,0,r,0,oy)}},Kte={draw(t,e){const r=yi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},KU=yi(1/3),Gte=KU*2,Qte={draw(t,e){const r=yi(e/Gte),n=r*KU;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Yte={draw(t,e){const r=yi(e),n=-r/2;t.rect(n,n,r,r)}},Xte=.8908130915292852,GU=Cm(Rm/10)/Cm(7*Rm/10),Jte=Cm(oy/10)*GU,Zte=-UU(oy/10)*GU,ere={draw(t,e){const r=yi(e*Xte),n=Jte*r,i=Zte*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=oy*a/5,o=UU(s),c=Cm(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},Sb=yi(3),tre={draw(t,e){const r=-yi(e/(Sb*3));t.moveTo(0,r*2),t.lineTo(-Sb*r,-r),t.lineTo(Sb*r,-r),t.closePath()}},Cn=-.5,Rn=yi(3)/2,S1=1/yi(12),rre=(S1/2+1)*3,nre={draw(t,e){const r=yi(e/rre),n=r/2,i=r*S1,a=n,s=r*S1+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Cn*n-Rn*i,Rn*n+Cn*i),t.lineTo(Cn*a-Rn*s,Rn*a+Cn*s),t.lineTo(Cn*o-Rn*c,Rn*o+Cn*c),t.lineTo(Cn*n+Rn*i,Cn*i-Rn*n),t.lineTo(Cn*a+Rn*s,Cn*s-Rn*a),t.lineTo(Cn*o+Rn*c,Cn*c-Rn*o),t.closePath()}};function ire(t,e){let r=null,n=sA(i);t=typeof t=="function"?t:Ot(t||lA),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Im(){}function Dm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function QU(t){this._context=t}QU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function are(t){return new QU(t)}function YU(t){this._context=t}YU.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sre(t){return new YU(t)}function XU(t){this._context=t}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ore(t){return new XU(t)}function JU(t){this._context=t}JU.prototype={areaStart:Im,areaEnd:Im,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function lre(t){return new JU(t)}function v2(t){return t<0?-1:1}function x2(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(v2(a)+v2(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function b2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Eb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function Mm(t){this._context=t}Mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eb(this,this._t0,b2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Eb(this,b2(this,r=x2(this,t,e)),r);break;default:Eb(this,this._t0,r=x2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ZU(t){this._context=new e5(t)}(ZU.prototype=Object.create(Mm.prototype)).point=function(t,e){Mm.prototype.point.call(this,e,t)};function e5(t){this._context=t}e5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function cre(t){return new Mm(t)}function ure(t){return new ZU(t)}function t5(t){this._context=t}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=w2(t),i=w2(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function w2(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function dre(t){return new t5(t)}function cy(t,e){this._context=t,this._t=e}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function fre(t){return new cy(t,.5)}function hre(t){return new cy(t,0)}function pre(t){return new cy(t,1)}function Ec(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function E1(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function mre(t,e){return t[e]}function gre(t){const e=[];return e.key=t,e}function yre(){var t=Ot([]),e=E1,r=Ec,n=mre;function i(a){var s=Array.from(t.apply(this,arguments),gre),o,c=s.length,d=-1,p;for(const h of a)for(o=0,++d;o<c;++o)(s[o][d]=[0,+n(h,s[o].key,d,a)]).data=h;for(o=0,p=oA(e(s));o<c;++o)s[p[o]].index=o;return r(s,p),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?E1:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Ec,i):r},i}function vre(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Ec(t,e)}}function xre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ec(t,e)}}function bre(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,d=0;o<s;++o){for(var p=t[e[o]],h=p[n][1]||0,m=p[n-1][1]||0,g=(h-m)/2,b=0;b<o;++b){var v=t[e[b]],x=v[n][1]||0,w=v[n-1][1]||0;g+=x-w}c+=h,d+=g*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,Ec(t,e)}}function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var wre=["type","size","sizeType"];function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){_re(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _re(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=Ere(t,"string");return tf(e)=="symbol"?e:e+""}function Ere(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jre(t,e){if(t==null)return{};var r=Are(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Are(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var r5={symbolCircle:lA,symbolCross:Kte,symbolDiamond:Qte,symbolSquare:Yte,symbolStar:ere,symbolTriangle:tre,symbolWye:nre},Tre=Math.PI/180,Ore=function(e){var r="symbol".concat(sy(e));return r5[r]||lA},kre=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Tre;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pre=function(e,r){r5["symbol".concat(sy(e))]=r},cA=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,o=s===void 0?"area":s,c=jre(e,wre),d=S2(S2({},c),{},{type:n,size:a,sizeType:o}),p=function(){var x=Ore(n),w=ire().type(x).size(kre(a,o,n));return w()},h=d.className,m=d.cx,g=d.cy,b=Be(d,!0);return m===+m&&g===+g&&a===+a?Q.createElement("path",j1({},b,{className:nt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:p()})):null};cA.registerSymbol=Pre;function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){rf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i5(n.key),n)}}function Ire(t,e,r){return e&&Rre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dre(t,e,r){return e=Lm(e),Mre(t,n5()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function Mre(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lre(t)}function Lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T1(t,e)}function rf(t,e,r){return e=i5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i5(t){var e=$re(t,"string");return jc(e)=="symbol"?e:e+""}function $re(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var In=32,uA=(function(t){function e(){return Cre(this,e),Dre(this,e,arguments)}return Fre(e,t),Ire(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=In/2,s=In/6,o=In/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:In,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(In,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(In/8,"h").concat(In,"v").concat(In*3/4,"h").concat(-In,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(n.legendIcon)){var d=Nre({},n);return delete d.legendIcon,Q.cloneElement(n.legendIcon,d)}return Q.createElement(cA,{fill:c,cx:a,cy:a,size:In,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,d=i.inactiveColor,p={x:0,y:0,width:In,height:In},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,b){var v=g.formatter||c,x=nt(rf(rf({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Qe(g.value)?null:g.value;pi(!Qe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?d:g.color;return Q.createElement("li",A1({className:x,style:h,key:"legend-item-".concat(b)},zo(n.props,g,b)),Q.createElement(x1,{width:s,height:s,viewBox:p,style:m},n.renderIcon(g)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},v?v(w,g,b):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(M.PureComponent);rf(uA,"displayName","Legend");rf(uA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jb,j2;function Ure(){if(j2)return jb;j2=1;var t=ny();function e(){this.__data__=new t,this.size=0}return jb=e,jb}var Ab,A2;function Bre(){if(A2)return Ab;A2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ab=t,Ab}var Tb,T2;function qre(){if(T2)return Tb;T2=1;function t(e){return this.__data__.get(e)}return Tb=t,Tb}var Ob,O2;function zre(){if(O2)return Ob;O2=1;function t(e){return this.__data__.has(e)}return Ob=t,Ob}var kb,k2;function Vre(){if(k2)return kb;k2=1;var t=ny(),e=eA(),r=tA(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(a,s),this.size=o.size,this}return kb=i,kb}var Pb,P2;function a5(){if(P2)return Pb;P2=1;var t=ny(),e=Ure(),r=Bre(),n=qre(),i=zre(),a=Vre();function s(o){var c=this.__data__=new t(o);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,Pb=s,Pb}var Nb,N2;function Wre(){if(N2)return Nb;N2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Nb=e,Nb}var Cb,C2;function Hre(){if(C2)return Cb;C2=1;function t(e){return this.__data__.has(e)}return Cb=t,Cb}var Rb,R2;function s5(){if(R2)return Rb;R2=1;var t=tA(),e=Wre(),r=Hre();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Rb=n,Rb}var Ib,I2;function o5(){if(I2)return Ib;I2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Ib=t,Ib}var Db,D2;function l5(){if(D2)return Db;D2=1;function t(e,r){return e.has(r)}return Db=t,Db}var Mb,M2;function c5(){if(M2)return Mb;M2=1;var t=s5(),e=o5(),r=l5(),n=1,i=2;function a(s,o,c,d,p,h){var m=c&n,g=s.length,b=o.length;if(g!=b&&!(m&&b>g))return!1;var v=h.get(s),x=h.get(o);if(v&&x)return v==o&&x==s;var w=-1,S=!0,E=c&i?new t:void 0;for(h.set(s,o),h.set(o,s);++w<g;){var T=s[w],j=o[w];if(d)var O=m?d(j,T,w,o,s,h):d(T,j,w,s,o,h);if(O!==void 0){if(O)continue;S=!1;break}if(E){if(!e(o,function(N,R){if(!r(E,R)&&(T===N||p(T,N,c,d,h)))return E.push(R)})){S=!1;break}}else if(!(T===j||p(T,j,c,d,h))){S=!1;break}}return h.delete(s),h.delete(o),S}return Mb=a,Mb}var Lb,L2;function Kre(){if(L2)return Lb;L2=1;var t=qi(),e=t.Uint8Array;return Lb=e,Lb}var Fb,F2;function Gre(){if(F2)return Fb;F2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return Fb=t,Fb}var $b,$2;function dA(){if($2)return $b;$2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return $b=t,$b}var Ub,U2;function Qre(){if(U2)return Ub;U2=1;var t=Gf(),e=Kre(),r=Zj(),n=c5(),i=Gre(),a=dA(),s=1,o=2,c="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",b="[object Set]",v="[object String]",x="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",E=t?t.prototype:void 0,T=E?E.valueOf:void 0;function j(O,N,R,I,q,U,D){switch(R){case S:if(O.byteLength!=N.byteLength||O.byteOffset!=N.byteOffset)return!1;O=O.buffer,N=N.buffer;case w:return!(O.byteLength!=N.byteLength||!U(new e(O),new e(N)));case c:case d:case m:return r(+O,+N);case p:return O.name==N.name&&O.message==N.message;case g:case v:return O==N+"";case h:var B=i;case b:var V=I&s;if(B||(B=a),O.size!=N.size&&!V)return!1;var G=D.get(O);if(G)return G==N;I|=o,D.set(O,N);var X=n(B(O),B(N),I,q,U,D);return D.delete(O),X;case x:if(T)return T.call(O)==T.call(N)}return!1}return Ub=j,Ub}var Bb,B2;function u5(){if(B2)return Bb;B2=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Bb=t,Bb}var qb,q2;function Yre(){if(q2)return qb;q2=1;var t=u5(),e=hn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return qb=r,qb}var zb,z2;function Xre(){if(z2)return zb;z2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return zb=t,zb}var Vb,V2;function Jre(){if(V2)return Vb;V2=1;function t(){return[]}return Vb=t,Vb}var Wb,W2;function Zre(){if(W2)return Wb;W2=1;var t=Xre(),e=Jre(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return Wb=a,Wb}var Hb,H2;function ene(){if(H2)return Hb;H2=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Hb=t,Hb}var Kb,K2;function tne(){if(K2)return Kb;K2=1;var t=ka(),e=Pa(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Kb=n,Kb}var Gb,G2;function fA(){if(G2)return Gb;G2=1;var t=tne(),e=Pa(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Gb=a,Gb}var bd={exports:{}},Qb,Q2;function rne(){if(Q2)return Qb;Q2=1;function t(){return!1}return Qb=t,Qb}bd.exports;var Y2;function d5(){return Y2||(Y2=1,(function(t,e){var r=qi(),n=rne(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||n;t.exports=d})(bd,bd.exports)),bd.exports}var Yb,X2;function hA(){if(X2)return Yb;X2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Yb=r,Yb}var Xb,J2;function pA(){if(J2)return Xb;J2=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Xb=e,Xb}var Jb,Z2;function nne(){if(Z2)return Jb;Z2=1;var t=ka(),e=pA(),r=Pa(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",b="[object String]",v="[object WeakMap]",x="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",O="[object Int32Array]",N="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",q="[object Uint32Array]",U={};U[S]=U[E]=U[T]=U[j]=U[O]=U[N]=U[R]=U[I]=U[q]=!0,U[n]=U[i]=U[x]=U[a]=U[w]=U[s]=U[o]=U[c]=U[d]=U[p]=U[h]=U[m]=U[g]=U[b]=U[v]=!1;function D(B){return r(B)&&e(B.length)&&!!U[t(B)]}return Jb=D,Jb}var Zb,eI;function f5(){if(eI)return Zb;eI=1;function t(e){return function(r){return e(r)}}return Zb=t,Zb}var wd={exports:{}};wd.exports;var tI;function ine(){return tI||(tI=1,(function(t,e){var r=NU(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(wd,wd.exports)),wd.exports}var ew,rI;function h5(){if(rI)return ew;rI=1;var t=nne(),e=f5(),r=ine(),n=r&&r.isTypedArray,i=n?e(n):t;return ew=i,ew}var tw,nI;function ane(){if(nI)return tw;nI=1;var t=ene(),e=fA(),r=hn(),n=d5(),i=hA(),a=h5(),s=Object.prototype,o=s.hasOwnProperty;function c(d,p){var h=r(d),m=!h&&e(d),g=!h&&!m&&n(d),b=!h&&!m&&!g&&a(d),v=h||m||g||b,x=v?t(d.length,String):[],w=x.length;for(var S in d)(p||o.call(d,S))&&!(v&&(S=="length"||g&&(S=="offset"||S=="parent")||b&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,w)))&&x.push(S);return x}return tw=c,tw}var rw,iI;function sne(){if(iI)return rw;iI=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return rw=e,rw}var nw,aI;function p5(){if(aI)return nw;aI=1;function t(e,r){return function(n){return e(r(n))}}return nw=t,nw}var iw,sI;function one(){if(sI)return iw;sI=1;var t=p5(),e=t(Object.keys,Object);return iw=e,iw}var aw,oI;function lne(){if(oI)return aw;oI=1;var t=sne(),e=one(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return aw=i,aw}var sw,lI;function Qf(){if(lI)return sw;lI=1;var t=Jj(),e=pA();function r(n){return n!=null&&e(n.length)&&!t(n)}return sw=r,sw}var ow,cI;function uy(){if(cI)return ow;cI=1;var t=ane(),e=lne(),r=Qf();function n(i){return r(i)?t(i):e(i)}return ow=n,ow}var lw,uI;function cne(){if(uI)return lw;uI=1;var t=Yre(),e=Zre(),r=uy();function n(i){return t(i,r,e)}return lw=n,lw}var cw,dI;function une(){if(dI)return cw;dI=1;var t=cne(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,c,d,p){var h=o&e,m=t(a),g=m.length,b=t(s),v=b.length;if(g!=v&&!h)return!1;for(var x=g;x--;){var w=m[x];if(!(h?w in s:n.call(s,w)))return!1}var S=p.get(a),E=p.get(s);if(S&&E)return S==s&&E==a;var T=!0;p.set(a,s),p.set(s,a);for(var j=h;++x<g;){w=m[x];var O=a[w],N=s[w];if(c)var R=h?c(N,O,w,s,a,p):c(O,N,w,a,s,p);if(!(R===void 0?O===N||d(O,N,o,c,p):R)){T=!1;break}j||(j=w=="constructor")}if(T&&!j){var I=a.constructor,q=s.constructor;I!=q&&"constructor"in a&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof q=="function"&&q instanceof q)&&(T=!1)}return p.delete(a),p.delete(s),T}return cw=i,cw}var uw,fI;function dne(){if(fI)return uw;fI=1;var t=Xo(),e=qi(),r=t(e,"DataView");return uw=r,uw}var dw,hI;function fne(){if(hI)return dw;hI=1;var t=Xo(),e=qi(),r=t(e,"Promise");return dw=r,dw}var fw,pI;function m5(){if(pI)return fw;pI=1;var t=Xo(),e=qi(),r=t(e,"Set");return fw=r,fw}var hw,mI;function hne(){if(mI)return hw;mI=1;var t=Xo(),e=qi(),r=t(e,"WeakMap");return hw=r,hw}var pw,gI;function pne(){if(gI)return pw;gI=1;var t=dne(),e=eA(),r=fne(),n=m5(),i=hne(),a=ka(),s=CU(),o="[object Map]",c="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",m="[object DataView]",g=s(t),b=s(e),v=s(r),x=s(n),w=s(i),S=a;return(t&&S(new t(new ArrayBuffer(1)))!=m||e&&S(new e)!=o||r&&S(r.resolve())!=d||n&&S(new n)!=p||i&&S(new i)!=h)&&(S=function(E){var T=a(E),j=T==c?E.constructor:void 0,O=j?s(j):"";if(O)switch(O){case g:return m;case b:return o;case v:return d;case x:return p;case w:return h}return T}),pw=S,pw}var mw,yI;function mne(){if(yI)return mw;yI=1;var t=a5(),e=c5(),r=Qre(),n=une(),i=pne(),a=hn(),s=d5(),o=h5(),c=1,d="[object Arguments]",p="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function b(v,x,w,S,E,T){var j=a(v),O=a(x),N=j?p:i(v),R=O?p:i(x);N=N==d?h:N,R=R==d?h:R;var I=N==h,q=R==h,U=N==R;if(U&&s(v)){if(!s(x))return!1;j=!0,I=!1}if(U&&!I)return T||(T=new t),j||o(v)?e(v,x,w,S,E,T):r(v,x,N,w,S,E,T);if(!(w&c)){var D=I&&g.call(v,"__wrapped__"),B=q&&g.call(x,"__wrapped__");if(D||B){var V=D?v.value():v,G=B?x.value():x;return T||(T=new t),E(V,G,w,S,T)}}return U?(T||(T=new t),n(v,x,w,S,E,T)):!1}return mw=b,mw}var gw,vI;function mA(){if(vI)return gw;vI=1;var t=mne(),e=Pa();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return gw=r,gw}var yw,xI;function gne(){if(xI)return yw;xI=1;var t=a5(),e=mA(),r=1,n=2;function i(a,s,o,c){var d=o.length,p=d,h=!c;if(a==null)return!p;for(a=Object(a);d--;){var m=o[d];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++d<p;){m=o[d];var g=m[0],b=a[g],v=m[1];if(h&&m[2]){if(b===void 0&&!(g in a))return!1}else{var x=new t;if(c)var w=c(b,v,g,a,s,x);if(!(w===void 0?e(v,b,r|n,c,x):w))return!1}}return!0}return yw=i,yw}var vw,bI;function g5(){if(bI)return vw;bI=1;var t=Ns();function e(r){return r===r&&!t(r)}return vw=e,vw}var xw,wI;function yne(){if(wI)return xw;wI=1;var t=g5(),e=uy();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],o=n[s];i[a]=[s,o,t(o)]}return i}return xw=r,xw}var bw,_I;function y5(){if(_I)return bw;_I=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return bw=t,bw}var ww,SI;function vne(){if(SI)return ww;SI=1;var t=gne(),e=yne(),r=y5();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return ww=n,ww}var _w,EI;function xne(){if(EI)return _w;EI=1;function t(e,r){return e!=null&&r in Object(e)}return _w=t,_w}var Sw,jI;function bne(){if(jI)return Sw;jI=1;var t=DU(),e=fA(),r=hn(),n=hA(),i=pA(),a=ay();function s(o,c,d){c=t(c,o);for(var p=-1,h=c.length,m=!1;++p<h;){var g=a(c[p]);if(!(m=o!=null&&d(o,g)))break;o=o[g]}return m||++p!=h?m:(h=o==null?0:o.length,!!h&&i(h)&&n(g,h)&&(r(o)||e(o)))}return Sw=s,Sw}var Ew,AI;function wne(){if(AI)return Ew;AI=1;var t=xne(),e=bne();function r(n,i){return n!=null&&e(n,i,t)}return Ew=r,Ew}var jw,TI;function _ne(){if(TI)return jw;TI=1;var t=mA(),e=MU(),r=wne(),n=Xj(),i=g5(),a=y5(),s=ay(),o=1,c=2;function d(p,h){return n(p)&&i(h)?a(s(p),h):function(m){var g=e(m,p);return g===void 0&&g===h?r(m,p):t(h,g,o|c)}}return jw=d,jw}var Aw,OI;function ou(){if(OI)return Aw;OI=1;function t(e){return e}return Aw=t,Aw}var Tw,kI;function Sne(){if(kI)return Tw;kI=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Tw=t,Tw}var Ow,PI;function Ene(){if(PI)return Ow;PI=1;var t=nA();function e(r){return function(n){return t(n,r)}}return Ow=e,Ow}var kw,NI;function jne(){if(NI)return kw;NI=1;var t=Sne(),e=Ene(),r=Xj(),n=ay();function i(a){return r(a)?t(n(a)):e(a)}return kw=i,kw}var Pw,CI;function zi(){if(CI)return Pw;CI=1;var t=vne(),e=_ne(),r=ou(),n=hn(),i=jne();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return Pw=a,Pw}var Nw,RI;function v5(){if(RI)return Nw;RI=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Nw=t,Nw}var Cw,II;function Ane(){if(II)return Cw;II=1;function t(e){return e!==e}return Cw=t,Cw}var Rw,DI;function Tne(){if(DI)return Rw;DI=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Rw=t,Rw}var Iw,MI;function One(){if(MI)return Iw;MI=1;var t=v5(),e=Ane(),r=Tne();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Iw=n,Iw}var Dw,LI;function kne(){if(LI)return Dw;LI=1;var t=One();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Dw=e,Dw}var Mw,FI;function Pne(){if(FI)return Mw;FI=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Mw=t,Mw}var Lw,$I;function Nne(){if($I)return Lw;$I=1;function t(){}return Lw=t,Lw}var Fw,UI;function Cne(){if(UI)return Fw;UI=1;var t=m5(),e=Nne(),r=dA(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Fw=i,Fw}var $w,BI;function Rne(){if(BI)return $w;BI=1;var t=s5(),e=kne(),r=Pne(),n=l5(),i=Cne(),a=dA(),s=200;function o(c,d,p){var h=-1,m=e,g=c.length,b=!0,v=[],x=v;if(p)b=!1,m=r;else if(g>=s){var w=d?null:i(c);if(w)return a(w);b=!1,m=n,x=new t}else x=d?[]:v;e:for(;++h<g;){var S=c[h],E=d?d(S):S;if(S=p||S!==0?S:0,b&&E===E){for(var T=x.length;T--;)if(x[T]===E)continue e;d&&x.push(E),v.push(S)}else m(x,E,p)||(x!==v&&x.push(E),v.push(S))}return v}return $w=o,$w}var Uw,qI;function Ine(){if(qI)return Uw;qI=1;var t=zi(),e=Rne();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Uw=r,Uw}var Dne=Ine();const zI=gt(Dne);function x5(t,e,r){return e===!0?zI(t,r):Qe(e)?zI(t,e):t}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var Mne=["ref"];function VI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(r),!0).forEach(function(n){dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w5(n.key),n)}}function Fne(t,e,r){return e&&WI(t.prototype,e),r&&WI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ne(t,e,r){return e=Fm(e),Une(t,b5()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function Une(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bne(t)}function Bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b5=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function qne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O1(t,e)}function O1(t,e){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O1(t,e)}function dy(t,e,r){return e=w5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w5(t){var e=zne(t,"string");return Ac(e)=="symbol"?e:e+""}function zne(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vne(t,e){if(t==null)return{};var r=Wne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hne(t){return t.value}function Kne(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var r=Vne(e,Mne);return Q.createElement(uA,r)}var HI=1,va=(function(t){function e(){var r;Lne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$ne(this,e,[].concat(i)),dy(r,"lastBoundingBox",{width:-1,height:-1}),r}return qne(e,t),Fne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HI||Math.abs(i.height-this.lastBoundingBox.height)>HI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ia({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,d=i.chartWidth,p=i.chartHeight,h,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();h={left:((d||0)-g.width)/2}}else h=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var b=this.getBBoxSnapshot();m={top:((p||0)-b.height)/2}}else m=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ia(ia({},h),m)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,p=i.payload,h=ia(ia({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return Q.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},Kne(a,ia(ia({},this.props),{},{payload:x5(p,d,Hne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ia(ia({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&be(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(M.PureComponent);dy(va,"displayName","Legend");dy(va,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bw,KI;function Gne(){if(KI)return Bw;KI=1;var t=Gf(),e=fA(),r=hn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Bw=i,Bw}var qw,GI;function _5(){if(GI)return qw;GI=1;var t=u5(),e=Gne();function r(n,i,a,s,o){var c=-1,d=n.length;for(a||(a=e),o||(o=[]);++c<d;){var p=n[c];i>0&&a(p)?i>1?r(p,i-1,a,s,o):t(o,p):s||(o[o.length]=p)}return o}return qw=r,qw}var zw,QI;function Qne(){if(QI)return zw;QI=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),c=o.length;c--;){var d=o[e?c:++a];if(n(s[d],d,s)===!1)break}return r}}return zw=t,zw}var Vw,YI;function Yne(){if(YI)return Vw;YI=1;var t=Qne(),e=t();return Vw=e,Vw}var Ww,XI;function S5(){if(XI)return Ww;XI=1;var t=Yne(),e=uy();function r(n,i){return n&&t(n,i,e)}return Ww=r,Ww}var Hw,JI;function Xne(){if(JI)return Hw;JI=1;var t=Qf();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,o=n?s:-1,c=Object(i);(n?o--:++o<s)&&a(c[o],o,c)!==!1;);return i}}return Hw=e,Hw}var Kw,ZI;function gA(){if(ZI)return Kw;ZI=1;var t=S5(),e=Xne(),r=e(t);return Kw=r,Kw}var Gw,eD;function E5(){if(eD)return Gw;eD=1;var t=gA(),e=Qf();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(o,c,d){s[++a]=i(o,c,d)}),s}return Gw=r,Gw}var Qw,tD;function Jne(){if(tD)return Qw;tD=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Qw=t,Qw}var Yw,rD;function Zne(){if(rD)return Yw;rD=1;var t=iu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,o=t(r),c=n!==void 0,d=n===null,p=n===n,h=t(n);if(!d&&!h&&!o&&r>n||o&&c&&p&&!d&&!h||a&&c&&p||!i&&p||!s)return 1;if(!a&&!o&&!h&&r<n||h&&i&&s&&!a&&!o||d&&i&&s||!c&&s||!p)return-1}return 0}return Yw=e,Yw}var Xw,nD;function eie(){if(nD)return Xw;nD=1;var t=Zne();function e(r,n,i){for(var a=-1,s=r.criteria,o=n.criteria,c=s.length,d=i.length;++a<c;){var p=t(s[a],o[a]);if(p){if(a>=d)return p;var h=i[a];return p*(h=="desc"?-1:1)}}return r.index-n.index}return Xw=e,Xw}var Jw,iD;function tie(){if(iD)return Jw;iD=1;var t=rA(),e=nA(),r=zi(),n=E5(),i=Jne(),a=f5(),s=eie(),o=ou(),c=hn();function d(p,h,m){h.length?h=t(h,function(v){return c(v)?function(x){return e(x,v.length===1?v[0]:v)}:v}):h=[o];var g=-1;h=t(h,a(r));var b=n(p,function(v,x,w){var S=t(h,function(E){return E(v)});return{criteria:S,index:++g,value:v}});return i(b,function(v,x){return s(v,x,m)})}return Jw=d,Jw}var Zw,aD;function rie(){if(aD)return Zw;aD=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Zw=t,Zw}var e_,sD;function nie(){if(sD)return e_;sD=1;var t=rie(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,c=e(s.length-i,0),d=Array(c);++o<c;)d[o]=s[i+o];o=-1;for(var p=Array(i+1);++o<i;)p[o]=s[o];return p[i]=a(d),t(n,this,p)}}return e_=r,e_}var t_,oD;function iie(){if(oD)return t_;oD=1;function t(e){return function(){return e}}return t_=t,t_}var r_,lD;function j5(){if(lD)return r_;lD=1;var t=Xo(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return r_=e,r_}var n_,cD;function aie(){if(cD)return n_;cD=1;var t=iie(),e=j5(),r=ou(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return n_=n,n_}var i_,uD;function sie(){if(uD)return i_;uD=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),c=e-(o-s);if(s=o,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return i_=n,i_}var a_,dD;function oie(){if(dD)return a_;dD=1;var t=aie(),e=sie(),r=e(t);return a_=r,a_}var s_,fD;function lie(){if(fD)return s_;fD=1;var t=ou(),e=nie(),r=oie();function n(i,a){return r(e(i,a,t),i+"")}return s_=n,s_}var o_,hD;function fy(){if(hD)return o_;hD=1;var t=Zj(),e=Qf(),r=hA(),n=Ns();function i(a,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?e(o)&&r(s,o.length):c=="string"&&s in o)?t(o[s],a):!1}return o_=i,o_}var l_,pD;function cie(){if(pD)return l_;pD=1;var t=_5(),e=tie(),r=lie(),n=fy(),i=r(function(a,s){if(a==null)return[];var o=s.length;return o>1&&n(a,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return l_=i,l_}var uie=cie();const yA=gt(uie);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}function die(t,e){return mie(t)||pie(t,e)||hie(t,e)||fie()}function fie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hie(t,e){if(t){if(typeof t=="string")return mD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mD(t,e)}}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function mie(t){if(Array.isArray(t))return t}function gD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return e=yie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yie(t){var e=vie(t,"string");return nf(e)=="symbol"?e:e+""}function vie(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t){return Array.isArray(t)&&mr(t[0])&&mr(t[1])?t.join(" ~ "):t}var bie=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,o=s===void 0?{}:s,c=e.labelStyle,d=c===void 0?{}:c,p=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,b=e.labelClassName,v=e.label,x=e.labelFormatter,w=e.accessibilityLayer,S=w===void 0?!1:w,E=function(){if(p&&p.length){var D={padding:0,margin:0},B=(m?yA(p,m):p).map(function(V,G){if(V.type==="none")return null;var X=c_({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),ie=V.formatter||h||xie,ne=V.value,oe=V.name,se=ne,W=oe;if(ie&&se!=null&&W!=null){var Z=ie(ne,oe,V,G,p);if(Array.isArray(Z)){var ge=die(Z,2);se=ge[0],W=ge[1]}else se=Z}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:X},mr(W)?Q.createElement("span",{className:"recharts-tooltip-item-name"},W):null,mr(W)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},se),Q.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},T=c_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=c_({margin:0},d),O=!tt(v),N=O?v:"",R=nt("recharts-default-tooltip",g),I=nt("recharts-tooltip-label",b);O&&x&&p!==void 0&&p!==null&&(N=x(v,p));var q=S?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",k1({className:R,style:T},q),Q.createElement("p",{className:I,style:j},Q.isValidElement(N)?N:"".concat(N)),E())};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function Ip(t,e,r){return e=wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wie(t){var e=_ie(t,"string");return af(e)=="symbol"?e:e+""}function _ie(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ld="recharts-tooltip-wrapper",Sie={visibility:"hidden"};function Eie(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return nt(ld,Ip(Ip(Ip(Ip({},"".concat(ld,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(ld,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(ld,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(ld,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function yD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(a&&be(a[n]))return a[n];var p=r[n]-o-i,h=r[n]+i;if(e[n])return s[n]?p:h;if(s[n]){var m=p,g=c[n];return m<g?Math.max(h,c[n]):Math.max(p,c[n])}var b=h+o,v=c[n]+d;return b>v?Math.max(p,c[n]):Math.max(h,c[n])}function jie(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Aie(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,d,p,h;return s.height>0&&s.width>0&&r?(p=yD({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),h=yD({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=jie({translateX:p,translateY:h,useTranslate3d:o})):d=Sie,{cssProperties:d,cssClasses:Eie({translateX:p,translateY:h,coordinate:r})}}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function vD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vD(Object(r),!0).forEach(function(n){N1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T5(n.key),n)}}function kie(t,e,r){return e&&Oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pie(t,e,r){return e=$m(e),Nie(t,A5()?Reflect.construct(e,r||[],$m(t).constructor):e.apply(t,r))}function Nie(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cie(t)}function Cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(t)}function Rie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P1(t,e)}function N1(t,e,r){return e=T5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T5(t){var e=Iie(t,"string");return Tc(e)=="symbol"?e:e+""}function Iie(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bD=1,Die=(function(t){function e(){var r;Tie(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Pie(this,e,[].concat(i)),N1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),N1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,d,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(d=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),r}return Rie(e,t),kie(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>bD||Math.abs(n.height-this.state.lastBoundingBox.height)>bD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,d=i.children,p=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,g=i.offset,b=i.position,v=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,E=Aie({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:g,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),T=E.cssClasses,j=E.cssProperties,O=xD(xD({transition:m&&a?"transform ".concat(o,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return Q.createElement("div",{tabIndex:-1,className:T,style:O,ref:function(R){n.wrapperNode=R}},d)}}])})(M.PureComponent),Mie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cs={isSsr:Mie()};function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function wD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(r),!0).forEach(function(n){vA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k5(n.key),n)}}function $ie(t,e,r){return e&&Fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uie(t,e,r){return e=Um(e),Bie(t,O5()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Bie(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qie(t)}function qie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function zie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C1(t,e)}function C1(t,e){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C1(t,e)}function vA(t,e,r){return e=k5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k5(t){var e=Vie(t,"string");return Oc(e)=="symbol"?e:e+""}function Vie(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wie(t){return t.dataKey}function Hie(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(bie,e)}var Jr=(function(t){function e(){return Lie(this,e),Uie(this,e,arguments)}return zie(e,t),$ie(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,d=i.content,p=i.coordinate,h=i.filterNull,m=i.isAnimationActive,g=i.offset,b=i.payload,v=i.payloadUniqBy,x=i.position,w=i.reverseDirection,S=i.useTranslate3d,E=i.viewBox,T=i.wrapperStyle,j=b??[];h&&j.length&&(j=x5(b.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),v,Wie));var O=j.length>0;return Q.createElement(Die,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:m,active:a,coordinate:p,hasPayload:O,offset:g,position:x,reverseDirection:w,useTranslate3d:S,viewBox:E,wrapperStyle:T},Hie(d,_D(_D({},this.props),{},{payload:j})))}}])})(M.PureComponent);vA(Jr,"displayName","Tooltip");vA(Jr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var u_,SD;function Kie(){if(SD)return u_;SD=1;var t=qi(),e=function(){return t.Date.now()};return u_=e,u_}var d_,ED;function Gie(){if(ED)return d_;ED=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return d_=e,d_}var f_,jD;function Qie(){if(jD)return f_;jD=1;var t=Gie(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return f_=r,f_}var h_,AD;function P5(){if(AD)return h_;AD=1;var t=Qie(),e=Ns(),r=iu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=a.test(d);return h||s.test(d)?o(d.slice(2),h?2:8):i.test(d)?n:+d}return h_=c,h_}var p_,TD;function Yie(){if(TD)return p_;TD=1;var t=Ns(),e=Kie(),r=P5(),n="Expected a function",i=Math.max,a=Math.min;function s(o,c,d){var p,h,m,g,b,v,x=0,w=!1,S=!1,E=!0;if(typeof o!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(w=!!d.leading,S="maxWait"in d,m=S?i(r(d.maxWait)||0,c):m,E="trailing"in d?!!d.trailing:E);function T(B){var V=p,G=h;return p=h=void 0,x=B,g=o.apply(G,V),g}function j(B){return x=B,b=setTimeout(R,c),w?T(B):g}function O(B){var V=B-v,G=B-x,X=c-V;return S?a(X,m-G):X}function N(B){var V=B-v,G=B-x;return v===void 0||V>=c||V<0||S&&G>=m}function R(){var B=e();if(N(B))return I(B);b=setTimeout(R,O(B))}function I(B){return b=void 0,E&&p?T(B):(p=h=void 0,g)}function q(){b!==void 0&&clearTimeout(b),x=0,p=v=h=b=void 0}function U(){return b===void 0?g:I(e())}function D(){var B=e(),V=N(B);if(p=arguments,h=this,v=B,V){if(b===void 0)return j(v);if(S)return clearTimeout(b),b=setTimeout(R,c),T(v)}return b===void 0&&(b=setTimeout(R,c)),g}return D.cancel=q,D.flush=U,D}return p_=s,p_}var m_,OD;function Xie(){if(OD)return m_;OD=1;var t=Yie(),e=Ns(),r="Expected a function";function n(i,a,s){var o=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:o,maxWait:a,trailing:c})}return m_=n,m_}var Jie=Xie();const N5=gt(Jie);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function kD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(r),!0).forEach(function(n){Zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zie(t,e,r){return e=eae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eae(t){var e=tae(t,"string");return sf(e)=="symbol"?e:e+""}function tae(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rae(t,e){return sae(t)||aae(t,e)||iae(t,e)||nae()}function nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iae(t,e){if(t){if(typeof t=="string")return PD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(t,e)}}function PD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function sae(t){if(Array.isArray(t))return t}var ql=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,o=t.height,c=o===void 0?"100%":o,d=t.minWidth,p=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,g=t.children,b=t.debounce,v=b===void 0?0:b,x=t.id,w=t.className,S=t.onResize,E=t.style,T=E===void 0?{}:E,j=M.useRef(null),O=M.useRef();O.current=S,M.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=M.useState({containerWidth:i.width,containerHeight:i.height}),R=rae(N,2),I=R[0],q=R[1],U=M.useCallback(function(B,V){q(function(G){var X=Math.round(B),ie=Math.round(V);return G.containerWidth===X&&G.containerHeight===ie?G:{containerWidth:X,containerHeight:ie}})},[]);M.useEffect(function(){var B=function(oe){var se,W=oe[0].contentRect,Z=W.width,ge=W.height;U(Z,ge),(se=O.current)===null||se===void 0||se.call(O,Z,ge)};v>0&&(B=N5(B,v,{trailing:!0,leading:!1}));var V=new ResizeObserver(B),G=j.current.getBoundingClientRect(),X=G.width,ie=G.height;return U(X,ie),V.observe(j.current),function(){V.disconnect()}},[U,v]);var D=M.useMemo(function(){var B=I.containerWidth,V=I.containerHeight;if(B<0||V<0)return null;pi(bo(s)||bo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),pi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=bo(s)?B:s,X=bo(c)?V:c;r&&r>0&&(G?X=G/r:X&&(G=X*r),m&&X>m&&(X=m)),pi(G>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,X,s,c,p,h,r);var ie=!Array.isArray(g)&&ya(g.type).endsWith("Chart");return Q.Children.map(g,function(ne){return Q.isValidElement(ne)?M.cloneElement(ne,Dp({width:G,height:X},ie?{style:Dp({height:"100%",width:"100%",maxHeight:X,maxWidth:G},ne.props.style)}:{})):ne})},[r,g,c,m,h,p,I,s]);return Q.createElement("div",{id:x?"".concat(x):void 0,className:nt("recharts-responsive-container",w),style:Dp(Dp({},T),{},{width:s,height:c,minWidth:p,minHeight:h,maxHeight:m}),ref:j},D)}),hy=function(e){return null};hy.displayName="Cell";function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(n){oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oae(t,e,r){return e=lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lae(t){var e=cae(t,"string");return of(e)=="symbol"?e:e+""}function cae(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Il={widthCache:{},cacheCount:0},uae=2e3,dae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CD="recharts_measurement_span";function fae(t){var e=R1({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Pd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cs.isSsr)return{width:0,height:0};var n=fae(r),i=JSON.stringify({text:e,copyStyle:n});if(Il.widthCache[i])return Il.widthCache[i];try{var a=document.getElementById(CD);a||(a=document.createElement("span"),a.setAttribute("id",CD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=R1(R1({},dae),n);Object.assign(a.style,s),a.textContent="".concat(e);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Il.widthCache[i]=c,++Il.cacheCount>uae&&(Il.cacheCount=0,Il.widthCache={}),c}catch{return{width:0,height:0}}},hae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Bm(t,e){return yae(t)||gae(t,e)||mae(t,e)||pae()}function pae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t,e){if(t){if(typeof t=="string")return RD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RD(t,e)}}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function yae(t){if(Array.isArray(t))return t}function vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ID(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bae(n.key),n)}}function xae(t,e,r){return e&&ID(t.prototype,e),r&&ID(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bae(t){var e=wae(t,"string");return lf(e)=="symbol"?e:e+""}function wae(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_ae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Sae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,C5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Eae=Object.keys(C5),Ql="NaN";function jae(t,e){return t*C5[e]}var Mp=(function(){function t(e,r){vae(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_ae.test(r)&&(this.num=NaN,this.unit=""),Eae.includes(r)&&(this.num=jae(e,r),this.unit="px")}return xae(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Sae.exec(r))!==null&&n!==void 0?n:[],a=Bm(i,3),s=a[1],o=a[2];return new t(parseFloat(s),o??"")}}])})();function R5(t){if(t.includes(Ql))return Ql;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=DD.exec(e))!==null&&r!==void 0?r:[],i=Bm(n,4),a=i[1],s=i[2],o=i[3],c=Mp.parse(a??""),d=Mp.parse(o??""),p=s==="*"?c.multiply(d):c.divide(d);if(p.isNaN())return Ql;e=e.replace(DD,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=MD.exec(e))!==null&&h!==void 0?h:[],g=Bm(m,4),b=g[1],v=g[2],x=g[3],w=Mp.parse(b??""),S=Mp.parse(x??""),E=v==="+"?w.add(S):w.subtract(S);if(E.isNaN())return Ql;e=e.replace(MD,E.toString())}return e}var LD=/\(([^()]*)\)/;function Aae(t){for(var e=t;e.includes("(");){var r=LD.exec(e),n=Bm(r,2),i=n[1];e=e.replace(LD,R5(i))}return e}function Tae(t){var e=t.replace(/\s+/g,"");return e=Aae(e),e=R5(e),e}function Oae(t){try{return Tae(t)}catch{return Ql}}function g_(t){var e=Oae(t.slice(5,-1));return e===Ql?"":e}var kae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pae=["dx","dy","angle","className","breakAll"];function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(this,arguments)}function FD(t,e){if(t==null)return{};var r=Nae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $D(t,e){return Dae(t)||Iae(t,e)||Rae(t,e)||Cae()}function Cae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rae(t,e){if(t){if(typeof t=="string")return UD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Dae(t){if(Array.isArray(t))return t}var I5=/[ \f\n\r\t\v\u2028\u2029]+/,D5=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];tt(r)||(n?a=r.toString().split(""):a=r.toString().split(I5));var s=a.map(function(c){return{word:c,width:Pd(c,i).width}}),o=n?0:Pd("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Mae=function(e,r,n,i,a){var s=e.maxLines,o=e.children,c=e.style,d=e.breakAll,p=be(s),h=o,m=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(X,ie){var ne=ie.word,oe=ie.width,se=X[X.length-1];if(se&&(i==null||a||se.width+oe+n<Number(i)))se.words.push(ne),se.width+=oe+n;else{var W={words:[ne],width:oe};X.push(W)}return X},[])},g=m(r),b=function(G){return G.reduce(function(X,ie){return X.width>ie.width?X:ie})};if(!p)return g;for(var v="",x=function(G){var X=h.slice(0,G),ie=D5({breakAll:d,style:c,children:X+v}).wordsWithComputedWidth,ne=m(ie),oe=ne.length>s||b(ne).width>Number(i);return[oe,ne]},w=0,S=h.length-1,E=0,T;w<=S&&E<=h.length-1;){var j=Math.floor((w+S)/2),O=j-1,N=x(O),R=$D(N,2),I=R[0],q=R[1],U=x(j),D=$D(U,1),B=D[0];if(!I&&!B&&(w=j+1),I&&B&&(S=j-1),!I&&B){T=q;break}E++}return T||g},BD=function(e){var r=tt(e)?[]:e.toString().split(I5);return[{words:r}]},Lae=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,o=e.maxLines;if((r||n)&&!Cs.isSsr){var c,d,p=D5({breakAll:s,children:i,style:a});if(p){var h=p.wordsWithComputedWidth,m=p.spaceWidth;c=h,d=m}else return BD(i);return Mae({breakAll:s,children:i,maxLines:o,style:a},c,d,r,n)}return BD(i)},qD="#808080",Vo=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,o=s===void 0?"1em":s,c=e.capHeight,d=c===void 0?"0.71em":c,p=e.scaleToFit,h=p===void 0?!1:p,m=e.textAnchor,g=m===void 0?"start":m,b=e.verticalAnchor,v=b===void 0?"end":b,x=e.fill,w=x===void 0?qD:x,S=FD(e,kae),E=M.useMemo(function(){return Lae({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),T=S.dx,j=S.dy,O=S.angle,N=S.className,R=S.breakAll,I=FD(S,Pae);if(!mr(n)||!mr(a))return null;var q=n+(be(T)?T:0),U=a+(be(j)?j:0),D;switch(v){case"start":D=g_("calc(".concat(d,")"));break;case"middle":D=g_("calc(".concat((E.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:D=g_("calc(".concat(E.length-1," * -").concat(o,")"));break}var B=[];if(h){var V=E[0].width,G=S.width;B.push("scale(".concat((be(G)?G/V:1)/V,")"))}return O&&B.push("rotate(".concat(O,", ").concat(q,", ").concat(U,")")),B.length&&(I.transform=B.join(" ")),Q.createElement("text",I1({},Be(I,!0),{x:q,y:U,className:nt("recharts-text",N),textAnchor:g,fill:w.includes("url")?qD:w}),E.map(function(X,ie){var ne=X.words.join(R?"":" ");return Q.createElement("tspan",{x:q,dy:ie===0?D:o,key:"".concat(ne,"-").concat(ie)},ne)}))};function _s(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xA(t){let e,r,n;t.length!==2?(e=_s,r=(o,c)=>_s(t(o),c),n=(o,c)=>t(o)-c):(e=t===_s||t===Fae?t:$ae,r=t,n=t);function i(o,c,d=0,p=o.length){if(d<p){if(e(c,c)!==0)return p;do{const h=d+p>>>1;r(o[h],c)<0?d=h+1:p=h}while(d<p)}return d}function a(o,c,d=0,p=o.length){if(d<p){if(e(c,c)!==0)return p;do{const h=d+p>>>1;r(o[h],c)<=0?d=h+1:p=h}while(d<p)}return d}function s(o,c,d=0,p=o.length){const h=i(o,c,d,p-1);return h>d&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function $ae(){return 0}function M5(t){return t===null?NaN:+t}function*Uae(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Bae=xA(_s),Yf=Bae.right;xA(M5).center;class zD extends Map{constructor(e,r=Vae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(VD(this,e))}has(e){return super.has(VD(this,e))}set(e,r){return super.set(qae(this,e),r)}delete(e){return super.delete(zae(this,e))}}function VD({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function qae({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function zae({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Vae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wae(t=_s){if(t===_s)return L5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function L5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hae=Math.sqrt(50),Kae=Math.sqrt(10),Gae=Math.sqrt(2);function qm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Hae?10:a>=Kae?5:a>=Gae?2:1;let o,c,d;return i<0?(d=Math.pow(10,-i)/s,o=Math.round(t*d),c=Math.round(e*d),o/d<t&&++o,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,o=Math.round(t/d),c=Math.round(e/d),o*d<t&&++o,c*d>e&&--c),c<o&&.5<=r&&r<2?qm(t,e,r*2):[o,c,d]}function D1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?qm(e,t,r):qm(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let d=0;d<o;++d)c[d]=(a-d)/-s;else for(let d=0;d<o;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<o;++d)c[d]=(i+d)/-s;else for(let d=0;d<o;++d)c[d]=(i+d)*s;return c}function M1(t,e,r){return e=+e,t=+t,r=+r,qm(t,e,r)[2]}function L1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?M1(e,t,r):M1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function WD(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HD(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function F5(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?L5:Wae(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,p=Math.log(c),h=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*h*(c-h)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(e-d*h/c+m)),b=Math.min(n,Math.floor(e+(c-d)*h/c+m));F5(t,e,g,b,i)}const a=t[e];let s=r,o=n;for(cd(t,r,e),i(t[n],a)>0&&cd(t,r,n);s<o;){for(cd(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?cd(t,r,o):(++o,cd(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function cd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Qae(t,e,r){if(t=Float64Array.from(Uae(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return HD(t);if(e>=1)return WD(t);var n,i=(n-1)*e,a=Math.floor(i),s=WD(F5(t,a).subarray(0,a+1)),o=HD(t.subarray(a+1));return s+(o-s)*(i-a)}}function Yae(t,e,r=M5){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function Xae(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Hn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const F1=Symbol("implicit");function bA(){var t=new zD,e=[],r=[],n=F1;function i(a){let s=t.get(a);if(s===void 0){if(n!==F1)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new zD;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bA(e,r).unknown(n)},Hn.apply(i,arguments),i}function cf(){var t=bA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,d=0,p=.5;delete t.unknown;function h(){var m=e().length,g=i<n,b=g?i:n,v=g?n:i;a=(v-b)/Math.max(1,m-c+d*2),o&&(a=Math.floor(a)),b+=(v-b-a*(m-c))*p,s=a*(1-c),o&&(b=Math.round(b),s=Math.round(s));var x=Xae(m).map(function(w){return b+a*w});return r(g?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(m){return arguments.length?(o=!!m,h()):o},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(p=Math.max(0,Math.min(1,m)),h()):p},t.copy=function(){return cf(e(),[n,i]).round(o).paddingInner(c).paddingOuter(d).align(p)},Hn.apply(h(),arguments)}function $5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $5(e())},t}function Nd(){return $5(cf.apply(null,arguments).paddingInner(1))}function wA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function U5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Xf(){}var uf=.7,zm=1/uf,sc="\\s*([+-]?\\d+)\\s*",df="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jae=/^#([0-9a-f]{3,8})$/,Zae=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),ese=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),tse=new RegExp(`^rgba\\(${sc},${sc},${sc},${df}\\)$`),rse=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${df}\\)$`),nse=new RegExp(`^hsl\\(${df},${Mi},${Mi}\\)$`),ise=new RegExp(`^hsla\\(${df},${Mi},${Mi},${df}\\)$`),KD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wA(Xf,ff,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GD,formatHex:GD,formatHex8:ase,formatHsl:sse,formatRgb:QD,toString:QD});function GD(){return this.rgb().formatHex()}function ase(){return this.rgb().formatHex8()}function sse(){return B5(this).formatHsl()}function QD(){return this.rgb().formatRgb()}function ff(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Jae.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YD(e):r===3?new fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zae.exec(t))?new fn(e[1],e[2],e[3],1):(e=ese.exec(t))?new fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tse.exec(t))?Lp(e[1],e[2],e[3],e[4]):(e=rse.exec(t))?Lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nse.exec(t))?ZD(e[1],e[2]/100,e[3]/100,1):(e=ise.exec(t))?ZD(e[1],e[2]/100,e[3]/100,e[4]):KD.hasOwnProperty(t)?YD(KD[t]):t==="transparent"?new fn(NaN,NaN,NaN,0):null}function YD(t){return new fn(t>>16&255,t>>8&255,t&255,1)}function Lp(t,e,r,n){return n<=0&&(t=e=r=NaN),new fn(t,e,r,n)}function ose(t){return t instanceof Xf||(t=ff(t)),t?(t=t.rgb(),new fn(t.r,t.g,t.b,t.opacity)):new fn}function $1(t,e,r,n){return arguments.length===1?ose(t):new fn(t,e,r,n??1)}function fn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}wA(fn,$1,U5(Xf,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uf:Math.pow(uf,t),new fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fn(Ro(this.r),Ro(this.g),Ro(this.b),Vm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XD,formatHex:XD,formatHex8:lse,formatRgb:JD,toString:JD}));function XD(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function lse(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function JD(){const t=Vm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${t===1?")":`, ${t})`}`}function Vm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ro(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wo(t){return t=Ro(t),(t<16?"0":"")+t.toString(16)}function ZD(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hi(t,e,r,n)}function B5(t){if(t instanceof hi)return new hi(t.h,t.s,t.l,t.opacity);if(t instanceof Xf||(t=ff(t)),!t)return new hi;if(t instanceof hi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new hi(s,o,c,t.opacity)}function cse(t,e,r,n){return arguments.length===1?B5(t):new hi(t,e,r,n??1)}function hi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}wA(hi,cse,U5(Xf,{brighter(t){return t=t==null?zm:Math.pow(zm,t),new hi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uf:Math.pow(uf,t),new hi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new fn(y_(t>=240?t-240:t+120,i,n),y_(t,i,n),y_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hi(eM(this.h),Fp(this.s),Fp(this.l),Vm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Vm(this.opacity);return`${t===1?"hsl(":"hsla("}${eM(this.h)}, ${Fp(this.s)*100}%, ${Fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function eM(t){return t=(t||0)%360,t<0?t+360:t}function Fp(t){return Math.max(0,Math.min(1,t||0))}function y_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const _A=t=>()=>t;function use(t,e){return function(r){return t+r*e}}function dse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fse(t){return(t=+t)==1?q5:function(e,r){return r-e?dse(e,r,t):_A(isNaN(e)?r:e)}}function q5(t,e){var r=e-t;return r?use(t,r):_A(isNaN(t)?e:t)}const tM=(function t(e){var r=fse(e);function n(i,a){var s=r((i=$1(i)).r,(a=$1(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),d=q5(i.opacity,a.opacity);return function(p){return i.r=s(p),i.g=o(p),i.b=c(p),i.opacity=d(p),i+""}}return n.gamma=t,n})(1);function hse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function pse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=lu(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function gse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Wm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function yse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=lu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var U1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,v_=new RegExp(U1.source,"g");function vse(t){return function(){return t}}function xse(t){return function(e){return t(e)+""}}function bse(t,e){var r=U1.lastIndex=v_.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=U1.exec(t))&&(i=v_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Wm(n,i)})),r=v_.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?xse(c[0].x):vse(e):(e=c.length,function(d){for(var p=0,h;p<e;++p)o[(h=c[p]).i]=h.x(d);return o.join("")})}function lu(t,e){var r=typeof e,n;return e==null||r==="boolean"?_A(e):(r==="number"?Wm:r==="string"?(n=ff(e))?(e=n,tM):bse:e instanceof ff?tM:e instanceof Date?gse:pse(e)?hse:Array.isArray(e)?mse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yse:Wm)(t,e)}function SA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function wse(t,e){e===void 0&&(e=t,t=lu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function _se(t){return function(){return t}}function Hm(t){return+t}var rM=[0,1];function an(t){return t}function B1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_se(isNaN(e)?NaN:.5)}function Sse(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Ese(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=B1(i,n),a=r(s,a)):(n=B1(n,i),a=r(a,s)),function(o){return a(n(o))}}function jse(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=B1(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=Yf(t,o,1,n)-1;return a[c](i[c](o))}}function Jf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function py(){var t=rM,e=rM,r=lu,n,i,a,s=an,o,c,d;function p(){var m=Math.min(t.length,e.length);return s!==an&&(s=Sse(t[0],t[m-1])),o=m>2?jse:Ese,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=o(t.map(n),e,r)))(n(s(m)))}return h.invert=function(m){return s(i((d||(d=o(e,t.map(n),Wm)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,Hm),p()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),p()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=SA,p()},h.clamp=function(m){return arguments.length?(s=m?!0:an,p()):s!==an},h.interpolate=function(m){return arguments.length?(r=m,p()):r},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,g){return n=m,i=g,p()}}function EA(){return py()(an,an)}function Ase(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Km(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function kc(t){return t=Km(Math.abs(t)),t?t[1]:NaN}function Tse(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ose(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hf(t){if(!(e=kse.exec(t)))throw new Error("invalid format: "+t);var e;return new jA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hf.prototype=jA.prototype;function jA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pse(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Gm;function Nse(t,e){var r=Km(t,e);if(!r)return Gm=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(Gm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Km(t,Math.max(0,e+a-1))[0]}function nM(t,e){var r=Km(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ase,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nM(t*100,e),r:nM,s:Nse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aM(t){return t}var sM=Array.prototype.map,oM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cse(t){var e=t.grouping===void 0||t.thousands===void 0?aM:Tse(sM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aM:Ose(sM.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h,m){h=hf(h);var g=h.fill,b=h.align,v=h.sign,x=h.symbol,w=h.zero,S=h.width,E=h.comma,T=h.precision,j=h.trim,O=h.type;O==="n"?(E=!0,O="g"):iM[O]||(T===void 0&&(T=12),j=!0,O="g"),(w||g==="0"&&b==="=")&&(w=!0,g="0",b="=");var N=(m&&m.prefix!==void 0?m.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),R=(x==="$"?n:/[%p]/.test(O)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),I=iM[O],q=/[defgprs%]/.test(O);T=T===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function U(D){var B=N,V=R,G,X,ie;if(O==="c")V=I(D)+V,D="";else{D=+D;var ne=D<0||1/D<0;if(D=isNaN(D)?c:I(Math.abs(D),T),j&&(D=Pse(D)),ne&&+D==0&&v!=="+"&&(ne=!1),B=(ne?v==="("?v:o:v==="-"||v==="("?"":v)+B,V=(O==="s"&&!isNaN(D)&&Gm!==void 0?oM[8+Gm/3]:"")+V+(ne&&v==="("?")":""),q){for(G=-1,X=D.length;++G<X;)if(ie=D.charCodeAt(G),48>ie||ie>57){V=(ie===46?i+D.slice(G+1):D.slice(G))+V,D=D.slice(0,G);break}}}E&&!w&&(D=e(D,1/0));var oe=B.length+D.length+V.length,se=oe<S?new Array(S-oe+1).join(g):"";switch(E&&w&&(D=e(se+D,se.length?S-V.length:1/0),se=""),b){case"<":D=B+D+V+se;break;case"=":D=B+se+D+V;break;case"^":D=se.slice(0,oe=se.length>>1)+B+D+V+se.slice(oe);break;default:D=se+B+D+V;break}return a(D)}return U.toString=function(){return h+""},U}function p(h,m){var g=Math.max(-8,Math.min(8,Math.floor(kc(m)/3)))*3,b=Math.pow(10,-g),v=d((h=hf(h),h.type="f",h),{suffix:oM[8+g/3]});return function(x){return v(b*x)}}return{format:d,formatPrefix:p}}var $p,AA,z5;Rse({thousands:",",grouping:[3],currency:["$",""]});function Rse(t){return $p=Cse(t),AA=$p.format,z5=$p.formatPrefix,$p}function Ise(t){return Math.max(0,-kc(Math.abs(t)))}function Dse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kc(e)/3)))*3-kc(Math.abs(t)))}function Mse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kc(e)-kc(t))+1}function V5(t,e,r,n){var i=L1(t,e,r),a;switch(n=hf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Dse(i,s))&&(n.precision=a),z5(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Mse(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Ise(i))&&(n.precision=a-(n.type==="%")*2);break}}return AA(n)}function Rs(t){var e=t.domain;return t.ticks=function(r){var n=e();return D1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return V5(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,d,p=10;for(o<s&&(d=s,s=o,o=d,d=i,i=a,a=d);p-- >0;){if(d=M1(s,o,r),d===c)return n[i]=s,n[a]=o,e(n);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;c=d}return t},t}function Qm(){var t=EA();return t.copy=function(){return Jf(t,Qm())},Hn.apply(t,arguments),Rs(t)}function W5(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Hm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return W5(t).unknown(e)},t=arguments.length?Array.from(t,Hm):[0,1],Rs(r)}function H5(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function lM(t){return Math.log(t)}function cM(t){return Math.exp(t)}function Lse(t){return-Math.log(-t)}function Fse(t){return-Math.exp(-t)}function $se(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Use(t){return t===10?$se:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function uM(t){return(e,r)=>-t(-e,r)}function TA(t){const e=t(lM,cM),r=e.domain;let n=10,i,a;function s(){return i=Bse(n),a=Use(n),r()[0]<0?(i=uM(i),a=uM(a),t(Lse,Fse)):t(lM,cM),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let d=c[0],p=c[c.length-1];const h=p<d;h&&([d,p]=[p,d]);let m=i(d),g=i(p),b,v;const x=o==null?10:+o;let w=[];if(!(n%1)&&g-m<x){if(m=Math.floor(m),g=Math.ceil(g),d>0){for(;m<=g;++m)for(b=1;b<n;++b)if(v=m<0?b/a(-m):b*a(m),!(v<d)){if(v>p)break;w.push(v)}}else for(;m<=g;++m)for(b=n-1;b>=1;--b)if(v=m>0?b/a(-m):b*a(m),!(v<d)){if(v>p)break;w.push(v)}w.length*2<x&&(w=D1(d,p,x))}else w=D1(m,g,Math.min(g-m,x)).map(a);return h?w.reverse():w},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hf(c)).precision==null&&(c.trim=!0),c=AA(c)),o===1/0)return c;const d=Math.max(1,n*o/e.ticks().length);return p=>{let h=p/a(Math.round(i(p)));return h*n<n-.5&&(h*=n),h<=d?c(p):""}},e.nice=()=>r(H5(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function K5(){const t=TA(py()).domain([1,10]);return t.copy=()=>Jf(t,K5()).base(t.base()),Hn.apply(t,arguments),t}function dM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OA(t){var e=1,r=t(dM(e),fM(e));return r.constant=function(n){return arguments.length?t(dM(e=+n),fM(e)):e},Rs(r)}function G5(){var t=OA(py());return t.copy=function(){return Jf(t,G5()).constant(t.constant())},Hn.apply(t,arguments)}function hM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function zse(t){return t<0?-t*t:t*t}function kA(t){var e=t(an,an),r=1;function n(){return r===1?t(an,an):r===.5?t(qse,zse):t(hM(r),hM(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Rs(e)}function PA(){var t=kA(py());return t.copy=function(){return Jf(t,PA()).exponent(t.exponent())},Hn.apply(t,arguments),t}function Vse(){return PA.apply(null,arguments).exponent(.5)}function pM(t){return Math.sign(t)*t*t}function Wse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Q5(){var t=EA(),e=[0,1],r=!1,n;function i(a){var s=Wse(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(pM(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Hm)).map(pM)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Q5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Hn.apply(i,arguments),Rs(i)}function Y5(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=Yae(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Yf(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(_s),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Y5().domain(t).range(e).unknown(n)},Hn.apply(a,arguments)}function X5(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Yf(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return X5().domain([t,e]).range(i).unknown(a)},Hn.apply(Rs(s),arguments)}function J5(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Yf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return J5().domain(t).range(e).unknown(r)},Hn.apply(i,arguments)}const x_=new Date,b_=new Date;function gr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let d;do c.push(d=new Date(+a)),e(a,o),t(a);while(d<a&&a<s);return c},i.filter=a=>gr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(x_.setTime(+a),b_.setTime(+s),t(x_),t(b_),Math.floor(r(x_,b_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ym=gr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ym.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ym);Ym.range;const fa=1e3,Un=fa*60,ha=Un*60,_a=ha*24,NA=_a*7,mM=_a*30,w_=_a*365,_o=gr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fa)},(t,e)=>(e-t)/fa,t=>t.getUTCSeconds());_o.range;const CA=gr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getMinutes());CA.range;const RA=gr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getUTCMinutes());RA.range;const IA=gr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fa-t.getMinutes()*Un)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getHours());IA.range;const DA=gr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ha)},(t,e)=>(e-t)/ha,t=>t.getUTCHours());DA.range;const Zf=gr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Un)/_a,t=>t.getDate()-1);Zf.range;const my=gr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_a,t=>t.getUTCDate()-1);my.range;const Z5=gr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_a,t=>Math.floor(t/_a));Z5.range;function Zo(t){return gr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Un)/NA)}const gy=Zo(0),Xm=Zo(1),Hse=Zo(2),Kse=Zo(3),Pc=Zo(4),Gse=Zo(5),Qse=Zo(6);gy.range;Xm.range;Hse.range;Kse.range;Pc.range;Gse.range;Qse.range;function el(t){return gr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/NA)}const yy=el(0),Jm=el(1),Yse=el(2),Xse=el(3),Nc=el(4),Jse=el(5),Zse=el(6);yy.range;Jm.range;Yse.range;Xse.range;Nc.range;Jse.range;Zse.range;const MA=gr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MA.range;const LA=gr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LA.range;const Sa=gr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Sa.range;const Ea=gr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ea.range;function eB(t,e,r,n,i,a){const s=[[_o,1,fa],[_o,5,5*fa],[_o,15,15*fa],[_o,30,30*fa],[a,1,Un],[a,5,5*Un],[a,15,15*Un],[a,30,30*Un],[i,1,ha],[i,3,3*ha],[i,6,6*ha],[i,12,12*ha],[n,1,_a],[n,2,2*_a],[r,1,NA],[e,1,mM],[e,3,3*mM],[t,1,w_]];function o(d,p,h){const m=p<d;m&&([d,p]=[p,d]);const g=h&&typeof h.range=="function"?h:c(d,p,h),b=g?g.range(d,+p+1):[];return m?b.reverse():b}function c(d,p,h){const m=Math.abs(p-d)/h,g=xA(([,,x])=>x).right(s,m);if(g===s.length)return t.every(L1(d/w_,p/w_,h));if(g===0)return Ym.every(Math.max(L1(d,p,h),1));const[b,v]=s[m/s[g-1][2]<s[g][2]/m?g-1:g];return b.every(v)}return[o,c]}const[eoe,toe]=eB(Ea,LA,yy,Z5,DA,RA),[roe,noe]=eB(Sa,MA,gy,Zf,IA,CA);function __(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ud(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ioe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,d=dd(i),p=fd(i),h=dd(a),m=fd(a),g=dd(s),b=fd(s),v=dd(o),x=fd(o),w=dd(c),S=fd(c),E={a:ie,A:ne,b:oe,B:se,c:null,d:wM,e:wM,f:Toe,g:Loe,G:$oe,H:Eoe,I:joe,j:Aoe,L:tB,m:Ooe,M:koe,p:W,q:Z,Q:EM,s:jM,S:Poe,u:Noe,U:Coe,V:Roe,w:Ioe,W:Doe,x:null,X:null,y:Moe,Y:Foe,Z:Uoe,"%":SM},T={a:ge,A:_e,b:Pe,B:Me,c:null,d:_M,e:_M,f:Voe,g:ele,G:rle,H:Boe,I:qoe,j:zoe,L:nB,m:Woe,M:Hoe,p:Ze,q:Fe,Q:EM,s:jM,S:Koe,u:Goe,U:Qoe,V:Yoe,w:Xoe,W:Joe,x:null,X:null,y:Zoe,Y:tle,Z:nle,"%":SM},j={a:q,A:U,b:D,B,c:V,d:xM,e:xM,f:boe,g:vM,G:yM,H:bM,I:bM,j:goe,L:xoe,m:moe,M:yoe,p:I,q:poe,Q:_oe,s:Soe,S:voe,u:coe,U:uoe,V:doe,w:loe,W:foe,x:G,X,y:vM,Y:yM,Z:hoe,"%":woe};E.x=O(r,E),E.X=O(n,E),E.c=O(e,E),T.x=O(r,T),T.X=O(n,T),T.c=O(e,T);function O(me,Oe){return function(Ve){var he=[],st=-1,Xe=0,yt=me.length,vt,pt,or;for(Ve instanceof Date||(Ve=new Date(+Ve));++st<yt;)me.charCodeAt(st)===37&&(he.push(me.slice(Xe,st)),(pt=gM[vt=me.charAt(++st)])!=null?vt=me.charAt(++st):pt=vt==="e"?" ":"0",(or=Oe[vt])&&(vt=or(Ve,pt)),he.push(vt),Xe=st+1);return he.push(me.slice(Xe,st)),he.join("")}}function N(me,Oe){return function(Ve){var he=ud(1900,void 0,1),st=R(he,me,Ve+="",0),Xe,yt;if(st!=Ve.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Oe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Xe=S_(ud(he.y,0,1)),yt=Xe.getUTCDay(),Xe=yt>4||yt===0?Jm.ceil(Xe):Jm(Xe),Xe=my.offset(Xe,(he.V-1)*7),he.y=Xe.getUTCFullYear(),he.m=Xe.getUTCMonth(),he.d=Xe.getUTCDate()+(he.w+6)%7):(Xe=__(ud(he.y,0,1)),yt=Xe.getDay(),Xe=yt>4||yt===0?Xm.ceil(Xe):Xm(Xe),Xe=Zf.offset(Xe,(he.V-1)*7),he.y=Xe.getFullYear(),he.m=Xe.getMonth(),he.d=Xe.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),yt="Z"in he?S_(ud(he.y,0,1)).getUTCDay():__(ud(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(yt+5)%7:he.w+he.U*7-(yt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,S_(he)):__(he)}}function R(me,Oe,Ve,he){for(var st=0,Xe=Oe.length,yt=Ve.length,vt,pt;st<Xe;){if(he>=yt)return-1;if(vt=Oe.charCodeAt(st++),vt===37){if(vt=Oe.charAt(st++),pt=j[vt in gM?Oe.charAt(st++):vt],!pt||(he=pt(me,Ve,he))<0)return-1}else if(vt!=Ve.charCodeAt(he++))return-1}return he}function I(me,Oe,Ve){var he=d.exec(Oe.slice(Ve));return he?(me.p=p.get(he[0].toLowerCase()),Ve+he[0].length):-1}function q(me,Oe,Ve){var he=g.exec(Oe.slice(Ve));return he?(me.w=b.get(he[0].toLowerCase()),Ve+he[0].length):-1}function U(me,Oe,Ve){var he=h.exec(Oe.slice(Ve));return he?(me.w=m.get(he[0].toLowerCase()),Ve+he[0].length):-1}function D(me,Oe,Ve){var he=w.exec(Oe.slice(Ve));return he?(me.m=S.get(he[0].toLowerCase()),Ve+he[0].length):-1}function B(me,Oe,Ve){var he=v.exec(Oe.slice(Ve));return he?(me.m=x.get(he[0].toLowerCase()),Ve+he[0].length):-1}function V(me,Oe,Ve){return R(me,e,Oe,Ve)}function G(me,Oe,Ve){return R(me,r,Oe,Ve)}function X(me,Oe,Ve){return R(me,n,Oe,Ve)}function ie(me){return s[me.getDay()]}function ne(me){return a[me.getDay()]}function oe(me){return c[me.getMonth()]}function se(me){return o[me.getMonth()]}function W(me){return i[+(me.getHours()>=12)]}function Z(me){return 1+~~(me.getMonth()/3)}function ge(me){return s[me.getUTCDay()]}function _e(me){return a[me.getUTCDay()]}function Pe(me){return c[me.getUTCMonth()]}function Me(me){return o[me.getUTCMonth()]}function Ze(me){return i[+(me.getUTCHours()>=12)]}function Fe(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Oe=O(me+="",E);return Oe.toString=function(){return me},Oe},parse:function(me){var Oe=N(me+="",!1);return Oe.toString=function(){return me},Oe},utcFormat:function(me){var Oe=O(me+="",T);return Oe.toString=function(){return me},Oe},utcParse:function(me){var Oe=N(me+="",!0);return Oe.toString=function(){return me},Oe}}}var gM={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,aoe=/^%/,soe=/[\\^$*+?|[\]().{}]/g;function ht(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function ooe(t){return t.replace(soe,"\\$&")}function dd(t){return new RegExp("^(?:"+t.map(ooe).join("|")+")","i")}function fd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function loe(t,e,r){var n=Er.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function coe(t,e,r){var n=Er.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function uoe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function doe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function foe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function yM(t,e,r){var n=Er.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vM(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hoe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function poe(t,e,r){var n=Er.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function moe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function xM(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function goe(t,e,r){var n=Er.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function bM(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function yoe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function voe(t,e,r){var n=Er.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function xoe(t,e,r){var n=Er.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function boe(t,e,r){var n=Er.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function woe(t,e,r){var n=aoe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _oe(t,e,r){var n=Er.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Soe(t,e,r){var n=Er.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wM(t,e){return ht(t.getDate(),e,2)}function Eoe(t,e){return ht(t.getHours(),e,2)}function joe(t,e){return ht(t.getHours()%12||12,e,2)}function Aoe(t,e){return ht(1+Zf.count(Sa(t),t),e,3)}function tB(t,e){return ht(t.getMilliseconds(),e,3)}function Toe(t,e){return tB(t,e)+"000"}function Ooe(t,e){return ht(t.getMonth()+1,e,2)}function koe(t,e){return ht(t.getMinutes(),e,2)}function Poe(t,e){return ht(t.getSeconds(),e,2)}function Noe(t){var e=t.getDay();return e===0?7:e}function Coe(t,e){return ht(gy.count(Sa(t)-1,t),e,2)}function rB(t){var e=t.getDay();return e>=4||e===0?Pc(t):Pc.ceil(t)}function Roe(t,e){return t=rB(t),ht(Pc.count(Sa(t),t)+(Sa(t).getDay()===4),e,2)}function Ioe(t){return t.getDay()}function Doe(t,e){return ht(Xm.count(Sa(t)-1,t),e,2)}function Moe(t,e){return ht(t.getFullYear()%100,e,2)}function Loe(t,e){return t=rB(t),ht(t.getFullYear()%100,e,2)}function Foe(t,e){return ht(t.getFullYear()%1e4,e,4)}function $oe(t,e){var r=t.getDay();return t=r>=4||r===0?Pc(t):Pc.ceil(t),ht(t.getFullYear()%1e4,e,4)}function Uoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function _M(t,e){return ht(t.getUTCDate(),e,2)}function Boe(t,e){return ht(t.getUTCHours(),e,2)}function qoe(t,e){return ht(t.getUTCHours()%12||12,e,2)}function zoe(t,e){return ht(1+my.count(Ea(t),t),e,3)}function nB(t,e){return ht(t.getUTCMilliseconds(),e,3)}function Voe(t,e){return nB(t,e)+"000"}function Woe(t,e){return ht(t.getUTCMonth()+1,e,2)}function Hoe(t,e){return ht(t.getUTCMinutes(),e,2)}function Koe(t,e){return ht(t.getUTCSeconds(),e,2)}function Goe(t){var e=t.getUTCDay();return e===0?7:e}function Qoe(t,e){return ht(yy.count(Ea(t)-1,t),e,2)}function iB(t){var e=t.getUTCDay();return e>=4||e===0?Nc(t):Nc.ceil(t)}function Yoe(t,e){return t=iB(t),ht(Nc.count(Ea(t),t)+(Ea(t).getUTCDay()===4),e,2)}function Xoe(t){return t.getUTCDay()}function Joe(t,e){return ht(Jm.count(Ea(t)-1,t),e,2)}function Zoe(t,e){return ht(t.getUTCFullYear()%100,e,2)}function ele(t,e){return t=iB(t),ht(t.getUTCFullYear()%100,e,2)}function tle(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function rle(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Nc(t):Nc.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function nle(){return"+0000"}function SM(){return"%"}function EM(t){return+t}function jM(t){return Math.floor(+t/1e3)}var Dl,aB,sB;ile({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ile(t){return Dl=ioe(t),aB=Dl.format,Dl.parse,sB=Dl.utcFormat,Dl.utcParse,Dl}function ale(t){return new Date(t)}function sle(t){return t instanceof Date?+t:+new Date(+t)}function FA(t,e,r,n,i,a,s,o,c,d){var p=EA(),h=p.invert,m=p.domain,g=d(".%L"),b=d(":%S"),v=d("%I:%M"),x=d("%I %p"),w=d("%a %d"),S=d("%b %d"),E=d("%B"),T=d("%Y");function j(O){return(c(O)<O?g:o(O)<O?b:s(O)<O?v:a(O)<O?x:n(O)<O?i(O)<O?w:S:r(O)<O?E:T)(O)}return p.invert=function(O){return new Date(h(O))},p.domain=function(O){return arguments.length?m(Array.from(O,sle)):m().map(ale)},p.ticks=function(O){var N=m();return t(N[0],N[N.length-1],O??10)},p.tickFormat=function(O,N){return N==null?j:d(N)},p.nice=function(O){var N=m();return(!O||typeof O.range!="function")&&(O=e(N[0],N[N.length-1],O??10)),O?m(H5(N,O)):p},p.copy=function(){return Jf(p,FA(t,e,r,n,i,a,s,o,c,d))},p}function ole(){return Hn.apply(FA(roe,noe,Sa,MA,gy,Zf,IA,CA,_o,aB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lle(){return Hn.apply(FA(eoe,toe,Ea,LA,yy,my,DA,RA,_o,sB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vy(){var t=0,e=1,r,n,i,a,s=an,o=!1,c;function d(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(h){return arguments.length?(o=!!h,d):o},d.interpolator=function(h){return arguments.length?(s=h,d):s};function p(h){return function(m){var g,b;return arguments.length?([g,b]=m,s=h(g,b),d):[s(0),s(1)]}}return d.range=p(lu),d.rangeRound=p(SA),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),d}}function Is(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oB(){var t=Rs(vy()(an));return t.copy=function(){return Is(t,oB())},Na.apply(t,arguments)}function lB(){var t=TA(vy()).domain([1,10]);return t.copy=function(){return Is(t,lB()).base(t.base())},Na.apply(t,arguments)}function cB(){var t=OA(vy());return t.copy=function(){return Is(t,cB()).constant(t.constant())},Na.apply(t,arguments)}function $A(){var t=kA(vy());return t.copy=function(){return Is(t,$A()).exponent(t.exponent())},Na.apply(t,arguments)}function cle(){return $A.apply(null,arguments).exponent(.5)}function uB(){var t=[],e=an;function r(n){if(n!=null&&!isNaN(n=+n))return e((Yf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_s),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Qae(t,a/n))},r.copy=function(){return uB(e).domain(t)},Na.apply(r,arguments)}function xy(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,d=an,p,h=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+p(v))-a)*(n*v<n*a?o:c),d(h?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,i=p(t=+t),a=p(e=+e),s=p(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(h=!!v,g):h},g.interpolator=function(v){return arguments.length?(d=v,g):d};function b(v){return function(x){var w,S,E;return arguments.length?([w,S,E]=x,d=wse(v,[w,S,E]),g):[d(0),d(.5),d(1)]}}return g.range=b(lu),g.rangeRound=b(SA),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return p=v,i=v(t),a=v(e),s=v(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,g}}function dB(){var t=Rs(xy()(an));return t.copy=function(){return Is(t,dB())},Na.apply(t,arguments)}function fB(){var t=TA(xy()).domain([.1,1,10]);return t.copy=function(){return Is(t,fB()).base(t.base())},Na.apply(t,arguments)}function hB(){var t=OA(xy());return t.copy=function(){return Is(t,hB()).constant(t.constant())},Na.apply(t,arguments)}function UA(){var t=kA(xy());return t.copy=function(){return Is(t,UA()).exponent(t.exponent())},Na.apply(t,arguments)}function ule(){return UA.apply(null,arguments).exponent(.5)}const AM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cf,scaleDiverging:dB,scaleDivergingLog:fB,scaleDivergingPow:UA,scaleDivergingSqrt:ule,scaleDivergingSymlog:hB,scaleIdentity:W5,scaleImplicit:F1,scaleLinear:Qm,scaleLog:K5,scaleOrdinal:bA,scalePoint:Nd,scalePow:PA,scaleQuantile:Y5,scaleQuantize:X5,scaleRadial:Q5,scaleSequential:oB,scaleSequentialLog:lB,scaleSequentialPow:$A,scaleSequentialQuantile:uB,scaleSequentialSqrt:cle,scaleSequentialSymlog:cB,scaleSqrt:Vse,scaleSymlog:G5,scaleThreshold:J5,scaleTime:ole,scaleUtc:lle,tickFormat:V5},Symbol.toStringTag,{value:"Module"}));var E_,TM;function by(){if(TM)return E_;TM=1;var t=iu();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var o=r[a],c=n(o);if(c!=null&&(d===void 0?c===c&&!t(c):i(c,d)))var d=c,p=o}return p}return E_=e,E_}var j_,OM;function pB(){if(OM)return j_;OM=1;function t(e,r){return e>r}return j_=t,j_}var A_,kM;function dle(){if(kM)return A_;kM=1;var t=by(),e=pB(),r=ou();function n(i){return i&&i.length?t(i,r,e):void 0}return A_=n,A_}var fle=dle();const ys=gt(fle);var T_,PM;function mB(){if(PM)return T_;PM=1;function t(e,r){return e<r}return T_=t,T_}var O_,NM;function hle(){if(NM)return O_;NM=1;var t=by(),e=mB(),r=ou();function n(i){return i&&i.length?t(i,r,e):void 0}return O_=n,O_}var ple=hle();const wy=gt(ple);var k_,CM;function mle(){if(CM)return k_;CM=1;var t=rA(),e=zi(),r=E5(),n=hn();function i(a,s){var o=n(a)?t:r;return o(a,e(s,3))}return k_=i,k_}var P_,RM;function gle(){if(RM)return P_;RM=1;var t=_5(),e=mle();function r(n,i){return t(e(n,i),1)}return P_=r,P_}var yle=gle();const vle=gt(yle);var N_,IM;function xle(){if(IM)return N_;IM=1;var t=mA();function e(r,n){return t(r,n)}return N_=e,N_}var ble=xle();const Wo=gt(ble);var cu=1e9,wle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qA,Ft=!0,Wn="[DecimalError] ",Io=Wn+"Invalid argument: ",BA=Wn+"Exponent out of range: ",uu=Math.floor,co=Math.pow,_le=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sn,wr=1e7,Rt=7,gB=9007199254740991,Zm=uu(gB/Rt),Ce={};Ce.absoluteValue=Ce.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ce.comparedTo=Ce.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Rt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(t){return xa(this,new this.constructor(t))};Ce.dividedToIntegerBy=Ce.idiv=function(t){var e=this,r=e.constructor;return St(xa(e,new r(t),0,1),r.precision)};Ce.equals=Ce.eq=function(t){return!this.cmp(t)};Ce.exponent=function(){return sr(this)};Ce.greaterThan=Ce.gt=function(t){return this.cmp(t)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(t){return this.cmp(t)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(t){return this.cmp(t)<0};Ce.lessThanOrEqualTo=Ce.lte=function(t){return this.cmp(t)<1};Ce.logarithm=Ce.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Sn))throw Error(Wn+"NaN");if(r.s<1)throw Error(Wn+(r.s?"NaN":"-Infinity"));return r.eq(Sn)?new n(0):(Ft=!1,e=xa(pf(r,a),pf(t,a),a),Ft=!0,St(e,i))};Ce.minus=Ce.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xB(e,t):yB(e,(t.s=-t.s,t))};Ce.modulo=Ce.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Wn+"NaN");return r.s?(Ft=!1,e=xa(r,t,0,1).times(t),Ft=!0,r.minus(e)):St(new n(r),i)};Ce.naturalExponential=Ce.exp=function(){return vB(this)};Ce.naturalLogarithm=Ce.ln=function(){return pf(this)};Ce.negated=Ce.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ce.plus=Ce.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yB(e,t):xB(e,(t.s=-t.s,t))};Ce.precision=Ce.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Io+t);if(e=sr(i)+1,n=i.d.length-1,r=n*Rt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ce.squareRoot=Ce.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Wn+"NaN")}for(t=sr(o),Ft=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ni(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(xa(o,a,s+2)).times(.5),Ni(a.d).slice(0,s)===(e=Ni(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(St(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Ft=!0,St(n,r)};Ce.times=Ce.mul=function(t){var e,r,n,i,a,s,o,c,d,p=this,h=p.constructor,m=p.d,g=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,c=m.length,d=g.length,c<d&&(a=m,m=g,g=a,s=c,c=d,d=s),a=[],s=c+d,n=s;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+g[n]*m[i-n-1]+e,a[i--]=o%wr|0,e=o/wr|0;a[i]=(a[i]+e)%wr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ft?St(t,h.precision):t};Ce.toDecimalPlaces=Ce.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ui(t,0,cu),e===void 0?e=n.rounding:Ui(e,0,8),St(r,t+sr(r)+1,e))};Ce.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ho(n,!0):(Ui(t,0,cu),e===void 0?e=i.rounding:Ui(e,0,8),n=St(new i(n),t+1,e),r=Ho(n,!0,t+1)),r};Ce.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ho(i):(Ui(t,0,cu),e===void 0?e=a.rounding:Ui(e,0,8),n=St(new a(i),t+sr(i)+1,e),r=Ho(n.abs(),!1,t+sr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var t=this,e=t.constructor;return St(new e(t),sr(t)+1,e.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,d=12,p=+(t=new c(t));if(!t.s)return new c(Sn);if(o=new c(o),!o.s){if(t.s<1)throw Error(Wn+"Infinity");return o}if(o.eq(Sn))return o;if(n=c.precision,t.eq(Sn))return St(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=p<0?-p:p)<=gB){for(i=new c(Sn),e=Math.ceil(n/Rt+4),Ft=!1;r%2&&(i=i.times(o),MM(i.d,e)),r=uu(r/2),r!==0;)o=o.times(o),MM(o.d,e);return Ft=!0,t.s<0?new c(Sn).div(i):St(i,n)}}else if(a<0)throw Error(Wn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ft=!1,i=t.times(pf(o,n+d)),Ft=!0,i=vB(i),i.s=a,i};Ce.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=sr(i),n=Ho(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ui(t,1,cu),e===void 0?e=a.rounding:Ui(e,0,8),i=St(new a(i),t,e),r=sr(i),n=Ho(i,t<=r||r<=a.toExpNeg,t)),n};Ce.toSignificantDigits=Ce.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ui(t,1,cu),e===void 0?e=n.rounding:Ui(e,0,8)),St(new n(r),t,e)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=sr(t),r=t.constructor;return Ho(t,e<=r.toExpNeg||e>=r.toExpPos)};function yB(t,e){var r,n,i,a,s,o,c,d,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ft?St(e,h):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=d.length):(n=d,i=s,o=c.length),s=Math.ceil(h/Rt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=d.length,o-a<0&&(a=o,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/wr|0,c[a]%=wr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ft?St(e,h):e}function Ui(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Io+t)}function Ni(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Rt-n.length,r&&(a+=as(r)),a+=n;s=t[e],n=s+"",r=Rt-n.length,r&&(a+=as(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var xa=(function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%wr|0,s=a/wr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*wr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,d,p,h,m,g,b,v,x,w,S,E,T,j,O,N,R,I=n.constructor,q=n.s==i.s?1:-1,U=n.d,D=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(Wn+"Division by zero");for(c=n.e-i.e,N=D.length,j=U.length,g=new I(q),b=g.d=[],d=0;D[d]==(U[d]||0);)++d;if(D[d]>(U[d]||0)&&--c,a==null?S=a=I.precision:s?S=a+(sr(n)-sr(i))+1:S=a,S<0)return new I(0);if(S=S/Rt+2|0,d=0,N==1)for(p=0,D=D[0],S++;(d<j||p)&&S--;d++)E=p*wr+(U[d]||0),b[d]=E/D|0,p=E%D|0;else{for(p=wr/(D[0]+1)|0,p>1&&(D=t(D,p),U=t(U,p),N=D.length,j=U.length),T=N,v=U.slice(0,N),x=v.length;x<N;)v[x++]=0;R=D.slice(),R.unshift(0),O=D[0],D[1]>=wr/2&&++O;do p=0,o=e(D,v,N,x),o<0?(w=v[0],N!=x&&(w=w*wr+(v[1]||0)),p=w/O|0,p>1?(p>=wr&&(p=wr-1),h=t(D,p),m=h.length,x=v.length,o=e(h,v,m,x),o==1&&(p--,r(h,N<m?R:D,m))):(p==0&&(o=p=1),h=D.slice()),m=h.length,m<x&&h.unshift(0),r(v,h,x),o==-1&&(x=v.length,o=e(D,v,N,x),o<1&&(p++,r(v,N<x?R:D,x))),x=v.length):o===0&&(p++,v=[0]),b[d++]=p,o&&v[0]?v[x++]=U[T]||0:(v=[U[T]],x=1);while((T++<j||v[0]!==void 0)&&S--)}return b[0]||b.shift(),g.e=c,St(g,s?a+sr(g)+1:a)}})();function vB(t,e){var r,n,i,a,s,o,c=0,d=0,p=t.constructor,h=p.precision;if(sr(t)>16)throw Error(BA+sr(t));if(!t.s)return new p(Sn);for(Ft=!1,o=h,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(n=Math.log(co(2,d))/Math.LN10*2+5|0,o+=n,r=i=a=new p(Sn),p.precision=o;;){if(i=St(i.times(t),o),r=r.times(++c),s=a.plus(xa(i,r,o)),Ni(s.d).slice(0,o)===Ni(a.d).slice(0,o)){for(;d--;)a=St(a.times(a),o);return p.precision=h,e==null?(Ft=!0,St(a,h)):a}a=s}}function sr(t){for(var e=t.e*Rt,r=t.d[0];r>=10;r/=10)e++;return e}function C_(t,e,r){if(e>t.LN10.sd())throw Ft=!0,r&&(t.precision=r),Error(Wn+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function as(t){for(var e="";t--;)e+="0";return e}function pf(t,e){var r,n,i,a,s,o,c,d,p,h=1,m=10,g=t,b=g.d,v=g.constructor,x=v.precision;if(g.s<1)throw Error(Wn+(g.s?"NaN":"-Infinity"));if(g.eq(Sn))return new v(0);if(e==null?(Ft=!1,d=x):d=e,g.eq(10))return e==null&&(Ft=!0),C_(v,d);if(d+=m,v.precision=d,r=Ni(b),n=r.charAt(0),a=sr(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Ni(g.d),n=r.charAt(0),h++;a=sr(g),n>1?(g=new v("0."+r),a++):g=new v(n+"."+r.slice(1))}else return c=C_(v,d+2,x).times(a+""),g=pf(new v(n+"."+r.slice(1)),d-m).plus(c),v.precision=x,e==null?(Ft=!0,St(g,x)):g;for(o=s=g=xa(g.minus(Sn),g.plus(Sn),d),p=St(g.times(g),d),i=3;;){if(s=St(s.times(p),d),c=o.plus(xa(s,new v(i),d)),Ni(c.d).slice(0,d)===Ni(o.d).slice(0,d))return o=o.times(2),a!==0&&(o=o.plus(C_(v,d+2,x).times(a+""))),o=xa(o,new v(h),d),v.precision=x,e==null?(Ft=!0,St(o,x)):o;o=c,i+=2}}function DM(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=uu(r/Rt),t.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Rt;n<i;)t.d.push(+e.slice(n,n+=Rt));e=e.slice(n),n=Rt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ft&&(t.e>Zm||t.e<-Zm))throw Error(BA+r)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,r){var n,i,a,s,o,c,d,p,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Rt,i=e,d=h[p=0];else{if(p=Math.ceil((n+1)/Rt),a=h.length,p>=a)return t;for(d=a=h[p],s=1;a>=10;a/=10)s++;n%=Rt,i=n-Rt+s}if(r!==void 0&&(a=co(10,s-i-1),o=d/a%10|0,c=e<0||h[p+1]!==void 0||d%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?d/co(10,s-i):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=sr(t),h.length=1,e=e-a-1,h[0]=co(10,(Rt-e%Rt)%Rt),t.e=uu(-e/Rt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,a=1,p--):(h.length=p+1,a=co(10,Rt-n),h[p]=i>0?(d/co(10,s-i)%co(10,i)|0)*a:0),c)for(;;)if(p==0){(h[0]+=a)==wr&&(h[0]=1,++t.e);break}else{if(h[p]+=a,h[p]!=wr)break;h[p--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(Ft&&(t.e>Zm||t.e<-Zm))throw Error(BA+sr(t));return t}function xB(t,e){var r,n,i,a,s,o,c,d,p,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ft?St(e,g):e;if(c=t.d,h=e.d,n=e.e,d=t.e,c=c.slice(),s=d-n,s){for(p=s<0,p?(r=c,s=-s,o=h.length):(r=h,n=d,o=c.length),i=Math.max(Math.ceil(g/Rt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,p=i<o,p&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){p=c[i]<h[i];break}s=0}for(p&&(r=c,c=h,h=r,e.s=-e.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=wr-1;--c[a],c[i]+=wr}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ft?St(e,g):e):new m(0)}function Ho(t,e,r){var n,i=sr(t),a=Ni(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+as(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+as(-i-1)+a,r&&(n=r-s)>0&&(a+=as(n))):i>=s?(a+=as(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+as(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=as(n))),t.s<0?"-"+a:a}function MM(t,e){if(t.length>e)return t.length=e,!0}function bB(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Io+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return DM(s,a.toString())}else if(typeof a!="string")throw Error(Io+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,_le.test(a))DM(s,a);else throw Error(Io+a)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bB,i.config=i.set=Sle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Sle(t){if(!t||typeof t!="object")throw Error(Wn+"Object expected");var e,r,n,i=["precision",1,cu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(uu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Io+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Io+r+": "+n);return this}var qA=bB(wle);Sn=new qA(1);const wt=qA;function Ele(t){return Ole(t)||Tle(t)||Ale(t)||jle()}function jle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(t,e){if(t){if(typeof t=="string")return q1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(t,e)}}function Tle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ole(t){if(Array.isArray(t))return q1(t)}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kle=function(e){return e},wB={},_B=function(e){return e===wB},LM=function(e){return function r(){return arguments.length===0||arguments.length===1&&_B(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ple=function t(e,r){return e===1?r:LM(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==wB}).length;return s>=e?r.apply(void 0,i):t(e-s,LM(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var p=i.map(function(h){return _B(h)?c.shift():h});return r.apply(void 0,Ele(p).concat(c))}))})},_y=function(e){return Ple(e.length,e)},z1=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Nle=_y(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Cle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return kle;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},V1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SB=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Rle(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function Ile(t,e,r){for(var n=new wt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Dle=_y(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Mle=_y(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Lle=_y(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Sy={rangeStep:Ile,getDigitCount:Rle,interpolateNumber:Dle,uninterpolateNumber:Mle,uninterpolateTruncation:Lle};function W1(t){return Ule(t)||$le(t)||EB(t)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ule(t){if(Array.isArray(t))return H1(t)}function mf(t,e){return zle(t)||qle(t,e)||EB(t,e)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EB(t,e){if(t){if(typeof t=="string")return H1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(t,e)}}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function zle(t){if(Array.isArray(t))return t}function jB(t){var e=mf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function AB(t,e,r){if(t.lte(0))return new wt(0);var n=Sy.getDigitCount(t.toNumber()),i=new wt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new wt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?c:new wt(Math.ceil(c))}function Vle(t,e,r){var n=1,i=new wt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new wt(10).pow(Sy.getDigitCount(t)-1),i=new wt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):r||(i=new wt(Math.floor(t)));var s=Math.floor((e-1)/2),o=Cle(Nle(function(c){return i.add(new wt(c-s).mul(n)).toNumber()}),z1);return o(0,e)}function TB(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=AB(new wt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new wt(0):(s=new wt(t).add(e).div(2),s=s.sub(new wt(s).mod(a)));var o=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new wt(e).sub(s).div(a).toNumber()),d=o+c+1;return d>r?TB(t,e,r,n,i+1):(d<r&&(c=e>0?c+(r-d):c,o=e>0?o:o+(r-d)),{step:a,tickMin:s.sub(new wt(o).mul(a)),tickMax:s.add(new wt(c).mul(a))})}function Wle(t){var e=mf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=jB([r,n]),c=mf(o,2),d=c[0],p=c[1];if(d===-1/0||p===1/0){var h=p===1/0?[d].concat(W1(z1(0,i-1).map(function(){return 1/0}))):[].concat(W1(z1(0,i-1).map(function(){return-1/0})),[p]);return r>n?V1(h):h}if(d===p)return Vle(d,i,a);var m=TB(d,p,s,a),g=m.step,b=m.tickMin,v=m.tickMax,x=Sy.rangeStep(b,v.add(new wt(.1).mul(g)),g);return r>n?V1(x):x}function Hle(t,e){var r=mf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=jB([n,i]),o=mf(s,2),c=o[0],d=o[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var p=Math.max(e,2),h=AB(new wt(d).sub(c).div(p-1),a,0),m=[].concat(W1(Sy.rangeStep(new wt(c),new wt(d).sub(new wt(.99).mul(h)),h)),[d]);return n>i?V1(m):m}var Kle=SB(Wle),Gle=SB(Hle),Qle="Invariant failed";function Ko(t,e){throw new Error(Qle)}var Yle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eg.apply(this,arguments)}function Xle(t,e){return tce(t)||ece(t,e)||Zle(t,e)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return FM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(t,e)}}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ece(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function tce(t){if(Array.isArray(t))return t}function rce(t,e){if(t==null)return{};var r=nce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ace(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PB(n.key),n)}}function sce(t,e,r){return e&&ace(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oce(t,e,r){return e=tg(e),lce(t,OB()?Reflect.construct(e,r||[],tg(t).constructor):e.apply(t,r))}function lce(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cce(t)}function cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(t)}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K1(t,e)}function kB(t,e,r){return e=PB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PB(t){var e=dce(t,"string");return Cc(e)=="symbol"?e:e+""}function dce(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eh=(function(t){function e(){return ice(this,e),oce(this,e,arguments)}return uce(e,t),sce(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,d=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,m=rce(n,Yle),g=Be(m,!1);this.props.direction==="x"&&p.type!=="number"&&Ko();var b=c.map(function(v){var x=d(v,o),w=x.x,S=x.y,E=x.value,T=x.errorVal;if(!T)return null;var j=[],O,N;if(Array.isArray(T)){var R=Xle(T,2);O=R[0],N=R[1]}else O=N=T;if(a==="vertical"){var I=p.scale,q=S+i,U=q+s,D=q-s,B=I(E-O),V=I(E+N);j.push({x1:V,y1:U,x2:V,y2:D}),j.push({x1:B,y1:q,x2:V,y2:q}),j.push({x1:B,y1:U,x2:B,y2:D})}else if(a==="horizontal"){var G=h.scale,X=w+i,ie=X-s,ne=X+s,oe=G(E-O),se=G(E+N);j.push({x1:ie,y1:se,x2:ne,y2:se}),j.push({x1:X,y1:oe,x2:X,y2:se}),j.push({x1:ie,y1:oe,x2:ne,y2:oe})}return Q.createElement(ct,eg({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),j.map(function(W){return Q.createElement("line",eg({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return Q.createElement(ct,{className:"recharts-errorBars"},b)}}])})(Q.Component);kB(eh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kB(eh,"displayName","ErrorBar");function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fce(t,e,r){return e=hce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hce(t){var e=pce(t,"string");return gf(e)=="symbol"?e:e+""}function pce(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NB=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=_n(r,va);if(!s)return null;var o=va.defaultProps,c=o!==void 0?no(no({},o),s.props):{},d;return s.props&&s.props.payload?d=s.props&&s.props.payload:a==="children"?d=(n||[]).reduce(function(p,h){var m=h.item,g=h.props,b=g.sectors||g.data||[];return p.concat(b.map(function(v){return{type:s.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):d=(n||[]).map(function(p){var h=p.item,m=h.type.defaultProps,g=m!==void 0?no(no({},m),h.props):{},b=g.dataKey,v=g.name,x=g.legendType,w=g.hide;return{inactive:w,dataKey:b,type:c.iconType||x||"square",color:zA(h),value:v||b,payload:g}}),no(no(no({},c),va.getWithHeight(s,i)),{},{payload:d,item:s})};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function UM(t){return vce(t)||yce(t)||gce(t)||mce()}function mce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return G1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G1(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return G1(t)}function G1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(r),!0).forEach(function(n){oc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oc(t,e,r){return e=xce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xce(t){var e=bce(t,"string");return yf(e)=="symbol"?e:e+""}function bce(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jt(t,e,r){return tt(t)||tt(e)?r:mr(e)?En(t,e,r):Qe(e)?e(t):r}function Cd(t,e,r,n){var i=vle(t,function(o){return Jt(o,e)});if(r==="number"){var a=i.filter(function(o){return be(o)||parseFloat(o)});return a.length?[wy(a),ys(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!tt(o)}):i;return s.map(function(o){return mr(o)||o instanceof Date?o:""})}var wce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<o;d++){var p=d>0?i[d-1].coordinate:i[o-1].coordinate,h=i[d].coordinate,m=d>=o-1?i[0].coordinate:i[d+1].coordinate,g=void 0;if(rn(h-p)!==rn(m-h)){var b=[];if(rn(m-h)===rn(c[1]-c[0])){g=m;var v=h+c[1]-c[0];b[0]=Math.min(v,(v+p)/2),b[1]=Math.max(v,(v+p)/2)}else{g=p;var x=m+c[1]-c[0];b[0]=Math.min(h,(x+h)/2),b[1]=Math.max(h,(x+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=b[0]&&e<=b[1]){s=i[d].index;break}}else{var S=Math.min(p,m),E=Math.max(p,m);if(e>(S+h)/2&&e<=(E+h)/2){s=i[d].index;break}}}else for(var T=0;T<o;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<o-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===o-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){s=n[T].index;break}return s},zA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},_ce=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,d=o.length;c<d;c++)for(var p=a[o[c]].stackGroups,h=Object.keys(p),m=0,g=h.length;m<g;m++){var b=p[h[m]],v=b.items,x=b.cateAxisId,w=v.filter(function(N){return ya(N.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,E=S!==void 0?Gt(Gt({},S),w[0].props):w[0].props,T=E.barSize,j=E[x];s[j]||(s[j]=[]);var O=tt(T)?r:T;s[j].push({item:w[0],stackList:w.slice(1),barSize:tt(O)?void 0:nn(O,n,0)})}}return s},Sce=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,o=e.maxBarSize,c=s.length;if(c<1)return null;var d=nn(r,i,0,!0),p,h=[];if(s[0].barSize===+s[0].barSize){var m=!1,g=i/c,b=s.reduce(function(T,j){return T+j.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&g>0&&(m=!0,g*=.9,b=c*g);var v=(i-b)/2>>0,x={offset:v-d,size:0};p=s.reduce(function(T,j){var O={item:j.item,position:{offset:x.offset+x.size+d,size:m?g:j.barSize}},N=[].concat(UM(T),[O]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(R){N.push({item:R,position:x})}),N},h)}else{var w=nn(n,i,0,!0);i-2*w-(c-1)*d<=0&&(d=0);var S=(i-2*w-(c-1)*d)/c;S>1&&(S>>=0);var E=o===+o?Math.min(S,o):S;p=s.reduce(function(T,j,O){var N=[].concat(UM(T),[{item:j.item,position:{offset:w+(S+d)*O+(S-E)/2,size:E}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(R){N.push({item:R,position:N[N.length-1].position})}),N},h)}return p},Ece=function(e,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),d=NB({children:a,legendWidth:c});if(d){var p=i||{},h=p.width,m=p.height,g=d.align,b=d.verticalAlign,v=d.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&g!=="center"&&be(e[g]))return Gt(Gt({},e),{},oc({},g,e[g]+(h||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&b!=="middle"&&be(e[b]))return Gt(Gt({},e),{},oc({},b,e[b]+(m||0)))}return e},jce=function(e,r,n){return tt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CB=function(e,r,n,i,a){var s=r.props.children,o=jn(s,eh).filter(function(d){return jce(i,a,d.props.direction)});if(o&&o.length){var c=o.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var h=Jt(p,n);if(tt(h))return d;var m=Array.isArray(h)?[wy(h),ys(h)]:[h,h],g=c.reduce(function(b,v){var x=Jt(p,v,0),w=m[0]-Math.abs(Array.isArray(x)?x[0]:x),S=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,b[0]),Math.max(S,b[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},Ace=function(e,r,n,i,a){var s=r.map(function(o){return CB(e,o,n,a,i)}).filter(function(o){return!tt(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},RB=function(e,r,n,i,a){var s=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&CB(e,c,d,i)||Cd(e,d,n,a)});if(n==="number")return s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,d){for(var p=0,h=d.length;p<h;p++)o[d[p]]||(o[d[p]]=!0,c.push(d[p]));return c},[])},IB=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},DB=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,o=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||o.push(r),s||o.push(n),o},pa=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,o=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?rn(o[0]-o[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var m=a?a.indexOf(h):h;return{coordinate:i(m)+d,value:h,offset:d}});return p.filter(function(h){return!su(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+d,value:h,index:m,offset:d}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+d,value:h,offset:d}}):i.domain().map(function(h,m){return{coordinate:i(h)+d,value:a?a[h]:h,index:m,offset:d}})},R_=new WeakMap,Up=function(e,r){if(typeof r!="function")return e;R_.has(e)||R_.set(e,new WeakMap);var n=R_.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},MB=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,o=e.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:cf(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Qm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nd(),realScaleType:"point"}:a==="category"?{scale:cf(),realScaleType:"band"}:{scale:Qm(),realScaleType:"linear"};if(qo(i)){var c="scale".concat(sy(i));return{scale:(AM[c]||Nd)(),realScaleType:AM[c]?c:"point"}}return Qe(i)?{scale:i}:{scale:Nd(),realScaleType:"point"}},qM=1e-4,LB=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-qM,s=Math.max(i[0],i[1])+qM,o=e(r[0]),c=e(r[n-1]);(o<a||o>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},Tce=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Oce=function(e,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(a[0]=n),(!be(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},kce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=su(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=a,e[o][n][1]=a+c,a=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},Pce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=su(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=a,e[s][n][1]=a+o,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Nce={sign:kce,expand:vre,none:Ec,silhouette:xre,wiggle:bre,positive:Pce},Cce=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),a=Nce[n],s=yre().keys(i).value(function(o,c){return+Jt(o,c,0)}).order(E1).offset(a);return s(e)},Rce=function(e,r,n,i,a,s){if(!e)return null;var o=s?r.reverse():r,c={},d=o.reduce(function(h,m){var g,b=(g=m.type)!==null&&g!==void 0&&g.defaultProps?Gt(Gt({},m.type.defaultProps),m.props):m.props,v=b.stackId,x=b.hide;if(x)return h;var w=b[n],S=h[w]||{hasStack:!1,stackGroups:{}};if(mr(v)){var E=S.stackGroups[v]||{numericAxisId:n,cateAxisId:i,items:[]};E.items.push(m),S.hasStack=!0,S.stackGroups[v]=E}else S.stackGroups[Jo("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[m]};return Gt(Gt({},h),{},oc({},w,S))},c),p={};return Object.keys(d).reduce(function(h,m){var g=d[m];if(g.hasStack){var b={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,x){var w=g.stackGroups[x];return Gt(Gt({},v),{},oc({},x,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:Cce(e,w.items,a)}))},b)}return Gt(Gt({},h),{},oc({},m,g))},p)},FB=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=Kle(d,a,o);return e.domain([wy(p),ys(p)]),{niceTicks:p}}if(a&&i==="number"){var h=e.domain(),m=Gle(h,a,o);return{niceTicks:m}}return null};function rg(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tt(i[e.dataKey])){var o=Pm(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Jt(i,tt(s)?e.dataKey:s);return tt(c)?null:e.scale(c)}var zM=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=Jt(s,r.dataKey,r.domain[o]);return tt(c)?null:r.scale(c)-a/2+i},Ice=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Dce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mr(a)){var s=r[a];if(s){var o=s.items.indexOf(e);return o>=0?s.stackedData[o]:null}}return null},Mce=function(e){return e.reduce(function(r,n){return[wy(n.concat([r[0]]).filter(be)),ys(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},$B=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],o=s.stackedData,c=o.reduce(function(d,p){var h=Mce(p.slice(r,n+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q1=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(be(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(VM.test(e[0])){var a=+VM.exec(e[0])[1];i[0]=r[0]-a}else Qe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(be(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(WM.test(e[1])){var s=+WM.exec(e[1])[1];i[1]=r[1]+s}else Qe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ng=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=yA(r,function(h){return h.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var d=a[o],p=a[o-1];s=Math.min((d.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},HM=function(e,r,n){return!e||!e.length||Wo(e,En(n,"type.defaultProps.domain"))?r:e},UB=function(e,r){var n=e.type.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,d=n.chartType,p=n.hide;return Gt(Gt({},Be(e,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:zA(e),value:Jt(r,i),type:c,payload:r,chartType:d,hide:p})};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function KM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(r),!0).forEach(function(n){BB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BB(t,e,r){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lce(t){var e=Fce(t,"string");return vf(e)=="symbol"?e:e+""}function Fce(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){return zce(t)||qce(t,e)||Bce(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return GM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GM(t,e)}}function GM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function zce(t){if(Array.isArray(t))return t}var ig=Math.PI/180,Vce=function(e){return e*180/Math.PI},kt=function(e,r,n,i){return{x:e+Math.cos(-ig*i)*n,y:r+Math.sin(-ig*i)*n}},qB=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Wce=function(e,r,n,i,a){var s=e.width,o=e.height,c=e.startAngle,d=e.endAngle,p=nn(e.cx,s,s/2),h=nn(e.cy,o,o/2),m=qB(s,o,n),g=nn(e.innerRadius,m,0),b=nn(e.outerRadius,m,m*.8),v=Object.keys(r);return v.reduce(function(x,w){var S=r[w],E=S.domain,T=S.reversed,j;if(tt(S.range))i==="angleAxis"?j=[c,d]:i==="radiusAxis"&&(j=[g,b]),T&&(j=[j[1],j[0]]);else{j=S.range;var O=j,N=$ce(O,2);c=N[0],d=N[1]}var R=MB(S,a),I=R.realScaleType,q=R.scale;q.domain(E).range(j),LB(q);var U=FB(q,la(la({},S),{},{realScaleType:I})),D=la(la(la({},S),U),{},{range:j,radius:b,realScaleType:I,scale:q,cx:p,cy:h,innerRadius:g,outerRadius:b,startAngle:c,endAngle:d});return la(la({},x),{},BB({},w,D))},{})},Hce=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},Kce=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,o=Hce({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:o,angle:Vce(d),angleInRadian:d}},Gce=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},Qce=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return e+o*360},QM=function(e,r){var n=e.x,i=e.y,a=Kce({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,d=r.outerRadius;if(s<c||s>d)return!1;if(s===0)return!0;var p=Gce(r),h=p.startAngle,m=p.endAngle,g=o,b;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;b=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;b=g>=m&&g<=h}return b?la(la({},r),{},{radius:s,angle:Qce(g,r)}):null},zB=function(e){return!M.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var Yce=["offset"];function Xce(t){return tue(t)||eue(t)||Zce(t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return Y1(t)}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rue(t,e){if(t==null)return{};var r=nue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(r),!0).forEach(function(n){iue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iue(t,e,r){return e=aue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aue(t){var e=sue(t,"string");return xf(e)=="symbol"?e:e+""}function sue(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}var oue=function(e){var r=e.value,n=e.formatter,i=tt(e.children)?r:e.children;return Qe(n)?n(i):i},lue=function(e,r){var n=rn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},cue=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,o=e.className,c=a,d=c.cx,p=c.cy,h=c.innerRadius,m=c.outerRadius,g=c.startAngle,b=c.endAngle,v=c.clockWise,x=(h+m)/2,w=lue(g,b),S=w>=0?1:-1,E,T;i==="insideStart"?(E=g+S*s,T=v):i==="insideEnd"?(E=b-S*s,T=!v):i==="end"&&(E=b+S*s,T=v),T=w<=0?T:!T;var j=kt(d,p,x,E),O=kt(d,p,x,E+(T?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(T?0:1,`,
    `).concat(O.x,",").concat(O.y),R=tt(e.id)?Jo("recharts-radial-line-"):e.id;return Q.createElement("text",bf({},n,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",o)}),Q.createElement("defs",null,Q.createElement("path",{id:R,d:N})),Q.createElement("textPath",{xlinkHref:"#".concat(R)},r))},uue=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,d=a.outerRadius,p=a.startAngle,h=a.endAngle,m=(p+h)/2;if(i==="outside"){var g=kt(s,o,d+n,m),b=g.x,v=g.y;return{x:b,y:v,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,w=kt(s,o,x,m),S=w.x,E=w.y;return{x:S,y:E,textAnchor:"middle",verticalAnchor:"middle"}},due=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,o=s.x,c=s.y,d=s.width,p=s.height,h=p>=0?1:-1,m=h*i,g=h>0?"end":"start",b=h>0?"start":"end",v=d>=0?1:-1,x=v*i,w=v>0?"end":"start",S=v>0?"start":"end";if(a==="top"){var E={x:o+d/2,y:c-h*i,textAnchor:"middle",verticalAnchor:g};return dr(dr({},E),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var T={x:o+d/2,y:c+p+m,textAnchor:"middle",verticalAnchor:b};return dr(dr({},T),n?{height:Math.max(n.y+n.height-(c+p),0),width:d}:{})}if(a==="left"){var j={x:o-x,y:c+p/2,textAnchor:w,verticalAnchor:"middle"};return dr(dr({},j),n?{width:Math.max(j.x-n.x,0),height:p}:{})}if(a==="right"){var O={x:o+d+x,y:c+p/2,textAnchor:S,verticalAnchor:"middle"};return dr(dr({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:p}:{})}var N=n?{width:d,height:p}:{};return a==="insideLeft"?dr({x:o+x,y:c+p/2,textAnchor:S,verticalAnchor:"middle"},N):a==="insideRight"?dr({x:o+d-x,y:c+p/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?dr({x:o+d/2,y:c+m,textAnchor:"middle",verticalAnchor:b},N):a==="insideBottom"?dr({x:o+d/2,y:c+p-m,textAnchor:"middle",verticalAnchor:g},N):a==="insideTopLeft"?dr({x:o+x,y:c+m,textAnchor:S,verticalAnchor:b},N):a==="insideTopRight"?dr({x:o+d-x,y:c+m,textAnchor:w,verticalAnchor:b},N):a==="insideBottomLeft"?dr({x:o+x,y:c+p-m,textAnchor:S,verticalAnchor:g},N):a==="insideBottomRight"?dr({x:o+d-x,y:c+p-m,textAnchor:w,verticalAnchor:g},N):au(a)&&(be(a.x)||bo(a.x))&&(be(a.y)||bo(a.y))?dr({x:o+nn(a.x,d),y:c+nn(a.y,p),textAnchor:"end",verticalAnchor:"end"},N):dr({x:o+d/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},N)},fue=function(e){return"cx"in e&&be(e.cx)};function _r(t){var e=t.offset,r=e===void 0?5:e,n=rue(t,Yce),i=dr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,d=i.content,p=i.className,h=p===void 0?"":p,m=i.textBreakAll;if(!a||tt(o)&&tt(c)&&!M.isValidElement(d)&&!Qe(d))return null;if(M.isValidElement(d))return M.cloneElement(d,i);var g;if(Qe(d)){if(g=M.createElement(d,i),M.isValidElement(g))return g}else g=oue(i);var b=fue(a),v=Be(i,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return cue(i,g,v);var x=b?uue(i):due(i);return Q.createElement(Vo,bf({className:nt("recharts-label",h)},v,x,{breakAll:m}),g)}_r.displayName="Label";var VB=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,o=e.r,c=e.radius,d=e.innerRadius,p=e.outerRadius,h=e.x,m=e.y,g=e.top,b=e.left,v=e.width,x=e.height,w=e.clockWise,S=e.labelViewBox;if(S)return S;if(be(v)&&be(x)){if(be(h)&&be(m))return{x:h,y:m,width:v,height:x};if(be(g)&&be(b))return{x:g,y:b,width:v,height:x}}return be(h)&&be(m)?{x:h,y:m,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:p||c||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},hue=function(e,r){return e?e===!0?Q.createElement(_r,{key:"label-implicit",viewBox:r}):mr(e)?Q.createElement(_r,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===_r?M.cloneElement(e,{key:"label-implicit",viewBox:r}):Q.createElement(_r,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?Q.createElement(_r,{key:"label-implicit",content:e,viewBox:r}):au(e)?Q.createElement(_r,bf({viewBox:r},e,{key:"label-implicit"})):null:null},pue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=VB(e),s=jn(i,_r).map(function(c,d){return M.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return s;var o=hue(e.label,r||a);return[o].concat(Xce(s))};_r.parseViewBox=VB;_r.renderCallByParent=pue;var I_,XM;function mue(){if(XM)return I_;XM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return I_=t,I_}var gue=mue();const yue=gt(gue);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var vue=["valueAccessor"],xue=["data","dataKey","clockWise","id","textBreakAll"];function bue(t){return Eue(t)||Sue(t)||_ue(t)||wue()}function wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(t,e){if(t){if(typeof t=="string")return X1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X1(t,e)}}function Sue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eue(t){if(Array.isArray(t))return X1(t)}function X1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ag.apply(this,arguments)}function JM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(r),!0).forEach(function(n){jue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jue(t,e,r){return e=Aue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aue(t){var e=Tue(t,"string");return wf(e)=="symbol"?e:e+""}function Tue(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eL(t,e){if(t==null)return{};var r=Oue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kue=function(e){return Array.isArray(e.value)?yue(e.value):e.value};function Li(t){var e=t.valueAccessor,r=e===void 0?kue:e,n=eL(t,vue),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,d=eL(n,xue);return!i||!i.length?null:Q.createElement(ct,{className:"recharts-label-list"},i.map(function(p,h){var m=tt(a)?r(p,h):Jt(p&&p.payload,a),g=tt(o)?{}:{id:"".concat(o,"-").concat(h)};return Q.createElement(_r,ag({},Be(p,!0),d,g,{parentViewBox:p.parentViewBox,value:m,textBreakAll:c,viewBox:_r.parseViewBox(tt(s)?p:ZM(ZM({},p),{},{clockWise:s})),key:"label-".concat(h),index:h}))}))}Li.displayName="LabelList";function Pue(t,e){return t?t===!0?Q.createElement(Li,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||Qe(t)?Q.createElement(Li,{key:"labelList-implicit",data:e,content:t}):au(t)?Q.createElement(Li,ag({data:e},t,{key:"labelList-implicit"})):null:null}function Nue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=jn(n,Li).map(function(s,o){return M.cloneElement(s,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var a=Pue(t.label,e);return[a].concat(bue(i))}Li.renderCallByParent=Nue;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J1.apply(this,arguments)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){Cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cue(t,e,r){return e=Rue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rue(t){var e=Iue(t,"string");return _f(e)=="symbol"?e:e+""}function Iue(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Due=function(e,r){var n=rn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Bp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,o=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,p=c*(o?1:-1)+i,h=Math.asin(c/p)/ig,m=d?a:a+s*h,g=kt(r,n,p,m),b=kt(r,n,i,m),v=d?a-s*h:a,x=kt(r,n,p*Math.cos(h*ig),v);return{center:g,circleTangency:b,lineTangency:x,theta:h}},WB=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,o=e.endAngle,c=Due(s,o),d=s+c,p=kt(r,n,a,s),h=kt(r,n,a,d),m="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=kt(r,n,i,s),b=kt(r,n,i,d);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},Mue=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,o=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,h=rn(p-d),m=Bp({cx:r,cy:n,radius:a,angle:d,sign:h,cornerRadius:s,cornerIsExternal:c}),g=m.circleTangency,b=m.lineTangency,v=m.theta,x=Bp({cx:r,cy:n,radius:a,angle:p,sign:-h,cornerRadius:s,cornerIsExternal:c}),w=x.circleTangency,S=x.lineTangency,E=x.theta,T=c?Math.abs(d-p):Math.abs(d-p)-v-E;if(T<0)return o?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WB({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:p});var j="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=Bp({cx:r,cy:n,radius:i,angle:d,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=O.circleTangency,R=O.lineTangency,I=O.theta,q=Bp({cx:r,cy:n,radius:i,angle:p,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),U=q.circleTangency,D=q.lineTangency,B=q.theta,V=c?Math.abs(d-p):Math.abs(d-p)-I-B;if(V<0&&s===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Lue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HB=function(e){var r=rL(rL({},Lue),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,m=r.className;if(s<a||p===h)return null;var g=nt("recharts-sector",m),b=s-a,v=nn(o,b,0,!0),x;return v>0&&Math.abs(p-h)<360?x=Mue({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(v,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:p,endAngle:h}):x=WB({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:p,endAngle:h}),Q.createElement("path",J1({},Be(r,!0),{className:g,d:x,role:"img"}))};function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z1.apply(this,arguments)}function nL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(r),!0).forEach(function(n){Fue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fue(t,e,r){return e=$ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Uue(t,"string");return Sf(e)=="symbol"?e:e+""}function Uue(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aL={curveBasisClosed:sre,curveBasisOpen:ore,curveBasis:are,curveBumpX:Wte,curveBumpY:Hte,curveLinearClosed:lre,curveLinear:ly,curveMonotoneX:cre,curveMonotoneY:ure,curveNatural:dre,curveStep:fre,curveStepAfter:pre,curveStepBefore:hre},qp=function(e){return e.x===+e.x&&e.y===+e.y},hd=function(e){return e.x},pd=function(e){return e.y},Bue=function(e,r){if(Qe(e))return e;var n="curve".concat(sy(e));return(n==="curveMonotone"||n==="curveBump")&&r?aL["".concat(n).concat(r==="vertical"?"Y":"X")]:aL[n]||ly},que=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,o=e.layout,c=e.connectNulls,d=c===void 0?!1:c,p=Bue(n,o),h=d?a.filter(function(v){return qp(v)}):a,m;if(Array.isArray(s)){var g=d?s.filter(function(v){return qp(v)}):s,b=h.map(function(v,x){return iL(iL({},v),{},{base:g[x]})});return o==="vertical"?m=Rp().y(pd).x1(hd).x0(function(v){return v.base.x}):m=Rp().x(hd).y1(pd).y0(function(v){return v.base.y}),m.defined(qp).curve(p),m(b)}return o==="vertical"&&be(s)?m=Rp().y(pd).x1(hd).x0(s):be(s)?m=Rp().x(hd).y1(pd).y0(s):m=WU().x(hd).y(pd),m.defined(qp).curve(p),m(h)},Do=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?que(e):i;return M.createElement("path",Z1({},Be(e,!1),Nm(e),{className:nt("recharts-curve",r),d:s,ref:a}))},D_={exports:{}},M_,sL;function zue(){if(sL)return M_;sL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return M_=t,M_}var L_,oL;function Vue(){if(oL)return L_;oL=1;var t=zue();function e(){}function r(){}return r.resetWarningCache=e,L_=function(){function n(s,o,c,d,p,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},L_}var lL;function Wue(){return lL||(lL=1,D_.exports=Vue()()),D_.exports}var Hue=Wue();const qe=gt(Hue),{getOwnPropertyNames:Kue,getOwnPropertySymbols:Gue}=Object,{hasOwnProperty:Que}=Object.prototype;function F_(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function zp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function Yue(t){return t!=null?t[Symbol.toStringTag]:void 0}function cL(t){return Kue(t).concat(Gue(t))}const Xue=Object.hasOwn||((t,e)=>Que.call(t,e));function tl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Jue="__v",Zue="__o",ede="_owner",{getOwnPropertyDescriptor:uL,keys:dL}=Object;function tde(t,e){return t.byteLength===e.byteLength&&sg(new Uint8Array(t),new Uint8Array(e))}function rde(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function nde(t,e){return t.byteLength===e.byteLength&&sg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function ide(t,e){return tl(t.getTime(),e.getTime())}function ade(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sde(t,e){return t===e}function fL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let s,o,c=0;for(;(s=a.next())&&!s.done;){const d=e.entries();let p=!1,h=0;for(;(o=d.next())&&!o.done;){if(i[h]){h++;continue}const m=s.value,g=o.value;if(r.equals(m[0],g[0],c,h,t,e,r)&&r.equals(m[1],g[1],m[0],g[0],t,e,r)){p=i[h]=!0;break}h++}if(!p)return!1;c++}return!0}const ode=tl;function lde(t,e,r){const n=dL(t);let i=n.length;if(dL(e).length!==i)return!1;for(;i-- >0;)if(!KB(t,e,r,n[i]))return!1;return!0}function md(t,e,r){const n=cL(t);let i=n.length;if(cL(e).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=n[i],!KB(t,e,r,a)||(s=uL(t,a),o=uL(e,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function cde(t,e){return tl(t.valueOf(),e.valueOf())}function ude(t,e){return t.source===e.source&&t.flags===e.flags}function hL(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let s,o;for(;(s=a.next())&&!s.done;){const c=e.values();let d=!1,p=0;for(;(o=c.next())&&!o.done;){if(!i[p]&&r.equals(s.value,o.value,s.value,o.value,t,e,r)){d=i[p]=!0;break}p++}if(!d)return!1}return!0}function sg(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function dde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KB(t,e,r,n){return(n===ede||n===Zue||n===Jue)&&(t.$$typeof||e.$$typeof)?!0:Xue(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const fde="[object ArrayBuffer]",hde="[object Arguments]",pde="[object Boolean]",mde="[object DataView]",gde="[object Date]",yde="[object Error]",vde="[object Map]",xde="[object Number]",bde="[object Object]",wde="[object RegExp]",_de="[object Set]",Sde="[object String]",Ede={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jde="[object URL]",Ade=Object.prototype.toString;function Tde({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:p,areSetsEqual:h,areTypedArraysEqual:m,areUrlsEqual:g,unknownTagComparators:b}){return function(x,w,S){if(x===w)return!0;if(x==null||w==null)return!1;const E=typeof x;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?o(x,w,S):E==="function"?a(x,w,S):!1;const T=x.constructor;if(T!==w.constructor)return!1;if(T===Object)return c(x,w,S);if(Array.isArray(x))return e(x,w,S);if(T===Date)return n(x,w,S);if(T===RegExp)return p(x,w,S);if(T===Map)return s(x,w,S);if(T===Set)return h(x,w,S);const j=Ade.call(x);if(j===gde)return n(x,w,S);if(j===wde)return p(x,w,S);if(j===vde)return s(x,w,S);if(j===_de)return h(x,w,S);if(j===bde)return typeof x.then!="function"&&typeof w.then!="function"&&c(x,w,S);if(j===jde)return g(x,w,S);if(j===yde)return i(x,w,S);if(j===hde)return c(x,w,S);if(Ede[j])return m(x,w,S);if(j===fde)return t(x,w,S);if(j===mde)return r(x,w,S);if(j===pde||j===xde||j===Sde)return d(x,w,S);if(b){let O=b[j];if(!O){const N=Yue(x);N&&(O=b[N])}if(O)return O(x,w,S)}return!1}}function Ode({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:tde,areArraysEqual:r?md:rde,areDataViewsEqual:nde,areDatesEqual:ide,areErrorsEqual:ade,areFunctionsEqual:sde,areMapsEqual:r?F_(fL,md):fL,areNumbersEqual:ode,areObjectsEqual:r?md:lde,arePrimitiveWrappersEqual:cde,areRegExpsEqual:ude,areSetsEqual:r?F_(hL,md):hL,areTypedArraysEqual:r?F_(sg,md):sg,areUrlsEqual:dde,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=zp(n.areArraysEqual),a=zp(n.areMapsEqual),s=zp(n.areObjectsEqual),o=zp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return n}function kde(t){return function(e,r,n,i,a,s,o){return t(e,r,o)}}function Pde({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(o,c){const{cache:d=t?new WeakMap:void 0,meta:p}=r();return e(o,c,{cache:d,equals:n,meta:p,strict:i})};if(t)return function(o,c){return e(o,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,c){return e(o,c,a)}}const Nde=Ds();Ds({strict:!0});Ds({circular:!0});Ds({circular:!0,strict:!0});Ds({createInternalComparator:()=>tl});Ds({strict:!0,createInternalComparator:()=>tl});Ds({circular:!0,createInternalComparator:()=>tl});Ds({circular:!0,createInternalComparator:()=>tl,strict:!0});function Ds(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Ode(t),s=Tde(a),o=r?r(s):kde(s);return Pde({circular:e,comparator:s,createState:n,equals:o,strict:i})}function Cde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Cde(i)};requestAnimationFrame(n)}function eE(t){"@babel/helpers - typeof";return eE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eE(t)}function Rde(t){return Lde(t)||Mde(t)||Dde(t)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dde(t,e){if(t){if(typeof t=="string")return mL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mL(t,e)}}function mL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lde(t){if(Array.isArray(t))return t}function Fde(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=Rde(s),c=o[0],d=o.slice(1);if(typeof c=="number"){pL(i.bind(null,d),c);return}i(c),pL(i.bind(null,d));return}eE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){GB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GB(t,e,r){return e=$de(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $de(t){var e=Ude(t,"string");return Ef(e)==="symbol"?e:String(e)}function Ude(t,e){if(Ef(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bde=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},qde=function(e){return e},zde=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rd=function(e,r){return Object.keys(r).reduce(function(n,i){return yL(yL({},n),{},GB({},i,e(i,r[i])))},{})},vL=function(e,r,n){return e.map(function(i){return"".concat(zde(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Vde(t,e){return Kde(t)||Hde(t,e)||QB(t,e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Kde(t){if(Array.isArray(t))return t}function Gde(t){return Xde(t)||Yde(t)||QB(t)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(t,e){if(t){if(typeof t=="string")return tE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tE(t,e)}}function Yde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xde(t){if(Array.isArray(t))return tE(t)}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var og=1e-4,YB=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},XB=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},xL=function(e,r){return function(n){var i=YB(e,r);return XB(i,n)}},Jde=function(e,r){return function(n){var i=YB(e,r),a=[].concat(Gde(i.map(function(s,o){return s*o}).slice(1)),[0]);return XB(a,n)}},bL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=Vde(d,4);i=p[0],a=p[1],s=p[2],o=p[3]}}}var h=xL(i,s),m=xL(a,o),g=Jde(i,s),b=function(w){return w>1?1:w<0?0:w},v=function(w){for(var S=w>1?1:w,E=S,T=0;T<8;++T){var j=h(E)-S,O=g(E);if(Math.abs(j-S)<og||O<og)return m(E);E=b(E-j/O)}return m(E)};return v.isStepper=!1,v},Zde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,o=s===void 0?17:s,c=function(p,h,m){var g=-(p-h)*n,b=m*a,v=m+(g-b)*o/1e3,x=m*o/1e3+p;return Math.abs(x-h)<og&&Math.abs(v)<og?[h,0]:[x,v]};return c.isStepper=!0,c.dt=o,c},efe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bL(i);case"spring":return Zde();default:if(i.split("(")[0]==="cubic-bezier")return bL(i)}return typeof i=="function"?i:null};function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function wL(t){return nfe(t)||rfe(t)||JB(t)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nfe(t){if(Array.isArray(t))return nE(t)}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){rE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rE(t,e,r){return e=ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ife(t){var e=afe(t,"string");return jf(e)==="symbol"?e:String(e)}function afe(t,e){if(jf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sfe(t,e){return cfe(t)||lfe(t,e)||JB(t,e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(t,e){if(t){if(typeof t=="string")return nE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function cfe(t){if(Array.isArray(t))return t}var lg=function(e,r,n){return e+(r-e)*n},iE=function(e){var r=e.from,n=e.to;return r!==n},ufe=function t(e,r,n){var i=Rd(function(a,s){if(iE(s)){var o=e(s.from,s.to,s.velocity),c=sfe(o,2),d=c[0],p=c[1];return Pr(Pr({},s),{},{from:d,velocity:p})}return s},r);return n<1?Rd(function(a,s){return iE(s)?Pr(Pr({},s),{},{velocity:lg(s.velocity,i[a].velocity,n),from:lg(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const dfe=(function(t,e,r,n,i){var a=Bde(t,e),s=a.reduce(function(x,w){return Pr(Pr({},x),{},rE({},w,[t[w],e[w]]))},{}),o=a.reduce(function(x,w){return Pr(Pr({},x),{},rE({},w,{from:t[w],velocity:0,to:e[w]}))},{}),c=-1,d,p,h=function(){return null},m=function(){return Rd(function(w,S){return S.from},o)},g=function(){return!Object.values(o).filter(iE).length},b=function(w){d||(d=w);var S=w-d,E=S/r.dt;o=ufe(r,o,E),i(Pr(Pr(Pr({},t),e),m())),d=w,g()||(c=requestAnimationFrame(h))},v=function(w){p||(p=w);var S=(w-p)/n,E=Rd(function(j,O){return lg.apply(void 0,wL(O).concat([r(S)]))},s);if(i(Pr(Pr(Pr({},t),e),E)),S<1)c=requestAnimationFrame(h);else{var T=Rd(function(j,O){return lg.apply(void 0,wL(O).concat([r(1)]))},s);i(Pr(Pr(Pr({},t),e),T))}};return h=r.isStepper?b:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}var ffe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hfe(t,e){if(t==null)return{};var r=pfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $_(t){return vfe(t)||yfe(t)||gfe(t)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gfe(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function yfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vfe(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){_d(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _d(t,e,r){return e=ZB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZB(n.key),n)}}function wfe(t,e,r){return e&&bfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZB(t){var e=_fe(t,"string");return Rc(e)==="symbol"?e:String(e)}function _fe(t,e){if(Rc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sE(t,e)}function sE(t,e){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sE(t,e)}function Efe(t){var e=jfe();return function(){var n=cg(t),i;if(e){var a=cg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return oE(this,i)}}function oE(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lE(t)}function lE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(t)}var mi=(function(t){Sfe(r,t);var e=Efe(r);function r(n,i){var a;xfe(this,r),a=e.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,d=s.from,p=s.to,h=s.steps,m=s.children,g=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(lE(a)),a.changeStyle=a.changeStyle.bind(lE(a)),!o||g<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:p}),oE(a);if(h&&h.length)a.state={style:h[0].style};else if(d){if(typeof m=="function")return a.state={style:d},oE(a);a.state={style:c?_d({},c,d):d}}else a.state={style:{}};return a}return wfe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,p=a.to,h=a.from,m=this.state.style;if(o){if(!s){var g={style:c?_d({},c,p):p};this.state&&m&&(c&&m[c]!==p||!c&&m!==p)&&this.setState(g);return}if(!(Nde(i.to,p)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||d?h:i.to;if(this.state&&m){var x={style:c?_d({},c,v):v};(c&&m[c]!==v||!c&&m!==v)&&this.setState(x)}this.runAnimation(ni(ni({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,d=i.easing,p=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,g=dfe(s,o,efe(d),c,this.changeStyle),b=function(){a.stopJSAnimation=g()};this.manager.start([m,p,b,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,d=s[0],p=d.style,h=d.duration,m=h===void 0?0:h,g=function(v,x,w){if(w===0)return v;var S=x.duration,E=x.easing,T=E===void 0?"ease":E,j=x.style,O=x.properties,N=x.onAnimationEnd,R=w>0?s[w-1]:x,I=O||Object.keys(j);if(typeof T=="function"||T==="spring")return[].concat($_(v),[a.runJSAnimation.bind(a,{from:R.style,to:j,duration:S,easing:T}),S]);var q=vL(I,S,T),U=ni(ni(ni({},R.style),j),{},{transition:q});return[].concat($_(v),[U,S,N]).filter(qde)};return this.manager.start([c].concat($_(s.reduce(g,[p,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Fde());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,d=i.easing,p=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,g=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=o?_d({},o,c):c,x=vL(Object.keys(v),s,d);b.start([p,a,ni(ni({},v),{},{transition:x}),s,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=hfe(i,ffe),d=M.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!o||d===0||s<=0)return a;var h=function(g){var b=g.props,v=b.style,x=v===void 0?{}:v,w=b.className,S=M.cloneElement(g,ni(ni({},c),{},{style:ni(ni({},x),p),className:w}));return S};return d===1?h(M.Children.only(a)):Q.createElement("div",null,M.Children.map(a,function(m){return h(m)}))}}]),r})(M.PureComponent);mi.displayName="Animate";mi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};mi.propTypes={from:qe.oneOfType([qe.object,qe.string]),to:qe.oneOfType([qe.object,qe.string]),attributeName:qe.string,duration:qe.number,begin:qe.number,easing:qe.oneOfType([qe.string,qe.func]),steps:qe.arrayOf(qe.shape({duration:qe.number.isRequired,style:qe.object.isRequired,easing:qe.oneOfType([qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qe.func]),properties:qe.arrayOf("string"),onAnimationEnd:qe.func})),children:qe.oneOfType([qe.node,qe.func]),isActive:qe.bool,canBegin:qe.bool,onAnimationEnd:qe.func,shouldReAnimate:qe.bool,onAnimationStart:qe.func,onAnimationReStart:qe.func};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(this,arguments)}function Afe(t,e){return Pfe(t)||kfe(t,e)||Ofe(t,e)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ofe(t,e){if(t){if(typeof t=="string")return EL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Pfe(t){if(Array.isArray(t))return t}function jL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(r),!0).forEach(function(n){Nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e,r){return e=Cfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cfe(t){var e=Rfe(t,"string");return Af(e)=="symbol"?e:e+""}function Rfe(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TL=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,p;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>s?s:a[m];p="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),p+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+o*h[1])),p+="L ".concat(e+n,",").concat(r+i-o*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),p+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+i-o*h[3])),p+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);p="M ".concat(e,",").concat(r+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(r,`
            L `).concat(e+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n,",").concat(r+o*b,`
            L `).concat(e+n,",").concat(r+i-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+n-c*b,",").concat(r+i,`
            L `).concat(e+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(r+i-o*b," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},Ife=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var d=Math.min(a,a+o),p=Math.max(a,a+o),h=Math.min(s,s+c),m=Math.max(s,s+c);return n>=d&&n<=p&&i>=h&&i<=m}return!1},Dfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VA=function(e){var r=AL(AL({},Dfe),e),n=M.useRef(),i=M.useState(-1),a=Afe(i,2),s=a[0],o=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&o(T)}catch{}},[]);var c=r.x,d=r.y,p=r.width,h=r.height,m=r.radius,g=r.className,b=r.animationEasing,v=r.animationDuration,x=r.animationBegin,w=r.isAnimationActive,S=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||h!==+h||p===0||h===0)return null;var E=nt("recharts-rectangle",g);return S?Q.createElement(mi,{canBegin:s>0,from:{width:p,height:h,x:c,y:d},to:{width:p,height:h,x:c,y:d},duration:v,animationEasing:b,isActive:S},function(T){var j=T.width,O=T.height,N=T.x,R=T.y;return Q.createElement(mi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,isActive:w,easing:b},Q.createElement("path",ug({},Be(r,!0),{className:E,d:TL(N,R,j,O,m),ref:n})))}):Q.createElement("path",ug({},Be(r,!0),{className:E,d:TL(c,d,p,h,m)}))},Mfe=["points","className","baseLinePoints","connectNulls"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(this,arguments)}function Lfe(t,e){if(t==null)return{};var r=Ffe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ffe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OL(t){return qfe(t)||Bfe(t)||Ufe(t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(t,e){if(t){if(typeof t=="string")return cE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cE(t,e)}}function Bfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qfe(t){if(Array.isArray(t))return cE(t)}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kL=function(e){return e&&e.x===+e.x&&e.y===+e.y},zfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){kL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Id=function(e,r){var n=zfe(e);r&&(n=[n.reduce(function(a,s){return[].concat(OL(a),OL(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Vfe=function(e,r,n){var i=Id(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Id(r.reverse(),n).slice(1))},Wfe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Lfe(e,Mfe);if(!r||!r.length)return null;var o=nt("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",d=Vfe(r,i,a);return Q.createElement("g",{className:o},Q.createElement("path",Yl({},Be(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",stroke:"none",d})),c?Q.createElement("path",Yl({},Be(s,!0),{fill:"none",d:Id(r,a)})):null,c?Q.createElement("path",Yl({},Be(s,!0),{fill:"none",d:Id(i,a)})):null)}var p=Id(r,a);return Q.createElement("path",Yl({},Be(s,!0),{fill:p.slice(-1)==="Z"?s.fill:"none",className:o,d:p}))};function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uE.apply(this,arguments)}var th=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=nt("recharts-dot",a);return r===+r&&n===+n&&i===+i?M.createElement("circle",uE({},Be(e,!1),Nm(e),{className:s,cx:r,cy:n,r:i})):null};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}var Hfe=["x","y","top","left","width","height","className"];function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dE.apply(this,arguments)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){Gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gfe(t,e,r){return e=Qfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qfe(t){var e=Yfe(t,"string");return Tf(e)=="symbol"?e:e+""}function Yfe(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xfe(t,e){if(t==null)return{};var r=Jfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zfe=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},ehe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,o=s===void 0?0:s,c=e.left,d=c===void 0?0:c,p=e.width,h=p===void 0?0:p,m=e.height,g=m===void 0?0:m,b=e.className,v=Xfe(e,Hfe),x=Kfe({x:n,y:a,top:o,left:d,width:h,height:g},v);return!be(n)||!be(a)||!be(h)||!be(g)||!be(o)||!be(d)?null:Q.createElement("path",dE({},Be(x,!0),{className:nt("recharts-cross",b),d:Zfe(n,a,h,g,o,d)}))},U_,NL;function the(){if(NL)return U_;NL=1;var t=by(),e=pB(),r=zi();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return U_=n,U_}var rhe=the();const nhe=gt(rhe);var B_,CL;function ihe(){if(CL)return B_;CL=1;var t=by(),e=zi(),r=mB();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return B_=n,B_}var ahe=ihe();const she=gt(ahe);var ohe=["cx","cy","angle","ticks","axisLine"],lhe=["ticks","tick","angle","tickFormatter","stroke"];function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dd.apply(this,arguments)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){Ey(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IL(t,e){if(t==null)return{};var r=che(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function che(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t6(n.key),n)}}function dhe(t,e,r){return e&&DL(t.prototype,e),r&&DL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,r){return e=dg(e),hhe(t,e6()?Reflect.construct(e,r||[],dg(t).constructor):e.apply(t,r))}function hhe(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(t)}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fE(t,e)}function Ey(t,e,r){return e=t6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t6(t){var e=ghe(t,"string");return Ic(e)=="symbol"?e:e+""}function ghe(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jy=(function(t){function e(){return uhe(this,e),fhe(this,e,arguments)}return mhe(e,t),dhe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return kt(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=nhe(o,function(p){return p.coordinate||0}),d=she(o,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,d=IL(n,ohe),p=o.reduce(function(b,v){return[Math.min(b[0],v.coordinate),Math.max(b[1],v.coordinate)]},[1/0,-1/0]),h=kt(i,a,p[0],s),m=kt(i,a,p[1],s),g=io(io(io({},Be(d,!1)),{},{fill:"none"},Be(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return Q.createElement("line",Dd({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,d=i.stroke,p=IL(i,lhe),h=this.getTickTextAnchor(),m=Be(p,!1),g=Be(s,!1),b=a.map(function(v,x){var w=n.getTickValueCoord(v),S=io(io(io(io({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:d},g),{},{index:x},w),{},{payload:v});return Q.createElement(ct,Dd({className:nt("recharts-polar-radius-axis-tick",zB(s)),key:"tick-".concat(v.coordinate)},zo(n.props,v,x)),e.renderTickItem(s,S,c?c(v.value,x):v.value))});return Q.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:Q.createElement(ct,{className:nt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),_r.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return Q.isValidElement(n)?s=Q.cloneElement(n,i):Qe(n)?s=n(i):s=Q.createElement(Vo,Dd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])})(M.PureComponent);Ey(jy,"displayName","PolarRadiusAxis");Ey(jy,"axisType","radiusAxis");Ey(jy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},po.apply(this,arguments)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){Ay(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n6(n.key),n)}}function vhe(t,e,r){return e&&LL(t.prototype,e),r&&LL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xhe(t,e,r){return e=fg(e),bhe(t,r6()?Reflect.construct(e,r||[],fg(t).constructor):e.apply(t,r))}function bhe(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return whe(t)}function whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fg(t)}function _he(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hE(t,e)}function Ay(t,e,r){return e=n6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n6(t){var e=She(t,"string");return Dc(e)=="symbol"?e:e+""}function She(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ehe=Math.PI/180,FL=1e-5,Ty=(function(t){function e(){return yhe(this,e),xhe(this,e,arguments)}return _he(e,t),vhe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,d=i.tickSize,p=d||8,h=kt(a,s,o,n.coordinate),m=kt(a,s,o+(c==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Ehe),s;return a>FL?s=i==="outer"?"start":"end":a<-FL?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,d=ao(ao({},Be(this.props,!1)),{},{fill:"none"},Be(o,!1));if(c==="circle")return Q.createElement(th,po({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:s}));var p=this.props.ticks,h=p.map(function(m){return kt(i,a,s,m.coordinate)});return Q.createElement(Wfe,po({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,d=i.stroke,p=Be(this.props,!1),h=Be(s,!1),m=ao(ao({},p),{},{fill:"none"},Be(o,!1)),g=a.map(function(b,v){var x=n.getTickLineCoord(b),w=n.getTickTextAnchor(b),S=ao(ao(ao({textAnchor:w},p),{},{stroke:"none",fill:d},h),{},{index:v,payload:b,x:x.x2,y:x.y2});return Q.createElement(ct,po({className:nt("recharts-polar-angle-axis-tick",zB(s)),key:"tick-".concat(b.coordinate)},zo(n.props,b,v)),o&&Q.createElement("line",po({className:"recharts-polar-angle-axis-tick-line"},m,x)),s&&e.renderTickItem(s,S,c?c(b.value,v):b.value))});return Q.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:Q.createElement(ct,{className:nt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return Q.isValidElement(n)?s=Q.cloneElement(n,i):Qe(n)?s=n(i):s=Q.createElement(Vo,po({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])})(M.PureComponent);Ay(Ty,"displayName","PolarAngleAxis");Ay(Ty,"axisType","angleAxis");Ay(Ty,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var q_,$L;function jhe(){if($L)return q_;$L=1;var t=p5(),e=t(Object.getPrototypeOf,Object);return q_=e,q_}var z_,UL;function Ahe(){if(UL)return z_;UL=1;var t=ka(),e=jhe(),r=Pa(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,c=s.call(Object);function d(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==c}return z_=d,z_}var The=Ahe();const Ohe=gt(The);var V_,BL;function khe(){if(BL)return V_;BL=1;var t=ka(),e=Pa(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return V_=n,V_}var Phe=khe();const Nhe=gt(Phe);function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hg.apply(this,arguments)}function Che(t,e){return Mhe(t)||Dhe(t,e)||Ihe(t,e)||Rhe()}function Rhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(t,e){if(t){if(typeof t=="string")return qL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qL(t,e)}}function qL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Mhe(t){if(Array.isArray(t))return t}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){Lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lhe(t,e,r){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fhe(t){var e=$he(t,"string");return Of(e)=="symbol"?e:e+""}function $he(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WL=function(e,r,n,i,a){var s=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-s/2,",").concat(r+a),o+="L ".concat(e+n-s/2-i,",").concat(r+a),o+="L ".concat(e,",").concat(r," Z"),o},Uhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bhe=function(e){var r=VL(VL({},Uhe),e),n=M.useRef(),i=M.useState(-1),a=Che(i,2),s=a[0],o=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var E=n.current.getTotalLength();E&&o(E)}catch{}},[]);var c=r.x,d=r.y,p=r.upperWidth,h=r.lowerWidth,m=r.height,g=r.className,b=r.animationEasing,v=r.animationDuration,x=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||p!==+p||h!==+h||m!==+m||p===0&&h===0||m===0)return null;var S=nt("recharts-trapezoid",g);return w?Q.createElement(mi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:p,lowerWidth:h,height:m,x:c,y:d},duration:v,animationEasing:b,isActive:w},function(E){var T=E.upperWidth,j=E.lowerWidth,O=E.height,N=E.x,R=E.y;return Q.createElement(mi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:v,easing:b},Q.createElement("path",hg({},Be(r,!0),{className:S,d:WL(N,R,T,j,O),ref:n})))}):Q.createElement("g",null,Q.createElement("path",hg({},Be(r,!0),{className:S,d:WL(c,d,p,h,m)})))},qhe=["option","shapeType","propTransformer","activeClassName","isActive"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function zhe(t,e){if(t==null)return{};var r=Vhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){Whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Whe(t,e,r){return e=Hhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hhe(t){var e=Khe(t,"string");return kf(e)=="symbol"?e:e+""}function Khe(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ghe(t,e){return pg(pg({},e),t)}function Qhe(t,e){return t==="symbols"}function KL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Q.createElement(VA,r);case"trapezoid":return Q.createElement(Bhe,r);case"sector":return Q.createElement(HB,r);case"symbols":if(Qhe(e))return Q.createElement(cA,r);break;default:return null}}function Yhe(t){return M.isValidElement(t)?t.props:t}function i6(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Ghe:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,o=t.isActive,c=zhe(t,qhe),d;if(M.isValidElement(e))d=M.cloneElement(e,pg(pg({},c),Yhe(e)));else if(Qe(e))d=e(c);else if(Ohe(e)&&!Nhe(e)){var p=i(e,c);d=Q.createElement(KL,{shapeType:r,elementProps:p})}else{var h=c;d=Q.createElement(KL,{shapeType:r,elementProps:h})}return o?Q.createElement(ct,{className:s},d):d}function Oy(t,e){return e!=null&&"trapezoids"in t.props}function ky(t,e){return e!=null&&"sectors"in t.props}function Pf(t,e){return e!=null&&"points"in t.props}function Xhe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Jhe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Zhe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function epe(t,e){var r;return Oy(t,e)?r=Xhe:ky(t,e)?r=Jhe:Pf(t,e)&&(r=Zhe),r}function tpe(t,e){var r;return Oy(t,e)?r="trapezoids":ky(t,e)?r="sectors":Pf(t,e)&&(r="points"),r}function rpe(t,e){if(Oy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ky(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pf(t,e)?e.payload:{}}function npe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=tpe(r,e),a=rpe(r,e),s=n.filter(function(c,d){var p=Wo(a,c),h=r.props[i].filter(function(b){var v=epe(r,e);return v(b,e)}),m=r.props[i].indexOf(h[h.length-1]),g=d===m;return p&&g}),o=n.indexOf(s[s.length-1]);return o}var im;function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xl.apply(this,arguments)}function GL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(r),!0).forEach(function(n){Fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s6(n.key),n)}}function ape(t,e,r){return e&&QL(t.prototype,e),r&&QL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,r){return e=mg(e),ope(t,a6()?Reflect.construct(e,r||[],mg(t).constructor):e.apply(t,r))}function ope(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pE(t,e)}function Fn(t,e,r){return e=s6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s6(t){var e=upe(t,"string");return Mc(e)=="symbol"?e:e+""}function upe(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ca=(function(t){function e(r){var n;return ipe(this,e),n=spe(this,e,[r]),Fn(n,"pieRef",null),Fn(n,"sectorRefs",[]),Fn(n,"id",Jo("recharts-pie-")),Fn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(i)&&i()}),Fn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return cpe(e,t),ape(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,d=a.valueKey,p=Be(this.props,!1),h=Be(s,!1),m=Be(o,!1),g=s&&s.offsetRadius||20,b=n.map(function(v,x){var w=(v.startAngle+v.endAngle)/2,S=kt(v.cx,v.cy,v.outerRadius+g,w),E=Tt(Tt(Tt(Tt({},p),v),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(S.x,v.cx)},S),T=Tt(Tt(Tt(Tt({},p),v),{},{fill:"none",stroke:v.fill},m),{},{index:x,points:[kt(v.cx,v.cy,v.outerRadius,w),S]}),j=c;return tt(c)&&tt(d)?j="value":tt(c)&&(j=d),Q.createElement(ct,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&e.renderLabelLineItem(o,T,"line"),e.renderLabelItem(s,E,Jt(v,j)))});return Q.createElement(ct,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(d,p){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(p),m=c&&i.hasActiveIndex()?c:null,g=h?s:m,b=Tt(Tt({},d),{},{stroke:o?d.fill:d.stroke,tabIndex:-1});return Q.createElement(ct,Xl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},zo(i.props,d,p),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(p)}),Q.createElement(i6,Xl({option:g,isActive:h,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,d=i.animationEasing,p=i.animationId,h=this.state,m=h.prevSectors,g=h.prevIsAnimationActive;return Q.createElement(mi,{begin:o,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var v=b.t,x=[],w=a&&a[0],S=w.startAngle;return a.forEach(function(E,T){var j=m&&m[T],O=T>0?En(E,"paddingAngle",0):0;if(j){var N=pr(j.endAngle-j.startAngle,E.endAngle-E.startAngle),R=Tt(Tt({},E),{},{startAngle:S+O,endAngle:S+N(v)+O});x.push(R),S=R.endAngle}else{var I=E.endAngle,q=E.startAngle,U=pr(0,I-q),D=U(v),B=Tt(Tt({},E),{},{startAngle:S+O,endAngle:S+D+O});x.push(B),S=B.endAngle}}),Q.createElement(ct,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Wo(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,d=i.cx,p=i.cy,h=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,b=this.state.isAnimationFinished;if(a||!s||!s.length||!be(d)||!be(p)||!be(h)||!be(m))return null;var v=nt("recharts-pie",o);return Q.createElement(ct,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){n.pieRef=w}},this.renderSectors(),c&&this.renderLabels(s),_r.renderCallByParent(this.props,null,!1),(!g||b)&&Li.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(Q.isValidElement(n))return Q.cloneElement(n,i);if(Qe(n))return n(i);var s=nt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Q.createElement(Do,Xl({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(Q.isValidElement(n))return Q.cloneElement(n,i);var s=a;if(Qe(n)&&(s=n(i),Q.isValidElement(s)))return s;var o=nt("recharts-pie-label-text",typeof n!="boolean"&&!Qe(n)?n.className:"");return Q.createElement(Vo,Xl({},i,{alignmentBaseline:"middle",className:o}),s)}}])})(M.PureComponent);im=Ca;Fn(Ca,"displayName","Pie");Fn(Ca,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Cs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fn(Ca,"parseDeltaAngle",function(t,e){var r=rn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fn(Ca,"getRealPieData",function(t){var e=t.data,r=t.children,n=Be(t,!1),i=jn(r,hy);return e&&e.length?e.map(function(a,s){return Tt(Tt(Tt({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Tt(Tt({},n),a.props)}):[]});Fn(Ca,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=qB(i,a),o=n+nn(t.cx,i,i/2),c=r+nn(t.cy,a,a/2),d=nn(t.innerRadius,s,0),p=nn(t.outerRadius,s,s*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:d,outerRadius:p,maxRadius:h}});Fn(Ca,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Tt(Tt({},e.type.defaultProps),e.props):e.props,i=im.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,d=n.dataKey,p=n.nameKey,h=n.valueKey,m=n.tooltipType,g=Math.abs(n.minAngle),b=im.parseCoordinateOfPie(n,r),v=im.parseDeltaAngle(s,o),x=Math.abs(v),w=d;tt(d)&&tt(h)?(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):tt(d)&&(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var S=i.filter(function(R){return Jt(R,w,0)!==0}).length,E=(x>=360?S:S-1)*c,T=x-S*g-E,j=i.reduce(function(R,I){var q=Jt(I,w,0);return R+(be(q)?q:0)},0),O;if(j>0){var N;O=i.map(function(R,I){var q=Jt(R,w,0),U=Jt(R,p,I),D=(be(q)?q:0)/j,B;I?B=N.endAngle+rn(v)*c*(q!==0?1:0):B=s;var V=B+rn(v)*((q!==0?g:0)+D*T),G=(B+V)/2,X=(b.innerRadius+b.outerRadius)/2,ie=[{name:U,value:q,payload:R,dataKey:w,type:m}],ne=kt(b.cx,b.cy,X,G);return N=Tt(Tt(Tt({percent:D,cornerRadius:a,name:U,tooltipPayload:ie,midAngle:G,middleRadius:X,tooltipPosition:ne},R),b),{},{value:Jt(R,w),startAngle:B,endAngle:V,payload:R,paddingAngle:rn(v)*c}),N})}return Tt(Tt({},b),{},{sectors:O,data:i})});var W_,YL;function dpe(){if(YL)return W_;YL=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var o=-1,c=e(t((i-n)/(a||1)),0),d=Array(c);c--;)d[s?c:++o]=n,n+=a;return d}return W_=r,W_}var H_,XL;function o6(){if(XL)return H_;XL=1;var t=P5(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return H_=n,H_}var K_,JL;function fpe(){if(JL)return K_;JL=1;var t=dpe(),e=fy(),r=o6();function n(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),o=o===void 0?a<s?1:-1:r(o),t(a,s,o,i)}}return K_=n,K_}var G_,ZL;function hpe(){if(ZL)return G_;ZL=1;var t=fpe(),e=t();return G_=e,G_}var ppe=hpe();const gg=gt(ppe);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){l6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l6(t,e,r){return e=mpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mpe(t){var e=gpe(t,"string");return Nf(e)=="symbol"?e:e+""}function gpe(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ype=["Webkit","Moz","O","ms"],vpe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ype.reduce(function(a,s){return tF(tF({},a),{},l6({},s+n,r))},{});return i[e]=r,i};function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yg.apply(this,arguments)}function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u6(n.key),n)}}function bpe(t,e,r){return e&&nF(t.prototype,e),r&&nF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,r){return e=vg(e),_pe(t,c6()?Reflect.construct(e,r||[],vg(t).constructor):e.apply(t,r))}function _pe(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Spe(t)}function Spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!t})()}function vg(t){return vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vg(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mE(t,e)}function wn(t,e,r){return e=u6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6(t){var e=jpe(t,"string");return Lc(e)=="symbol"?e:e+""}function jpe(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ape=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Nd().domain(gg(0,c)).range([a,a+s-o]),p=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:p}},iF=function(e){return e.changedTouches&&!!e.changedTouches.length},Fc=(function(t){function e(r){var n;return xpe(this,e),n=wpe(this,e,[r]),wn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),wn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),wn(n,"handleSlideDragStart",function(i){var a=iF(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Epe(e,t),bpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,d=o.data,p=d.length-1,h=Math.min(i,a),m=Math.max(i,a),g=e.getIndexInRange(s,h),b=e.getIndexInRange(s,m);return{startIndex:g-g%c,endIndex:b===p?p:b-b%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=Jt(a[n],o,n);return Qe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,d=c.x,p=c.width,h=c.travellerWidth,m=c.startIndex,g=c.endIndex,b=c.onChange,v=n.pageX-a;v>0?v=Math.min(v,d+p-h-o,d+p-h-s):v<0&&(v=Math.max(v,d-s,d-o));var x=this.getIndex({startX:s+v,endX:o+v});(x.startIndex!==m||x.endIndex!==g)&&b&&b(x),this.setState({startX:s+v,endX:o+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=iF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,d=this.state[s],p=this.props,h=p.x,m=p.width,g=p.travellerWidth,b=p.onChange,v=p.gap,x=p.data,w={startX:this.state.startX,endX:this.state.endX},S=n.pageX-a;S>0?S=Math.min(S,h+m-g-d):S<0&&(S=Math.max(S,h-d)),w[s]=d+S;var E=this.getIndex(w),T=E.startIndex,j=E.endIndex,O=function(){var R=x.length-1;return s==="startX"&&(o>c?T%v===0:j%v===0)||o<c&&j===R||s==="endX"&&(o>c?j%v===0:T%v===0)||o>c&&j===R};this.setState(wn(wn({},s,d+S),"brushMoveStartX",n.pageX),function(){b&&O()&&b(E)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,d=s.endX,p=this.state[i],h=o.indexOf(p);if(h!==-1){var m=h+n;if(!(m===-1||m>=o.length)){var g=o[m];i==="startX"&&g>=d||i==="endX"&&g<=c||this.setState(wn({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,d=n.stroke;return Q.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,d=n.children,p=n.padding,h=M.Children.only(d);return h?Q.cloneElement(h,{x:i,y:a,width:s,height:o,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,d=c.y,p=c.travellerWidth,h=c.height,m=c.traveller,g=c.ariaLabel,b=c.data,v=c.startIndex,x=c.endIndex,w=Math.max(n,this.props.x),S=Q_(Q_({},Be(this.props,!1)),{},{x:w,y:d,width:p,height:h}),E=g||"Min value: ".concat((a=b[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=b[x])===null||s===void 0?void 0:s.name);return Q.createElement(ct,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),o.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,S))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,d=a.travellerWidth,p=Math.min(n,i)+d,h=Math.max(Math.abs(i-n)-d,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:s,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,d=n.stroke,p=this.state,h=p.startX,m=p.endX,g=5,b={pointerEvents:"none",fill:d};return Q.createElement(ct,{className:"recharts-brush-texts"},Q.createElement(Vo,yg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:s+o/2},b),this.getTextOfTick(i)),Q.createElement(Vo,yg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+g,y:s+o/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,d=n.width,p=n.height,h=n.alwaysShowText,m=this.state,g=m.startX,b=m.endX,v=m.isTextActive,x=m.isSlideMoving,w=m.isTravellerMoving,S=m.isTravellerFocused;if(!i||!i.length||!be(o)||!be(c)||!be(d)||!be(p)||d<=0||p<=0)return null;var E=nt("recharts-brush",a),T=Q.Children.count(s)===1,j=vpe("userSelect","none");return Q.createElement(ct,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,b),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(b,"endX"),(v||x||w||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,d=Math.floor(a+o/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),Q.createElement("line",{x1:i+1,y1:d,x2:i+s-1,y2:d,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:i+1,y1:d+2,x2:i+s-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return Q.isValidElement(n)?a=Q.cloneElement(n,i):Qe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,d=n.updateId,p=n.startIndex,h=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return Q_({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:s},a&&a.length?Ape({data:a,width:s,x:o,travellerWidth:c,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])})(M.PureComponent);wn(Fc,"displayName","Brush");wn(Fc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Y_,aF;function Tpe(){if(aF)return Y_;aF=1;var t=gA();function e(r,n){var i;return t(r,function(a,s,o){return i=n(a,s,o),!i}),!!i}return Y_=e,Y_}var X_,sF;function Ope(){if(sF)return X_;sF=1;var t=o5(),e=zi(),r=Tpe(),n=hn(),i=fy();function a(s,o,c){var d=n(s)?t:r;return c&&i(s,o,c)&&(o=void 0),d(s,e(o,3))}return X_=a,X_}var kpe=Ope();const Ppe=gt(kpe);var Fi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},J_,oF;function Npe(){if(oF)return J_;oF=1;var t=j5();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return J_=e,J_}var Z_,lF;function Cpe(){if(lF)return Z_;lF=1;var t=Npe(),e=S5(),r=zi();function n(i,a){var s={};return a=r(a,3),e(i,function(o,c,d){t(s,c,a(o,c,d))}),s}return Z_=n,Z_}var Rpe=Cpe();const Ipe=gt(Rpe);var eS,cF;function Dpe(){if(cF)return eS;cF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return eS=t,eS}var tS,uF;function Mpe(){if(uF)return tS;uF=1;var t=gA();function e(r,n){var i=!0;return t(r,function(a,s,o){return i=!!n(a,s,o),i}),i}return tS=e,tS}var rS,dF;function Lpe(){if(dF)return rS;dF=1;var t=Dpe(),e=Mpe(),r=zi(),n=hn(),i=fy();function a(s,o,c){var d=n(s)?t:e;return c&&i(s,o,c)&&(o=void 0),d(s,r(o,3))}return rS=a,rS}var Fpe=Lpe();const d6=gt(Fpe);var $pe=["x","y"];function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gE.apply(this,arguments)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){Upe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Upe(t,e,r){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bpe(t){var e=qpe(t,"string");return Cf(e)=="symbol"?e:e+""}function qpe(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){if(t==null)return{};var r=Vpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wpe(t,e){var r=t.x,n=t.y,i=zpe(t,$pe),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),d="".concat(e.height||i.height),p=parseInt(d,10),h="".concat(e.width||i.width),m=parseInt(h,10);return gd(gd(gd(gd(gd({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:p,width:m,name:e.name,radius:e.radius})}function hF(t){return Q.createElement(i6,gE({shapeType:"rectangle",propTransformer:Wpe,activeClassName:"recharts-active-bar"},t))}var Hpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=be(n)||hte(n);return a?e(n,i):(a||Ko(),r)}},Kpe=["value","background"],f6;function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Gpe(t,e){if(t==null)return{};var r=Qpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){vs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ype(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p6(n.key),n)}}function Xpe(t,e,r){return e&&mF(t.prototype,e),r&&mF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jpe(t,e,r){return e=bg(e),Zpe(t,h6()?Reflect.construct(e,r||[],bg(t).constructor):e.apply(t,r))}function Zpe(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(t)}function eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h6=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yE(t,e)}function vs(t,e,r){return e=p6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p6(t){var e=rme(t,"string");return $c(e)=="symbol"?e:e+""}function rme(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ja=(function(t){function e(){var r;Ype(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jpe(this,e,[].concat(i)),vs(r,"state",{isAnimationFinished:!1}),vs(r,"id",Jo("recharts-bar-")),vs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),vs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return tme(e,t),Xpe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,d=a.activeBar,p=Be(this.props,!1);return n&&n.map(function(h,m){var g=m===c,b=g?d:s,v=nr(nr(nr({},p),h),{},{isActive:g,option:b,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Q.createElement(ct,xg({className:"recharts-bar-rectangle"},zo(i.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),Q.createElement(hF,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,p=i.animationEasing,h=i.animationId,m=this.state.prevData;return Q.createElement(mi,{begin:c,duration:d,isActive:o,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var b=g.t,v=a.map(function(x,w){var S=m&&m[w];if(S){var E=pr(S.x,x.x),T=pr(S.y,x.y),j=pr(S.width,x.width),O=pr(S.height,x.height);return nr(nr({},x),{},{x:E(b),y:T(b),width:j(b),height:O(b)})}if(s==="horizontal"){var N=pr(0,x.height),R=N(b);return nr(nr({},x),{},{y:x.y+x.height-R,height:R})}var I=pr(0,x.width),q=I(b);return nr(nr({},x),{},{width:q})});return Q.createElement(ct,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Wo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=Be(this.props.background,!1);return a.map(function(d,p){d.value;var h=d.background,m=Gpe(d,Kpe);if(!h)return null;var g=nr(nr(nr(nr(nr({},m),{},{fill:"#eee"},h),c),zo(n.props,d,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return Q.createElement(hF,xg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===o},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,d=a.layout,p=a.children,h=jn(p,eh);if(!h)return null;var m=d==="vertical"?s[0].height/2:s[0].width/2,g=function(x,w){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:Jt(x,w)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(ct,b,h.map(function(v){return Q.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:s,xAxis:o,yAxis:c,layout:d,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,c=n.yAxis,d=n.left,p=n.top,h=n.width,m=n.height,g=n.isAnimationActive,b=n.background,v=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,w=nt("recharts-bar",s),S=o&&o.allowDataOverflow,E=c&&c.allowDataOverflow,T=S||E,j=tt(v)?this.id:v;return Q.createElement(ct,{className:w},S||E?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(j)},Q.createElement("rect",{x:S?d:d-h/2,y:E?p:p-m/2,width:S?h:h*2,height:E?m:m*2}))):null,Q.createElement(ct,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(j,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,j),(!g||x)&&Li.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(M.PureComponent);f6=ja;vs(ja,"displayName","Bar");vs(ja,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vs(ja,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,m=t.offset,g=Tce(n,r);if(!g)return null;var b=e.layout,v=r.type.defaultProps,x=v!==void 0?nr(nr({},v),r.props):r.props,w=x.dataKey,S=x.children,E=x.minPointSize,T=b==="horizontal"?s:a,j=d?T.scale.domain():null,O=Ice({numericAxis:T}),N=jn(S,hy),R=h.map(function(I,q){var U,D,B,V,G,X;d?U=Oce(d[p+q],j):(U=Jt(I,w),Array.isArray(U)||(U=[O,U]));var ie=Hpe(E,f6.defaultProps.minPointSize)(U[1],q);if(b==="horizontal"){var ne,oe=[s.scale(U[0]),s.scale(U[1])],se=oe[0],W=oe[1];D=zM({axis:a,ticks:o,bandSize:i,offset:g.offset,entry:I,index:q}),B=(ne=W??se)!==null&&ne!==void 0?ne:void 0,V=g.size;var Z=se-W;if(G=Number.isNaN(Z)?0:Z,X={x:D,y:s.y,width:V,height:s.height},Math.abs(ie)>0&&Math.abs(G)<Math.abs(ie)){var ge=rn(G||ie)*(Math.abs(ie)-Math.abs(G));B-=ge,G+=ge}}else{var _e=[a.scale(U[0]),a.scale(U[1])],Pe=_e[0],Me=_e[1];if(D=Pe,B=zM({axis:s,ticks:c,bandSize:i,offset:g.offset,entry:I,index:q}),V=Me-Pe,G=g.size,X={x:a.x,y:B,width:a.width,height:G},Math.abs(ie)>0&&Math.abs(V)<Math.abs(ie)){var Ze=rn(V||ie)*(Math.abs(ie)-Math.abs(V));V+=Ze}}return nr(nr(nr({},I),{},{x:D,y:B,width:V,height:G,value:d?U:U[1],payload:I,background:X},N&&N[q]&&N[q].props),{},{tooltipPayload:[UB(r,I)],tooltipPosition:{x:D+V/2,y:B+G/2}})});return nr({data:R,layout:b},m)});function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m6(n.key),n)}}function ime(t,e,r){return e&&gF(t.prototype,e),r&&gF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){Py(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Py(t,e,r){return e=m6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m6(t){var e=ame(t,"string");return Rf(e)=="symbol"?e:e+""}function ame(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WA=function(e,r,n,i,a){var s=e.width,o=e.height,c=e.layout,d=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},m=!!_n(d,ja);return p.reduce(function(g,b){var v=r[b],x=v.orientation,w=v.domain,S=v.padding,E=S===void 0?{}:S,T=v.mirror,j=v.reversed,O="".concat(x).concat(T?"Mirror":""),N,R,I,q,U;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var D=w[1]-w[0],B=1/0,V=v.categoricalDomain.sort(gte);if(V.forEach(function(_e,Pe){Pe>0&&(B=Math.min((_e||0)-(V[Pe-1]||0),B))}),Number.isFinite(B)){var G=B/D,X=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(N=G*X/2),v.padding==="no-gap"){var ie=nn(e.barCategoryGap,G*X),ne=G*X/2;N=ne-ie-(ne-ie)/X*ie}}}i==="xAxis"?R=[n.left+(E.left||0)+(N||0),n.left+n.width-(E.right||0)-(N||0)]:i==="yAxis"?R=c==="horizontal"?[n.top+n.height-(E.bottom||0),n.top+(E.top||0)]:[n.top+(E.top||0)+(N||0),n.top+n.height-(E.bottom||0)-(N||0)]:R=v.range,j&&(R=[R[1],R[0]]);var oe=MB(v,a,m),se=oe.scale,W=oe.realScaleType;se.domain(w).range(R),LB(se);var Z=FB(se,di(di({},v),{},{realScaleType:W}));i==="xAxis"?(U=x==="top"&&!T||x==="bottom"&&T,I=n.left,q=h[O]-U*v.height):i==="yAxis"&&(U=x==="left"&&!T||x==="right"&&T,I=h[O]-U*v.width,q=n.top);var ge=di(di(di({},v),Z),{},{realScaleType:W,x:I,y:q,scale:se,width:i==="xAxis"?n.width:v.width,height:i==="yAxis"?n.height:v.height});return ge.bandSize=ng(ge,Z),!v.hide&&i==="xAxis"?h[O]+=(U?-1:1)*ge.height:v.hide||(h[O]+=(U?-1:1)*ge.width),di(di({},g),{},Py({},b,ge))},{})},g6=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},sme=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return g6({x:r,y:n},{x:i,y:a})},y6=(function(){function t(e){nme(this,t),this.scale=e}return ime(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Py(y6,"EPS",1e-4);var HA=function(e){var r=Object.keys(e).reduce(function(n,i){return di(di({},n),{},Py({},i,y6.create(e[i])))},{});return di(di({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return Ipe(i,function(c,d){return r[d].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return d6(i,function(a,s){return r[s].isInRange(a)})}})};function ome(t){return(t%180+180)%180}var lme=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ome(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},nS,vF;function cme(){if(vF)return nS;vF=1;var t=zi(),e=Qf(),r=uy();function n(i){return function(a,s,o){var c=Object(a);if(!e(a)){var d=t(s,3);a=r(a),s=function(h){return d(c[h],h,c)}}var p=i(a,s,o);return p>-1?c[d?a[p]:p]:void 0}}return nS=n,nS}var iS,xF;function ume(){if(xF)return iS;xF=1;var t=o6();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return iS=e,iS}var aS,bF;function dme(){if(bF)return aS;bF=1;var t=v5(),e=zi(),r=ume(),n=Math.max;function i(a,s,o){var c=a==null?0:a.length;if(!c)return-1;var d=o==null?0:r(o);return d<0&&(d=n(c+d,0)),t(a,e(s,3),d)}return aS=i,aS}var sS,wF;function fme(){if(wF)return sS;wF=1;var t=cme(),e=dme(),r=t(e);return sS=r,sS}var hme=fme();const pme=gt(hme);var mme=RU();const gme=gt(mme);var yme=gme(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KA=M.createContext(void 0),GA=M.createContext(void 0),v6=M.createContext(void 0),x6=M.createContext({}),b6=M.createContext(void 0),w6=M.createContext(0),_6=M.createContext(0),_F=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,o=e.children,c=e.width,d=e.height,p=yme(a);return Q.createElement(KA.Provider,{value:n},Q.createElement(GA.Provider,{value:i},Q.createElement(x6.Provider,{value:a},Q.createElement(v6.Provider,{value:p},Q.createElement(b6.Provider,{value:s},Q.createElement(w6.Provider,{value:d},Q.createElement(_6.Provider,{value:c},o)))))))},vme=function(){return M.useContext(b6)},S6=function(e){var r=M.useContext(KA);r==null&&Ko();var n=r[e];return n==null&&Ko(),n},xme=function(){var e=M.useContext(KA);return ls(e)},bme=function(){var e=M.useContext(GA),r=pme(e,function(n){return d6(n.domain,Number.isFinite)});return r||ls(e)},E6=function(e){var r=M.useContext(GA);r==null&&Ko();var n=r[e];return n==null&&Ko(),n},wme=function(){var e=M.useContext(v6);return e},_me=function(){return M.useContext(x6)},QA=function(){return M.useContext(_6)},YA=function(){return M.useContext(w6)};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A6(n.key),n)}}function jme(t,e,r){return e&&Eme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,r){return e=wg(e),Tme(t,j6()?Reflect.construct(e,r||[],wg(t).constructor):e.apply(t,r))}function Tme(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(t)}function Ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j6=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(t)}function kme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vE(t,e)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){XA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XA(t,e,r){return e=A6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6(t){var e=Pme(t,"string");return Uc(e)=="symbol"?e:e+""}function Pme(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nme(t,e){return Dme(t)||Ime(t,e)||Rme(t,e)||Cme()}function Cme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(t,e){if(t){if(typeof t=="string")return jF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jF(t,e)}}function jF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ime(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Dme(t){if(Array.isArray(t))return t}function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xE.apply(this,arguments)}var Mme=function(e,r){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,r):Qe(e)?n=e(r):n=Q.createElement("line",xE({},r,{className:"recharts-reference-line-line"})),n},Lme=function(e,r,n,i,a,s,o,c,d){var p=a.x,h=a.y,m=a.width,g=a.height;if(n){var b=d.y,v=e.y.apply(b,{position:s});if(Fi(d,"discard")&&!e.y.isInRange(v))return null;var x=[{x:p+m,y:v},{x:p,y:v}];return c==="left"?x.reverse():x}if(r){var w=d.x,S=e.x.apply(w,{position:s});if(Fi(d,"discard")&&!e.x.isInRange(S))return null;var E=[{x:S,y:h+g},{x:S,y:h}];return o==="top"?E.reverse():E}if(i){var T=d.segment,j=T.map(function(O){return e.apply(O,{position:s})});return Fi(d,"discard")&&Ppe(j,function(O){return!e.isInRange(O)})?null:j}return null};function Fme(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,o=t.className,c=t.alwaysShow,d=vme(),p=S6(i),h=E6(a),m=wme();if(!d||!m)return null;pi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=HA({x:p.scale,y:h.scale}),b=mr(e),v=mr(r),x=n&&n.length===2,w=Lme(g,b,v,x,m,t.position,p.orientation,h.orientation,t);if(!w)return null;var S=Nme(w,2),E=S[0],T=E.x,j=E.y,O=S[1],N=O.x,R=O.y,I=Fi(t,"hidden")?"url(#".concat(d,")"):void 0,q=EF(EF({clipPath:I},Be(t,!0)),{},{x1:T,y1:j,x2:N,y2:R});return Q.createElement(ct,{className:nt("recharts-reference-line",o)},Mme(s,q),_r.renderCallByParent(t,sme({x1:T,y1:j,x2:N,y2:R})))}var JA=(function(t){function e(){return Sme(this,e),Ame(this,e,arguments)}return kme(e,t),jme(e,[{key:"render",value:function(){return Q.createElement(Fme,this.props)}}])})(Q.Component);XA(JA,"displayName","ReferenceLine");XA(JA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(this,arguments)}function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function AF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(r),!0).forEach(function(n){Ny(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O6(n.key),n)}}function Bme(t,e,r){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qme(t,e,r){return e=_g(e),zme(t,T6()?Reflect.construct(e,r||[],_g(t).constructor):e.apply(t,r))}function zme(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(t)}function Vme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(t)}function Wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wE(t,e)}function Ny(t,e,r){return e=O6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O6(t){var e=Hme(t,"string");return Bc(e)=="symbol"?e:e+""}function Hme(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kme=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=HA({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return Fi(e,"discard")&&!s.isInRange(o)?null:o},Cy=(function(t){function e(){return $me(this,e),qme(this,e,arguments)}return Wme(e,t),Bme(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,d=mr(i),p=mr(a);if(pi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var h=Kme(this.props);if(!h)return null;var m=h.x,g=h.y,b=this.props,v=b.shape,x=b.className,w=Fi(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=TF(TF({clipPath:w},Be(this.props,!0)),{},{cx:m,cy:g});return Q.createElement(ct,{className:nt("recharts-reference-dot",x)},e.renderDot(v,S),_r.renderCallByParent(this.props,{x:m-s,y:g-s,width:2*s,height:2*s}))}}])})(Q.Component);Ny(Cy,"displayName","ReferenceDot");Ny(Cy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ny(Cy,"renderDot",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Qe(t)?r=t(e):r=Q.createElement(th,bE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_E.apply(this,arguments)}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function OF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(r),!0).forEach(function(n){Ry(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P6(n.key),n)}}function Yme(t,e,r){return e&&Qme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xme(t,e,r){return e=Sg(e),Jme(t,k6()?Reflect.construct(e,r||[],Sg(t).constructor):e.apply(t,r))}function Jme(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(t)}function Zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SE(t,e)}function Ry(t,e,r){return e=P6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P6(t){var e=tge(t,"string");return qc(e)=="symbol"?e:e+""}function tge(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rge=function(e,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,d=a.y2,p=a.xAxis,h=a.yAxis;if(!p||!h)return null;var m=HA({x:p.scale,y:h.scale}),g={x:e?m.x.apply(s,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},b={x:r?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Fi(a,"discard")&&(!m.isInRange(g)||!m.isInRange(b))?null:g6(g,b)},Iy=(function(t){function e(){return Gme(this,e),Xme(this,e,arguments)}return ege(e,t),Yme(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,d=n.alwaysShow,p=n.clipPathId;pi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=mr(i),m=mr(a),g=mr(s),b=mr(o),v=this.props.shape;if(!h&&!m&&!g&&!b&&!v)return null;var x=rge(h,m,g,b,this.props);if(!x&&!v)return null;var w=Fi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Q.createElement(ct,{className:nt("recharts-reference-area",c)},e.renderRect(v,kF(kF({clipPath:w},Be(this.props,!0)),x)),_r.renderCallByParent(this.props,x))}}])})(Q.Component);Ry(Iy,"displayName","ReferenceArea");Ry(Iy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ry(Iy,"renderRect",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Qe(t)?r=t(e):r=Q.createElement(VA,_E({},e,{className:"recharts-reference-area-rect"})),r});function N6(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function nge(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lme(n,r)}function ige(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,o=t.height;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Eg(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function age(t,e){return N6(t,e+1)}function sge(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,o=e.end,c=0,d=1,p=s,h=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:N6(n,d)};var v=c,x,w=function(){return x===void 0&&(x=r(b,v)),x},S=b.coordinate,E=c===0||Eg(t,S,w,p,o);E||(c=0,p=s,d+=1),E&&(p=S+t*(w()/2+i),c+=d)},m;d<=a.length;)if(m=h(),m)return m.v;return[]}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){oge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oge(t,e,r){return e=lge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lge(t){var e=cge(t,"string");return If(e)=="symbol"?e:e+""}function cge(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uge(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=e.start,c=e.end,d=function(m){var g=a[m],b,v=function(){return b===void 0&&(b=r(g,m)),b};if(m===s-1){var x=t*(g.coordinate+t*v()/2-c);a[m]=g=$r($r({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else a[m]=g=$r($r({},g),{},{tickCoord:g.coordinate});var w=Eg(t,g.tickCoord,v,o,c);w&&(c=g.tickCoord-t*(v()/2+i),a[m]=$r($r({},g),{},{isShow:!0}))},p=s-1;p>=0;p--)d(p);return a}function dge(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,c=e.start,d=e.end;if(a){var p=n[o-1],h=r(p,o-1),m=t*(p.coordinate+t*h/2-d);s[o-1]=p=$r($r({},p),{},{tickCoord:m>0?p.coordinate-m*t:p.coordinate});var g=Eg(t,p.tickCoord,function(){return h},c,d);g&&(d=p.tickCoord-t*(h/2+i),s[o-1]=$r($r({},p),{},{isShow:!0}))}for(var b=a?o-1:o,v=function(S){var E=s[S],T,j=function(){return T===void 0&&(T=r(E,S)),T};if(S===0){var O=t*(E.coordinate-t*j()/2-c);s[S]=E=$r($r({},E),{},{tickCoord:O<0?E.coordinate-O*t:E.coordinate})}else s[S]=E=$r($r({},E),{},{tickCoord:E.coordinate});var N=Eg(t,E.tickCoord,j,c,d);N&&(c=E.tickCoord+t*(j()/2+i),s[S]=$r($r({},E),{},{isShow:!0}))},x=0;x<b;x++)v(x);return s}function ZA(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,o=t.orientation,c=t.interval,d=t.tickFormatter,p=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(be(c)||Cs.isSsr)return age(i,typeof c=="number"&&be(c)?c:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",b=p&&g==="width"?Pd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(E,T){var j=Qe(d)?d(E.value,T):E.value;return g==="width"?nge(Pd(j,{fontSize:e,letterSpacing:r}),b,h):Pd(j,{fontSize:e,letterSpacing:r})[g]},x=i.length>=2?rn(i[1].coordinate-i[0].coordinate):1,w=ige(a,x,g);return c==="equidistantPreserveStart"?sge(x,w,v,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=dge(x,w,v,i,s,c==="preserveStartEnd"):m=uge(x,w,v,i,s),m.filter(function(S){return S.isShow}))}var fge=["viewBox"],hge=["viewBox"],pge=["ticks"];function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function NF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NF(Object(r),!0).forEach(function(n){eT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oS(t,e){if(t==null)return{};var r=mge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R6(n.key),n)}}function yge(t,e,r){return e&&CF(t.prototype,e),r&&CF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vge(t,e,r){return e=jg(e),xge(t,C6()?Reflect.construct(e,r||[],jg(t).constructor):e.apply(t,r))}function xge(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bge(t)}function bge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(t)}function wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EE(t,e)}function eT(t,e,r){return e=R6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R6(t){var e=_ge(t,"string");return zc(e)=="symbol"?e:e+""}function _ge(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var du=(function(t){function e(r){var n;return gge(this,e),n=vge(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return wge(e,t),yge(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=oS(n,fge),o=this.props,c=o.viewBox,d=oS(o,hge);return!ac(a,c)||!ac(s,d)||!ac(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,d=i.orientation,p=i.tickSize,h=i.mirror,m=i.tickMargin,g,b,v,x,w,S,E=h?-1:1,T=n.tickSize||p,j=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=b=n.coordinate,x=s+ +!h*c,v=x-E*T,S=v-E*m,w=j;break;case"left":v=x=n.coordinate,b=a+ +!h*o,g=b-E*T,w=g-E*m,S=j;break;case"right":v=x=n.coordinate,b=a+ +h*o,g=b+E*T,w=g+E*m,S=j;break;default:g=b=n.coordinate,x=s+ +h*c,v=x+E*T,S=v+E*m,w=j;break}return{line:{x1:g,y1:v,x2:b,y2:x},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.orientation,d=n.mirror,p=n.axisLine,h=ur(ur(ur({},Be(this.props,!1)),Be(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=ur(ur({},h),{},{x1:i,y1:a+m*o,x2:i+s,y2:a+m*o})}else{var g=+(c==="left"&&!d||c==="right"&&d);h=ur(ur({},h),{},{x1:i+g*s,y1:a,x2:i+g*s,y2:a+o})}return Q.createElement("line",Jl({},h,{className:nt("recharts-cartesian-axis-line",En(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,c=o.tickLine,d=o.stroke,p=o.tick,h=o.tickFormatter,m=o.unit,g=ZA(ur(ur({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),x=Be(this.props,!1),w=Be(p,!1),S=ur(ur({},x),{},{fill:"none"},Be(c,!1)),E=g.map(function(T,j){var O=s.getTickLineCoord(T),N=O.line,R=O.tick,I=ur(ur(ur(ur({textAnchor:b,verticalAnchor:v},x),{},{stroke:"none",fill:d},w),R),{},{index:j,payload:T,visibleTicksCount:g.length,tickFormatter:h});return Q.createElement(ct,Jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},zo(s.props,T,j)),c&&Q.createElement("line",Jl({},S,N,{className:nt("recharts-cartesian-axis-tick-line",En(c,"className"))})),p&&e.renderTickItem(p,I,"".concat(Qe(h)?h(T.value,j):T.value).concat(m||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,d=i.className,p=i.hide;if(p)return null;var h=this.props,m=h.ticks,g=oS(h,pge),b=m;return Qe(c)&&(b=m&&m.length>0?c(this.props):c(g)),s<=0||o<=0||!b||!b.length?null:Q.createElement(ct,{className:nt("recharts-cartesian-axis",d),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),_r.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=nt(i.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(n)?s=Q.cloneElement(n,ur(ur({},i),{},{className:o})):Qe(n)?s=n(ur(ur({},i),{},{className:o})):s=Q.createElement(Vo,Jl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])})(M.Component);eT(du,"displayName","CartesianAxis");eT(du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Sge=["x1","y1","x2","y2","key"],Ege=["offset"];function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function RF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(r),!0).forEach(function(n){jge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jge(t,e,r){return e=Age(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Age(t){var e=Tge(t,"string");return Go(e)=="symbol"?e:e+""}function Tge(t,e){if(Go(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function So(){return So=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},So.apply(this,arguments)}function IF(t,e){if(t==null)return{};var r=Oge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kge=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,o=e.height,c=e.ry;return Q.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function I6(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,o=e.key,c=IF(e,Sge),d=Be(c,!1);d.offset;var p=IF(d,Ege);r=Q.createElement("line",So({},p,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function Pge(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var d=Br(Br({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(c),index:c});return I6(i,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Nge(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var d=Br(Br({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(c),index:c});return I6(i,d)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Cge(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,o=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var p=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==p[0]&&p.unshift(0);var h=p.map(function(m,g){var b=!p[g+1],v=b?i+s-m:p[g+1]-m;if(v<=0)return null;var x=g%e.length;return Q.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:v,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Rge(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,o=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var p=d.map(function(m){return Math.round(m+a-a)}).sort(function(m,g){return m-g});a!==p[0]&&p.unshift(0);var h=p.map(function(m,g){var b=!p[g+1],v=b?a+o-m:p[g+1]-m;if(v<=0)return null;var x=g%n.length;return Q.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:v,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Ige=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return DB(ZA(Br(Br(Br({},du.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Dge=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return DB(ZA(Br(Br(Br({},du.defaultProps),n),{},{ticks:pa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ml={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zl(t){var e,r,n,i,a,s,o=QA(),c=YA(),d=_me(),p=Br(Br({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ml.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ml.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ml.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ml.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ml.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ml.verticalFill,x:be(t.x)?t.x:d.left,y:be(t.y)?t.y:d.top,width:be(t.width)?t.width:d.width,height:be(t.height)?t.height:d.height}),h=p.x,m=p.y,g=p.width,b=p.height,v=p.syncWithTicks,x=p.horizontalValues,w=p.verticalValues,S=xme(),E=bme();if(!be(g)||g<=0||!be(b)||b<=0||!be(h)||h!==+h||!be(m)||m!==+m)return null;var T=p.verticalCoordinatesGenerator||Ige,j=p.horizontalCoordinatesGenerator||Dge,O=p.horizontalPoints,N=p.verticalPoints;if((!O||!O.length)&&Qe(j)){var R=x&&x.length,I=j({yAxis:E?Br(Br({},E),{},{ticks:R?x:E.ticks}):void 0,width:o,height:c,offset:d},R?!0:v);pi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Go(I),"]")),Array.isArray(I)&&(O=I)}if((!N||!N.length)&&Qe(T)){var q=w&&w.length,U=T({xAxis:S?Br(Br({},S),{},{ticks:q?w:S.ticks}):void 0,width:o,height:c,offset:d},q?!0:v);pi(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Go(U),"]")),Array.isArray(U)&&(N=U)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(kge,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Q.createElement(Pge,So({},p,{offset:d,horizontalPoints:O,xAxis:S,yAxis:E})),Q.createElement(Nge,So({},p,{offset:d,verticalPoints:N,xAxis:S,yAxis:E})),Q.createElement(Cge,So({},p,{horizontalPoints:O})),Q.createElement(Rge,So({},p,{verticalPoints:N})))}Zl.displayName="CartesianGrid";var Mge=["type","layout","connectNulls","ref"],Lge=["key"];function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function DF(t,e){if(t==null)return{};var r=Fge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Md(){return Md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ll(t){return qge(t)||Bge(t)||Uge(t)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uge(t,e){if(t){if(typeof t=="string")return jE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(t,e)}}function Bge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qge(t){if(Array.isArray(t))return jE(t)}function jE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M6(n.key),n)}}function Vge(t,e,r){return e&&LF(t.prototype,e),r&&LF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wge(t,e,r){return e=Ag(e),Hge(t,D6()?Reflect.construct(e,r||[],Ag(t).constructor):e.apply(t,r))}function Hge(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kge(t)}function Kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ag(t)}function Gge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AE(t,e)}function fi(t,e,r){return e=M6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M6(t){var e=Qge(t,"string");return Vc(e)=="symbol"?e:e+""}function Qge(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mo=(function(t){function e(){var r;zge(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wge(this,e,[].concat(i)),fi(r,"state",{isAnimationFinished:!0,totalLength:0}),fi(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),fi(r,"getStrokeDasharray",function(s,o,c){var d=c.reduce(function(w,S){return w+S});if(!d)return r.generateSimpleStrokeDasharray(o,s);for(var p=Math.floor(s/d),h=s%d,m=o-s,g=[],b=0,v=0;b<c.length;v+=c[b],++b)if(v+c[b]>h){g=[].concat(Ll(c.slice(0,b)),[h-v]);break}var x=g.length%2===0?[0,m]:[m];return[].concat(Ll(e.repeat(c,p)),Ll(g),x).map(function(w){return"".concat(w,"px")}).join(", ")}),fi(r,"id",Jo("recharts-line-")),fi(r,"pathRef",function(s){r.mainCurve=s}),fi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Gge(e,t),Vge(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,d=a.layout,p=a.children,h=jn(p,eh);if(!h)return null;var m=function(v,x){return{x:v.x,y:v.y,value:v.value,errorVal:Jt(v.payload,x)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(ct,g,h.map(function(b){return Q.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:s,xAxis:o,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,d=o.points,p=o.dataKey,h=Be(this.props,!1),m=Be(c,!0),g=d.map(function(v,x){var w=bn(bn(bn({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:v.x,cy:v.y,value:v.value,dataKey:p,payload:v.payload,points:d});return e.renderDotItem(c,w)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Q.createElement(ct,Md({className:"recharts-line-dots",key:"dots"},b),g)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,c=o.type,d=o.layout,p=o.connectNulls;o.ref;var h=DF(o,Mge),m=bn(bn(bn({},Be(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:d,connectNulls:p});return Q.createElement(Do,Md({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,d=s.isAnimationActive,p=s.animationBegin,h=s.animationDuration,m=s.animationEasing,g=s.animationId,b=s.animateNewValues,v=s.width,x=s.height,w=this.state,S=w.prevPoints,E=w.totalLength;return Q.createElement(mi,{begin:p,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var j=T.t;if(S){var O=S.length/o.length,N=o.map(function(D,B){var V=Math.floor(B*O);if(S[V]){var G=S[V],X=pr(G.x,D.x),ie=pr(G.y,D.y);return bn(bn({},D),{},{x:X(j),y:ie(j)})}if(b){var ne=pr(v*2,D.x),oe=pr(x/2,D.y);return bn(bn({},D),{},{x:ne(j),y:oe(j)})}return bn(bn({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(N,n,i)}var R=pr(0,E),I=R(j),q;if(c){var U="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});q=a.getStrokeDasharray(I,E,U)}else q=a.generateSimpleStrokeDasharray(E,I);return a.renderCurveStatically(o,n,i,{strokeDasharray:q})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,d=c.prevPoints,p=c.totalLength;return o&&s&&s.length&&(!d&&p>0||!Wo(d,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,d=i.xAxis,p=i.yAxis,h=i.top,m=i.left,g=i.width,b=i.height,v=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=o.length===1,E=nt("recharts-line",c),T=d&&d.allowDataOverflow,j=p&&p.allowDataOverflow,O=T||j,N=tt(x)?this.id:x,R=(n=Be(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=R.r,q=I===void 0?3:I,U=R.strokeWidth,D=U===void 0?2:U,B=FU(s)?s:{},V=B.clipDot,G=V===void 0?!0:V,X=q*2+D;return Q.createElement(ct,{className:E},T||j?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(N)},Q.createElement("rect",{x:T?m:m-g/2,y:j?h:h-b/2,width:T?g:g*2,height:j?b:b*2})),!G&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(N)},Q.createElement("rect",{x:m-X/2,y:h-X/2,width:g+X,height:b+X}))):null,!S&&this.renderCurve(O,N),this.renderErrorBar(O,N),(S||s)&&this.renderDots(O,G,N),(!v||w)&&Li.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ll(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Ll(s),Ll(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(Q.isValidElement(n))a=Q.cloneElement(n,i);else if(Qe(n))a=n(i);else{var s=i.key,o=DF(i,Lge),c=nt("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Q.createElement(th,Md({key:s},o,{className:c}))}return a}}])})(M.PureComponent);fi(Mo,"displayName","Line");fi(Mo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Cs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fi(Mo,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,o=t.bandSize,c=t.displayedData,d=t.offset,p=e.layout,h=c.map(function(m,g){var b=Jt(m,s);return p==="horizontal"?{x:rg({axis:r,ticks:i,bandSize:o,entry:m,index:g}),y:tt(b)?null:n.scale(b),value:b,payload:m}:{x:tt(b)?null:r.scale(b),y:rg({axis:n,ticks:a,bandSize:o,entry:m,index:g}),value:b,payload:m}});return bn({points:h,layout:p},d)});var Yge=["layout","type","stroke","connectNulls","isRange","ref"],Xge=["key"],L6;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function F6(t,e){if(t==null)return{};var r=Jge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eo.apply(this,arguments)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){Ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U6(n.key),n)}}function eye(t,e,r){return e&&$F(t.prototype,e),r&&$F(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tye(t,e,r){return e=Tg(e),rye(t,$6()?Reflect.construct(e,r||[],Tg(t).constructor):e.apply(t,r))}function rye(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(t)}function nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($6=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tg(t)}function iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TE(t,e)}function Ci(t,e,r){return e=U6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U6(t){var e=aye(t,"string");return Wc(e)=="symbol"?e:e+""}function aye(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aa=(function(t){function e(){var r;Zge(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tye(this,e,[].concat(i)),Ci(r,"state",{isAnimationFinished:!0}),Ci(r,"id",Jo("recharts-area-")),Ci(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(s)&&s()}),Ci(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(s)&&s()}),r}return iye(e,t),eye(e,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,d=c.dot,p=c.points,h=c.dataKey,m=Be(this.props,!1),g=Be(d,!0),b=p.map(function(x,w){var S=ns(ns(ns({key:"dot-".concat(w),r:3},m),g),{},{index:w,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:p});return e.renderDotItem(d,S)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Q.createElement(ct,Eo({className:"recharts-area-dots"},v),b)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].x,d=s[s.length-1].x,p=n*Math.abs(c-d),h=ys(s.map(function(m){return m.y||0}));return be(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(ys(a.map(function(m){return m.y||0})),h)),be(h)?Q.createElement("rect",{x:c<d?c:c-p,y:0,width:p,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].y,d=s[s.length-1].y,p=n*Math.abs(c-d),h=ys(s.map(function(m){return m.x||0}));return be(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(ys(a.map(function(m){return m.x||0})),h)),be(h)?Q.createElement("rect",{x:0,y:c<d?c:c-p,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,c=o.layout,d=o.type,p=o.stroke,h=o.connectNulls,m=o.isRange;o.ref;var g=F6(o,Yge);return Q.createElement(ct,{clipPath:a?"url(#clipPath-".concat(s,")"):null},Q.createElement(Do,Eo({},Be(g,!0),{points:n,connectNulls:h,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&Q.createElement(Do,Eo({},Be(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:n})),p!=="none"&&m&&Q.createElement(Do,Eo({},Be(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.baseLine,d=s.isAnimationActive,p=s.animationBegin,h=s.animationDuration,m=s.animationEasing,g=s.animationId,b=this.state,v=b.prevPoints,x=b.prevBaseLine;return Q.createElement(mi,{begin:p,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var S=w.t;if(v){var E=v.length/o.length,T=o.map(function(R,I){var q=Math.floor(I*E);if(v[q]){var U=v[q],D=pr(U.x,R.x),B=pr(U.y,R.y);return ns(ns({},R),{},{x:D(S),y:B(S)})}return R}),j;if(be(c)&&typeof c=="number"){var O=pr(x,c);j=O(S)}else if(tt(c)||su(c)){var N=pr(x,0);j=N(S)}else j=c.map(function(R,I){var q=Math.floor(I*E);if(x[q]){var U=x[q],D=pr(U.x,R.x),B=pr(U.y,R.y);return ns(ns({},R),{},{x:D(S),y:B(S)})}return R});return a.renderAreaStatically(T,j,n,i)}return Q.createElement(ct,null,Q.createElement("defs",null,Q.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(S))),Q.createElement(ct,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,c=a.isAnimationActive,d=this.state,p=d.prevPoints,h=d.prevBaseLine,m=d.totalLength;return c&&s&&s.length&&(!p&&m>0||!Wo(p,s)||!Wo(h,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,d=i.top,p=i.left,h=i.xAxis,m=i.yAxis,g=i.width,b=i.height,v=i.isAnimationActive,x=i.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,S=o.length===1,E=nt("recharts-area",c),T=h&&h.allowDataOverflow,j=m&&m.allowDataOverflow,O=T||j,N=tt(x)?this.id:x,R=(n=Be(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=R.r,q=I===void 0?3:I,U=R.strokeWidth,D=U===void 0?2:U,B=FU(s)?s:{},V=B.clipDot,G=V===void 0?!0:V,X=q*2+D;return Q.createElement(ct,{className:E},T||j?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(N)},Q.createElement("rect",{x:T?p:p-g/2,y:j?d:d-b/2,width:T?g:g*2,height:j?b:b*2})),!G&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(N)},Q.createElement("rect",{x:p-X/2,y:d-X/2,width:g+X,height:b+X}))):null,S?null:this.renderArea(O,N),(s||S)&&this.renderDots(O,G,N),(!v||w)&&Li.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);L6=Aa;Ci(Aa,"displayName","Area");Ci(Aa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Cs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ci(Aa,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,s=e.props.baseValue,o=s??a;if(be(o)&&typeof o=="number")return o;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var p=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return o==="dataMin"?h:o==="dataMax"||p<0?p:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]});Ci(Aa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.bandSize,c=t.dataKey,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,m=t.offset,g=e.layout,b=d&&d.length,v=L6.getBaseValue(e,r,n,i),x=g==="horizontal",w=!1,S=h.map(function(T,j){var O;b?O=d[p+j]:(O=Jt(T,c),Array.isArray(O)?w=!0:O=[v,O]);var N=O[1]==null||b&&Jt(T,c)==null;return x?{x:rg({axis:n,ticks:a,bandSize:o,entry:T,index:j}),y:N?null:i.scale(O[1]),value:O,payload:T}:{x:N?null:n.scale(O[1]),y:rg({axis:i,ticks:s,bandSize:o,entry:T,index:j}),value:O,payload:T}}),E;return b||w?E=S.map(function(T){var j=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:j!=null&&T.y!=null?i.scale(j):null}:{x:j!=null?n.scale(j):null,y:T.y}}):E=x?i.scale(v):n.scale(v),ns({points:S,baseLine:E,layout:g,isRange:w},m)});Ci(Aa,"renderDotItem",function(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=nt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=F6(e,Xge);r=Q.createElement(th,Eo({},a,{key:i,className:n}))}return r});function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z6(n.key),n)}}function lye(t,e,r){return e&&oye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cye(t,e,r){return e=Og(e),uye(t,B6()?Reflect.construct(e,r||[],Og(t).constructor):e.apply(t,r))}function uye(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dye(t)}function dye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(t)}function fye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OE(t,e)}function q6(t,e,r){return e=z6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z6(t){var e=hye(t,"string");return Hc(e)=="symbol"?e:e+""}function hye(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kE.apply(this,arguments)}function pye(t){var e=t.xAxisId,r=QA(),n=YA(),i=S6(e);return i==null?null:M.createElement(du,kE({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return pa(s,!0)}}))}var Ri=(function(t){function e(){return sye(this,e),cye(this,e,arguments)}return fye(e,t),lye(e,[{key:"render",value:function(){return M.createElement(pye,this.props)}}])})(M.Component);q6(Ri,"displayName","XAxis");q6(Ri,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H6(n.key),n)}}function yye(t,e,r){return e&&gye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vye(t,e,r){return e=kg(e),xye(t,V6()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function xye(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bye(t)}function bye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V6=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function wye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PE(t,e)}function W6(t,e,r){return e=H6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H6(t){var e=_ye(t,"string");return Kc(e)=="symbol"?e:e+""}function _ye(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NE.apply(this,arguments)}var Sye=function(e){var r=e.yAxisId,n=QA(),i=YA(),a=E6(r);return a==null?null:M.createElement(du,NE({},a,{className:nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return pa(o,!0)}}))},Ii=(function(t){function e(){return mye(this,e),vye(this,e,arguments)}return wye(e,t),yye(e,[{key:"render",value:function(){return M.createElement(Sye,this.props)}}])})(M.Component);W6(Ii,"displayName","YAxis");W6(Ii,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function UF(t){return Tye(t)||Aye(t)||jye(t)||Eye()}function Eye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jye(t,e){if(t){if(typeof t=="string")return CE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(t,e)}}function Aye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tye(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var RE=function(e,r,n,i,a){var s=jn(e,JA),o=jn(e,Cy),c=[].concat(UF(s),UF(o)),d=jn(e,Iy),p="".concat(i,"Id"),h=i[0],m=r;if(c.length&&(m=c.reduce(function(v,x){if(x.props[p]===n&&Fi(x.props,"extendDomain")&&be(x.props[h])){var w=x.props[h];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},m)),d.length){var g="".concat(h,"1"),b="".concat(h,"2");m=d.reduce(function(v,x){if(x.props[p]===n&&Fi(x.props,"extendDomain")&&be(x.props[g])&&be(x.props[b])){var w=x.props[g],S=x.props[b];return[Math.min(v[0],w,S),Math.max(v[1],w,S)]}return v},m)}return a&&a.length&&(m=a.reduce(function(v,x){return be(x)?[Math.min(v[0],x),Math.max(v[1],x)]:v},m)),m},lS={exports:{}},BF;function Oye(){return BF||(BF=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function a(c,d,p,h,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var g=new i(p,h||c,m),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},o.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,b=new Array(g);m<g;m++)b[m]=h[m].fn;return b},o.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},o.prototype.emit=function(d,p,h,m,g,b){var v=r?r+d:d;if(!this._events[v])return!1;var x=this._events[v],w=arguments.length,S,E;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,h),!0;case 4:return x.fn.call(x.context,p,h,m),!0;case 5:return x.fn.call(x.context,p,h,m,g),!0;case 6:return x.fn.call(x.context,p,h,m,g,b),!0}for(E=1,S=new Array(w-1);E<w;E++)S[E-1]=arguments[E];x.fn.apply(x.context,S)}else{var T=x.length,j;for(E=0;E<T;E++)switch(x[E].once&&this.removeListener(d,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,p);break;case 3:x[E].fn.call(x[E].context,p,h);break;case 4:x[E].fn.call(x[E].context,p,h,m);break;default:if(!S)for(j=1,S=new Array(w-1);j<w;j++)S[j-1]=arguments[j];x[E].fn.apply(x[E].context,S)}}return!0},o.prototype.on=function(d,p,h){return a(this,d,p,h,!1)},o.prototype.once=function(d,p,h){return a(this,d,p,h,!0)},o.prototype.removeListener=function(d,p,h,m){var g=r?r+d:d;if(!this._events[g])return this;if(!p)return s(this,g),this;var b=this._events[g];if(b.fn)b.fn===p&&(!m||b.once)&&(!h||b.context===h)&&s(this,g);else{for(var v=0,x=[],w=b.length;v<w;v++)(b[v].fn!==p||m&&!b[v].once||h&&b[v].context!==h)&&x.push(b[v]);x.length?this._events[g]=x.length===1?x[0]:x:s(this,g)}return this},o.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(lS)),lS.exports}var kye=Oye();const Pye=gt(kye);var cS=new Pye,uS="recharts.syncMouseEvents";function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function Nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K6(n.key),n)}}function Rye(t,e,r){return e&&Cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dS(t,e,r){return e=K6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K6(t){var e=Iye(t,"string");return Df(e)=="symbol"?e:e+""}function Iye(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dye=(function(){function t(){Nye(this,t),dS(this,"activeIndex",0),dS(this,"coordinateList",[]),dS(this,"layout","horizontal")}return Rye(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,d=c===void 0?null:c,p=r.offset,h=p===void 0?null:p,m=r.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+d,m=s+this.offset.top+o/2+p;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function Mye(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&be(n)&&be(i))return!0}return!1}function Lye(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function G6(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=kt(e,r,n,i),o=kt(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Fye(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,c=e.cy,d=e.innerRadius,p=e.outerRadius,h=e.angle,m=kt(o,c,d,h),g=kt(o,c,p,h);n=m.x,i=m.y,a=g.x,s=g.y}else return G6(e);return[{x:n,y:i},{x:a,y:s}]}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){$ye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ye(t,e,r){return e=Uye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uye(t){var e=Bye(t,"string");return Mf(e)=="symbol"?e:e+""}function Bye(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,o=t.activePayload,c=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!s||m!=="ScatterChart"&&i!=="axis")return null;var b,v=Do;if(m==="ScatterChart")b=s,v=ehe;else if(m==="BarChart")b=Lye(h,s,c,p),v=VA;else if(h==="radial"){var x=G6(s),w=x.cx,S=x.cy,E=x.radius,T=x.startAngle,j=x.endAngle;b={cx:w,cy:S,startAngle:T,endAngle:j,innerRadius:E,outerRadius:E},v=HB}else b={points:Fye(h,s,c)},v=Do;var O=Vp(Vp(Vp(Vp({stroke:"#ccc",pointerEvents:"none"},c),b),Be(g,!1)),{},{payload:o,payloadIndex:d,className:nt("recharts-tooltip-cursor",g.className)});return M.isValidElement(g)?M.cloneElement(g,O):M.createElement(v,O)}var zye=["item"],Vye=["children","className","width","height","style","compact","title","desc"];function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function zF(t,e){return Kye(t)||Hye(t,e)||Y6(t,e)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(p){d=!0,i=p}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw i}}return o}}function Kye(t){if(Array.isArray(t))return t}function VF(t,e){if(t==null)return{};var r=Gye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X6(n.key),n)}}function Xye(t,e,r){return e&&Yye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jye(t,e,r){return e=Pg(e),Zye(t,Q6()?Reflect.construct(e,r||[],Pg(t).constructor):e.apply(t,r))}function Zye(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eve(t)}function eve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q6=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(t)}function tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IE(t,e)}function Qc(t){return ive(t)||nve(t)||Y6(t)||rve()}function rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y6(t,e){if(t){if(typeof t=="string")return DE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(t,e)}}function nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ive(t){if(Array.isArray(t))return DE(t)}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){Ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ke(t,e,r){return e=X6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X6(t){var e=ave(t,"string");return Gc(e)=="symbol"?e:e+""}function ave(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sve={xAxis:["bottom","top"],yAxis:["left","right"]},ove={width:"100%",height:"100%"},J6={x:0,y:0};function Wp(t){return t}var lve=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},cve=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,o=i.radius;return de(de(de({},i),kt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,d=i.angle;return de(de(de({},i),kt(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return J6},Dy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var d=c.props.data;return d&&d.length?[].concat(Qc(o),Qc(d)):o},[]);return s.length>0?s:e&&e.length&&be(i)&&be(a)?e.slice(i,a+1):[]};function Z6(t){return t==="number"?[0,"auto"]:void 0}var ME=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,o=Dy(r,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,d){var p,h=(p=d.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(s.dataKey&&!s.allowDuplicatedCategory){var g=h===void 0?o:h;m=Pm(g,s.dataKey,i)}else m=h&&h[n]||o[n];return m?[].concat(Qc(c),[UB(d,m)]):c},[])},HF=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=lve(a,n),o=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,p=wce(s,o,d,c);if(p>=0&&d){var h=d[p]&&d[p].value,m=ME(e,r,p,h),g=cve(n,o,p,a);return{activeTooltipIndex:p,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},uve=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,h=e.children,m=e.stackOffset,g=IB(p,a);return n.reduce(function(b,v){var x,w=v.type.defaultProps!==void 0?de(de({},v.type.defaultProps),v.props):v.props,S=w.type,E=w.dataKey,T=w.allowDataOverflow,j=w.allowDuplicatedCategory,O=w.scale,N=w.ticks,R=w.includeHidden,I=w[s];if(b[I])return b;var q=Dy(e.data,{graphicalItems:i.filter(function(Z){var ge,_e=s in Z.props?Z.props[s]:(ge=Z.type.defaultProps)===null||ge===void 0?void 0:ge[s];return _e===I}),dataStartIndex:c,dataEndIndex:d}),U=q.length,D,B,V;Mye(w.domain,T,S)&&(D=Q1(w.domain,null,T),g&&(S==="number"||O!=="auto")&&(V=Cd(q,E,"category")));var G=Z6(S);if(!D||D.length===0){var X,ie=(X=w.domain)!==null&&X!==void 0?X:G;if(E){if(D=Cd(q,E,S),S==="category"&&g){var ne=mte(D);j&&ne?(B=D,D=gg(0,U)):j||(D=HM(ie,D,v).reduce(function(Z,ge){return Z.indexOf(ge)>=0?Z:[].concat(Qc(Z),[ge])},[]))}else if(S==="category")j?D=D.filter(function(Z){return Z!==""&&!tt(Z)}):D=HM(ie,D,v).reduce(function(Z,ge){return Z.indexOf(ge)>=0||ge===""||tt(ge)?Z:[].concat(Qc(Z),[ge])},[]);else if(S==="number"){var oe=Ace(q,i.filter(function(Z){var ge,_e,Pe=s in Z.props?Z.props[s]:(ge=Z.type.defaultProps)===null||ge===void 0?void 0:ge[s],Me="hide"in Z.props?Z.props.hide:(_e=Z.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Pe===I&&(R||!Me)}),E,a,p);oe&&(D=oe)}g&&(S==="number"||O!=="auto")&&(V=Cd(q,E,"category"))}else g?D=gg(0,U):o&&o[I]&&o[I].hasStack&&S==="number"?D=m==="expand"?[0,1]:$B(o[I].stackGroups,c,d):D=RB(q,i.filter(function(Z){var ge=s in Z.props?Z.props[s]:Z.type.defaultProps[s],_e="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return ge===I&&(R||!_e)}),S,p,!0);if(S==="number")D=RE(h,D,I,a,N),ie&&(D=Q1(ie,D,T));else if(S==="category"&&ie){var se=ie,W=D.every(function(Z){return se.indexOf(Z)>=0});W&&(D=se)}}return de(de({},b),{},Ke({},I,de(de({},w),{},{axisType:a,domain:D,categoricalDomain:V,duplicateDomain:B,originalDomain:(x=w.domain)!==null&&x!==void 0?x:G,isCategorical:g,layout:p})))},{})},dve=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.layout,h=e.children,m=Dy(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=m.length,b=IB(p,a),v=-1;return n.reduce(function(x,w){var S=w.type.defaultProps!==void 0?de(de({},w.type.defaultProps),w.props):w.props,E=S[s],T=Z6("number");if(!x[E]){v++;var j;return b?j=gg(0,g):o&&o[E]&&o[E].hasStack?(j=$B(o[E].stackGroups,c,d),j=RE(h,j,E,a)):(j=Q1(T,RB(m,n.filter(function(O){var N,R,I=s in O.props?O.props[s]:(N=O.type.defaultProps)===null||N===void 0?void 0:N[s],q="hide"in O.props?O.props.hide:(R=O.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===E&&!q}),"number",p),i.defaultProps.allowDataOverflow),j=RE(h,j,E,a)),de(de({},x),{},Ke({},E,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:En(sve,"".concat(a,".").concat(v%2),null),domain:j,originalDomain:T,isCategorical:b,layout:p})))}return x},{})},fve=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,p=e.children,h="".concat(i,"Id"),m=jn(p,a),g={};return m&&m.length?g=uve(e,{axes:m,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:d}):s&&s.length&&(g=dve(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:c,dataEndIndex:d})),g},hve=function(e){var r=ls(e),n=pa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ng(r,n)}},KF=function(e){var r=e.children,n=e.defaultShowTooltip,i=_n(r,Fc),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},pve=function(e){return!e||!e.length?!1:e.some(function(r){var n=ya(r&&r.type);return n&&n.indexOf("Bar")>=0})},GF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mve=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,o=e.yAxisMap,c=o===void 0?{}:o,d=n.width,p=n.height,h=n.children,m=n.margin||{},g=_n(h,Fc),b=_n(h,va),v=Object.keys(c).reduce(function(j,O){var N=c[O],R=N.orientation;return!N.mirror&&!N.hide?de(de({},j),{},Ke({},R,j[R]+N.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(s).reduce(function(j,O){var N=s[O],R=N.orientation;return!N.mirror&&!N.hide?de(de({},j),{},Ke({},R,En(j,"".concat(R))+N.height)):j},{top:m.top||0,bottom:m.bottom||0}),w=de(de({},x),v),S=w.bottom;g&&(w.bottom+=g.props.height||Fc.defaultProps.height),b&&r&&(w=Ece(w,i,n,r));var E=d-w.left-w.right,T=p-w.top-w.bottom;return de(de({brushBottom:S},w),{},{width:Math.max(E,0),height:Math.max(T,0)})},gve=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},My=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,m=function(w,S){var E=S.graphicalItems,T=S.stackGroups,j=S.offset,O=S.updateId,N=S.dataStartIndex,R=S.dataEndIndex,I=w.barSize,q=w.layout,U=w.barGap,D=w.barCategoryGap,B=w.maxBarSize,V=GF(q),G=V.numericAxisName,X=V.cateAxisName,ie=pve(E),ne=[];return E.forEach(function(oe,se){var W=Dy(w.data,{graphicalItems:[oe],dataStartIndex:N,dataEndIndex:R}),Z=oe.type.defaultProps!==void 0?de(de({},oe.type.defaultProps),oe.props):oe.props,ge=Z.dataKey,_e=Z.maxBarSize,Pe=Z["".concat(G,"Id")],Me=Z["".concat(X,"Id")],Ze={},Fe=c.reduce(function($t,Et){var Vr=S["".concat(Et.axisType,"Map")],Se=Z["".concat(Et.axisType,"Id")];Vr&&Vr[Se]||Et.axisType==="zAxis"||Ko();var Re=Vr[Se];return de(de({},$t),{},Ke(Ke({},Et.axisType,Re),"".concat(Et.axisType,"Ticks"),pa(Re)))},Ze),me=Fe[X],Oe=Fe["".concat(X,"Ticks")],Ve=T&&T[Pe]&&T[Pe].hasStack&&Dce(oe,T[Pe].stackGroups),he=ya(oe.type).indexOf("Bar")>=0,st=ng(me,Oe),Xe=[],yt=ie&&_ce({barSize:I,stackGroups:T,totalSize:gve(Fe,X)});if(he){var vt,pt,or=tt(_e)?B:_e,er=(vt=(pt=ng(me,Oe,!0))!==null&&pt!==void 0?pt:or)!==null&&vt!==void 0?vt:0;Xe=Sce({barGap:U,barCategoryGap:D,bandSize:er!==st?er:st,sizeList:yt[Me],maxBarSize:or}),er!==st&&(Xe=Xe.map(function($t){return de(de({},$t),{},{position:de(de({},$t.position),{},{offset:$t.position.offset-er/2})})}))}var tr=oe&&oe.type&&oe.type.getComposedData;tr&&ne.push({props:de(de({},tr(de(de({},Fe),{},{displayedData:W,props:w,dataKey:ge,item:oe,bandSize:st,barPosition:Xe,offset:j,stackedData:Ve,layout:q,dataStartIndex:N,dataEndIndex:R}))),{},Ke(Ke(Ke({key:oe.key||"item-".concat(se)},G,Fe[G]),X,Fe[X]),"animationId",O)),childIndex:Tte(oe,w.children),item:oe})}),ne},g=function(w,S){var E=w.props,T=w.dataStartIndex,j=w.dataEndIndex,O=w.updateId;if(!o2({props:E}))return null;var N=E.children,R=E.layout,I=E.stackOffset,q=E.data,U=E.reverseStackOrder,D=GF(R),B=D.numericAxisName,V=D.cateAxisName,G=jn(N,n),X=Rce(q,G,"".concat(B,"Id"),"".concat(V,"Id"),I,U),ie=c.reduce(function(Z,ge){var _e="".concat(ge.axisType,"Map");return de(de({},Z),{},Ke({},_e,fve(E,de(de({},ge),{},{graphicalItems:G,stackGroups:ge.axisType===B&&X,dataStartIndex:T,dataEndIndex:j}))))},{}),ne=mve(de(de({},ie),{},{props:E,graphicalItems:G}),S==null?void 0:S.legendBBox);Object.keys(ie).forEach(function(Z){ie[Z]=p(E,ie[Z],ne,Z.replace("Map",""),r)});var oe=ie["".concat(V,"Map")],se=hve(oe),W=m(E,de(de({},ie),{},{dataStartIndex:T,dataEndIndex:j,updateId:O,graphicalItems:G,stackGroups:X,offset:ne}));return de(de({formattedGraphicalItems:W,graphicalItems:G,offset:ne,stackGroups:X},se),ie)},b=(function(x){function w(S){var E,T,j;return Qye(this,w),j=Jye(this,w,[S]),Ke(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(j,"accessibilityManager",new Dye),Ke(j,"handleLegendBBoxUpdate",function(O){if(O){var N=j.state,R=N.dataStartIndex,I=N.dataEndIndex,q=N.updateId;j.setState(de({legendBBox:O},g({props:j.props,dataStartIndex:R,dataEndIndex:I,updateId:q},de(de({},j.state),{},{legendBBox:O}))))}}),Ke(j,"handleReceiveSyncEvent",function(O,N,R){if(j.props.syncId===O){if(R===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ke(j,"handleBrushChange",function(O){var N=O.startIndex,R=O.endIndex;if(N!==j.state.dataStartIndex||R!==j.state.dataEndIndex){var I=j.state.updateId;j.setState(function(){return de({dataStartIndex:N,dataEndIndex:R},g({props:j.props,dataStartIndex:N,dataEndIndex:R,updateId:I},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:R})}}),Ke(j,"handleMouseEnter",function(O){var N=j.getMouseInfo(O);if(N){var R=de(de({},N),{},{isTooltipActive:!0});j.setState(R),j.triggerSyncEvent(R);var I=j.props.onMouseEnter;Qe(I)&&I(R,O)}}),Ke(j,"triggeredAfterMouseMove",function(O){var N=j.getMouseInfo(O),R=N?de(de({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(R),j.triggerSyncEvent(R);var I=j.props.onMouseMove;Qe(I)&&I(R,O)}),Ke(j,"handleItemMouseEnter",function(O){j.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Ke(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ke(j,"handleMouseMove",function(O){O.persist(),j.throttleTriggeredAfterMouseMove(O)}),Ke(j,"handleMouseLeave",function(O){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var R=j.props.onMouseLeave;Qe(R)&&R(N,O)}),Ke(j,"handleOuterEvent",function(O){var N=Ate(O),R=En(j.props,"".concat(N));if(N&&Qe(R)){var I,q;/.*touch.*/i.test(N)?q=j.getMouseInfo(O.changedTouches[0]):q=j.getMouseInfo(O),R((I=q)!==null&&I!==void 0?I:{},O)}}),Ke(j,"handleClick",function(O){var N=j.getMouseInfo(O);if(N){var R=de(de({},N),{},{isTooltipActive:!0});j.setState(R),j.triggerSyncEvent(R);var I=j.props.onClick;Qe(I)&&I(R,O)}}),Ke(j,"handleMouseDown",function(O){var N=j.props.onMouseDown;if(Qe(N)){var R=j.getMouseInfo(O);N(R,O)}}),Ke(j,"handleMouseUp",function(O){var N=j.props.onMouseUp;if(Qe(N)){var R=j.getMouseInfo(O);N(R,O)}}),Ke(j,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Ke(j,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseDown(O.changedTouches[0])}),Ke(j,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseUp(O.changedTouches[0])}),Ke(j,"handleDoubleClick",function(O){var N=j.props.onDoubleClick;if(Qe(N)){var R=j.getMouseInfo(O);N(R,O)}}),Ke(j,"handleContextMenu",function(O){var N=j.props.onContextMenu;if(Qe(N)){var R=j.getMouseInfo(O);N(R,O)}}),Ke(j,"triggerSyncEvent",function(O){j.props.syncId!==void 0&&cS.emit(uS,j.props.syncId,O,j.eventEmitterSymbol)}),Ke(j,"applySyncEvent",function(O){var N=j.props,R=N.layout,I=N.syncMethod,q=j.state.updateId,U=O.dataStartIndex,D=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)j.setState(de({dataStartIndex:U,dataEndIndex:D},g({props:j.props,dataStartIndex:U,dataEndIndex:D,updateId:q},j.state)));else if(O.activeTooltipIndex!==void 0){var B=O.chartX,V=O.chartY,G=O.activeTooltipIndex,X=j.state,ie=X.offset,ne=X.tooltipTicks;if(!ie)return;if(typeof I=="function")G=I(ne,O);else if(I==="value"){G=-1;for(var oe=0;oe<ne.length;oe++)if(ne[oe].value===O.activeLabel){G=oe;break}}var se=de(de({},ie),{},{x:ie.left,y:ie.top}),W=Math.min(B,se.x+se.width),Z=Math.min(V,se.y+se.height),ge=ne[G]&&ne[G].value,_e=ME(j.state,j.props.data,G),Pe=ne[G]?{x:R==="horizontal"?ne[G].coordinate:W,y:R==="horizontal"?Z:ne[G].coordinate}:J6;j.setState(de(de({},O),{},{activeLabel:ge,activeCoordinate:Pe,activePayload:_e,activeTooltipIndex:G}))}else j.setState(O)}),Ke(j,"renderCursor",function(O){var N,R=j.state,I=R.isTooltipActive,q=R.activeCoordinate,U=R.activePayload,D=R.offset,B=R.activeTooltipIndex,V=R.tooltipAxisBandSize,G=j.getTooltipEventType(),X=(N=O.props.active)!==null&&N!==void 0?N:I,ie=j.props.layout,ne=O.key||"_recharts-cursor";return Q.createElement(qye,{key:ne,activeCoordinate:q,activePayload:U,activeTooltipIndex:B,chartName:r,element:O,isActive:X,layout:ie,offset:D,tooltipAxisBandSize:V,tooltipEventType:G})}),Ke(j,"renderPolarAxis",function(O,N,R){var I=En(O,"type.axisType"),q=En(j.state,"".concat(I,"Map")),U=O.type.defaultProps,D=U!==void 0?de(de({},U),O.props):O.props,B=q&&q[D["".concat(I,"Id")]];return M.cloneElement(O,de(de({},B),{},{className:nt(I,B.className),key:O.key||"".concat(N,"-").concat(R),ticks:pa(B,!0)}))}),Ke(j,"renderPolarGrid",function(O){var N=O.props,R=N.radialLines,I=N.polarAngles,q=N.polarRadius,U=j.state,D=U.radiusAxisMap,B=U.angleAxisMap,V=ls(D),G=ls(B),X=G.cx,ie=G.cy,ne=G.innerRadius,oe=G.outerRadius;return M.cloneElement(O,{polarAngles:Array.isArray(I)?I:pa(G,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(q)?q:pa(V,!0).map(function(se){return se.coordinate}),cx:X,cy:ie,innerRadius:ne,outerRadius:oe,key:O.key||"polar-grid",radialLines:R})}),Ke(j,"renderLegend",function(){var O=j.state.formattedGraphicalItems,N=j.props,R=N.children,I=N.width,q=N.height,U=j.props.margin||{},D=I-(U.left||0)-(U.right||0),B=NB({children:R,formattedGraphicalItems:O,legendWidth:D,legendContent:d});if(!B)return null;var V=B.item,G=VF(B,zye);return M.cloneElement(V,de(de({},G),{},{chartWidth:I,chartHeight:q,margin:U,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ke(j,"renderTooltip",function(){var O,N=j.props,R=N.children,I=N.accessibilityLayer,q=_n(R,Jr);if(!q)return null;var U=j.state,D=U.isTooltipActive,B=U.activeCoordinate,V=U.activePayload,G=U.activeLabel,X=U.offset,ie=(O=q.props.active)!==null&&O!==void 0?O:D;return M.cloneElement(q,{viewBox:de(de({},X),{},{x:X.left,y:X.top}),active:ie,label:G,payload:ie?V:[],coordinate:B,accessibilityLayer:I})}),Ke(j,"renderBrush",function(O){var N=j.props,R=N.margin,I=N.data,q=j.state,U=q.offset,D=q.dataStartIndex,B=q.dataEndIndex,V=q.updateId;return M.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Up(j.handleBrushChange,O.props.onChange),data:I,x:be(O.props.x)?O.props.x:U.left,y:be(O.props.y)?O.props.y:U.top+U.height+U.brushBottom-(R.bottom||0),width:be(O.props.width)?O.props.width:U.width,startIndex:D,endIndex:B,updateId:"brush-".concat(V)})}),Ke(j,"renderReferenceElement",function(O,N,R){if(!O)return null;var I=j,q=I.clipPathId,U=j.state,D=U.xAxisMap,B=U.yAxisMap,V=U.offset,G=O.type.defaultProps||{},X=O.props,ie=X.xAxisId,ne=ie===void 0?G.xAxisId:ie,oe=X.yAxisId,se=oe===void 0?G.yAxisId:oe;return M.cloneElement(O,{key:O.key||"".concat(N,"-").concat(R),xAxis:D[ne],yAxis:B[se],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:q})}),Ke(j,"renderActivePoints",function(O){var N=O.item,R=O.activePoint,I=O.basePoint,q=O.childIndex,U=O.isRange,D=[],B=N.props.key,V=N.item.type.defaultProps!==void 0?de(de({},N.item.type.defaultProps),N.item.props):N.item.props,G=V.activeDot,X=V.dataKey,ie=de(de({index:q,dataKey:X,cx:R.x,cy:R.y,r:4,fill:zA(N.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Be(G,!1)),Nm(G));return D.push(w.renderActiveDot(G,ie,"".concat(B,"-activePoint-").concat(q))),I?D.push(w.renderActiveDot(G,de(de({},ie),{},{cx:I.x,cy:I.y}),"".concat(B,"-basePoint-").concat(q))):U&&D.push(null),D}),Ke(j,"renderGraphicChild",function(O,N,R){var I=j.filterFormatItem(O,N,R);if(!I)return null;var q=j.getTooltipEventType(),U=j.state,D=U.isTooltipActive,B=U.tooltipAxis,V=U.activeTooltipIndex,G=U.activeLabel,X=j.props.children,ie=_n(X,Jr),ne=I.props,oe=ne.points,se=ne.isRange,W=ne.baseLine,Z=I.item.type.defaultProps!==void 0?de(de({},I.item.type.defaultProps),I.item.props):I.item.props,ge=Z.activeDot,_e=Z.hide,Pe=Z.activeBar,Me=Z.activeShape,Ze=!!(!_e&&D&&ie&&(ge||Pe||Me)),Fe={};q!=="axis"&&ie&&ie.props.trigger==="click"?Fe={onClick:Up(j.handleItemMouseEnter,O.props.onClick)}:q!=="axis"&&(Fe={onMouseLeave:Up(j.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Up(j.handleItemMouseEnter,O.props.onMouseEnter)});var me=M.cloneElement(O,de(de({},I.props),Fe));function Oe(Et){return typeof B.dataKey=="function"?B.dataKey(Et.payload):null}if(Ze)if(V>=0){var Ve,he;if(B.dataKey&&!B.allowDuplicatedCategory){var st=typeof B.dataKey=="function"?Oe:"payload.".concat(B.dataKey.toString());Ve=Pm(oe,st,G),he=se&&W&&Pm(W,st,G)}else Ve=oe==null?void 0:oe[V],he=se&&W&&W[V];if(Me||Pe){var Xe=O.props.activeIndex!==void 0?O.props.activeIndex:V;return[M.cloneElement(O,de(de(de({},I.props),Fe),{},{activeIndex:Xe})),null,null]}if(!tt(Ve))return[me].concat(Qc(j.renderActivePoints({item:I,activePoint:Ve,basePoint:he,childIndex:V,isRange:se})))}else{var yt,vt=(yt=j.getItemByXY(j.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:me},pt=vt.graphicalItem,or=pt.item,er=or===void 0?O:or,tr=pt.childIndex,$t=de(de(de({},I.props),Fe),{},{activeIndex:tr});return[M.cloneElement(er,$t),null,null]}return se?[me,null,null]:[me,null]}),Ke(j,"renderCustomized",function(O,N,R){return M.cloneElement(O,de(de({key:"recharts-customized-".concat(R)},j.props),j.state))}),Ke(j,"renderMap",{CartesianGrid:{handler:Wp,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Wp},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Wp},YAxis:{handler:Wp},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((E=S.id)!==null&&E!==void 0?E:Jo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=N5(j.triggeredAfterMouseMove,(T=S.throttleDelay)!==null&&T!==void 0?T:1e3/60),j.state={},j}return tve(w,x),Xye(w,[{key:"componentDidMount",value:function(){var E,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,T=E.children,j=E.data,O=E.height,N=E.layout,R=_n(T,Jr);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,U=ME(this.state,j,I,q),D=this.state.tooltipTicks[I].coordinate,B=(this.state.offset.top+O)/2,V=N==="horizontal",G=V?{x:D,y:B}:{y:D,x:B},X=this.state.formattedGraphicalItems.find(function(ne){var oe=ne.item;return oe.type.name==="Scatter"});X&&(G=de(de({},G),X.props.points[I].tooltipPosition),U=X.props.points[I].tooltipPayload);var ie={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:q,activePayload:U,activeCoordinate:G};this.setState(ie),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var j,O;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(E){y1([_n(E.children,Jr)],[_n(this.props.children,Jr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=_n(this.props.children,Jr);if(E&&typeof E.props.shared=="boolean"){var T=E.props.shared?"axis":"item";return o.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var T=this.container,j=T.getBoundingClientRect(),O=hae(j),N={chartX:Math.round(E.pageX-O.left),chartY:Math.round(E.pageY-O.top)},R=j.width/T.offsetWidth||1,I=this.inRange(N.chartX,N.chartY,R);if(!I)return null;var q=this.state,U=q.xAxisMap,D=q.yAxisMap,B=this.getTooltipEventType(),V=HF(this.state,this.props.data,this.props.layout,I);if(B!=="axis"&&U&&D){var G=ls(U).scale,X=ls(D).scale,ie=G&&G.invert?G.invert(N.chartX):null,ne=X&&X.invert?X.invert(N.chartY):null;return de(de({},N),{},{xValue:ie,yValue:ne},V)}return V?de(de({},N),V):null}},{key:"inRange",value:function(E,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,N=E/j,R=T/j;if(O==="horizontal"||O==="vertical"){var I=this.state.offset,q=N>=I.left&&N<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return q?{x:N,y:R}:null}var U=this.state,D=U.angleAxisMap,B=U.radiusAxisMap;if(D&&B){var V=ls(D);return QM({x:N,y:R},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,T=this.getTooltipEventType(),j=_n(E,Jr),O={};j&&T==="axis"&&(j.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Nm(this.props,this.handleOuterEvent);return de(de({},N),O)}},{key:"addListener",value:function(){cS.on(uS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cS.removeListener(uS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,T,j){for(var O=this.state.formattedGraphicalItems,N=0,R=O.length;N<R;N++){var I=O[N];if(I.item===E||I.props.key===E.key||T===ya(I.item.type)&&j===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,T=this.state.offset,j=T.left,O=T.top,N=T.height,R=T.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:E},Q.createElement("rect",{x:j,y:O,height:N,width:R})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(T,j){var O=zF(j,2),N=O[0],R=O[1];return de(de({},T),{},Ke({},N,R.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(T,j){var O=zF(j,2),N=O[0],R=O[1];return de(de({},T),{},Ke({},N,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(E){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(E){var T=this.state,j=T.formattedGraphicalItems,O=T.activeItem;if(j&&j.length)for(var N=0,R=j.length;N<R;N++){var I=j[N],q=I.props,U=I.item,D=U.type.defaultProps!==void 0?de(de({},U.type.defaultProps),U.props):U.props,B=ya(U.type);if(B==="Bar"){var V=(q.data||[]).find(function(ne){return Ife(E,ne)});if(V)return{graphicalItem:I,payload:V}}else if(B==="RadialBar"){var G=(q.data||[]).find(function(ne){return QM(E,ne)});if(G)return{graphicalItem:I,payload:G}}else if(Oy(I,O)||ky(I,O)||Pf(I,O)){var X=npe({graphicalItem:I,activeTooltipItem:O,itemData:D.data}),ie=D.activeIndex===void 0?X:D.activeIndex;return{graphicalItem:de(de({},I),{},{childIndex:ie}),payload:Pf(I,O)?D.data[X]:I.props.data[X]}}}return null}},{key:"render",value:function(){var E=this;if(!o2(this))return null;var T=this.props,j=T.children,O=T.className,N=T.width,R=T.height,I=T.style,q=T.compact,U=T.title,D=T.desc,B=VF(T,Vye),V=Be(B,!1);if(q)return Q.createElement(_F,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(x1,ec({},V,{width:N,height:R,title:U,desc:D}),this.renderClipPath(),c2(j,this.renderMap)));if(this.props.accessibilityLayer){var G,X;V.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,V.role=(X=this.props.role)!==null&&X!==void 0?X:"application",V.onKeyDown=function(ne){E.accessibilityManager.keyboardEvent(ne)},V.onFocus=function(){E.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return Q.createElement(_F,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",ec({className:nt("recharts-wrapper",O),style:de({position:"relative",cursor:"default",width:N,height:R},I)},ie,{ref:function(oe){E.container=oe}}),Q.createElement(x1,ec({},V,{width:N,height:R,title:U,desc:D,style:ove}),this.renderClipPath(),c2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Ke(b,"displayName",r),Ke(b,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ke(b,"getDerivedStateFromProps",function(x,w){var S=x.dataKey,E=x.data,T=x.children,j=x.width,O=x.height,N=x.layout,R=x.stackOffset,I=x.margin,q=w.dataStartIndex,U=w.dataEndIndex;if(w.updateId===void 0){var D=KF(x);return de(de(de({},D),{},{updateId:0},g(de(de({props:x},D),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:E,prevWidth:j,prevHeight:O,prevLayout:N,prevStackOffset:R,prevMargin:I,prevChildren:T})}if(S!==w.prevDataKey||E!==w.prevData||j!==w.prevWidth||O!==w.prevHeight||N!==w.prevLayout||R!==w.prevStackOffset||!ac(I,w.prevMargin)){var B=KF(x),V={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},G=de(de({},HF(w,E,N)),{},{updateId:w.updateId+1}),X=de(de(de({},B),V),G);return de(de(de({},X),g(de({props:x},X),w)),{},{prevDataKey:S,prevData:E,prevWidth:j,prevHeight:O,prevLayout:N,prevStackOffset:R,prevMargin:I,prevChildren:T})}if(!y1(T,w.prevChildren)){var ie,ne,oe,se,W=_n(T,Fc),Z=W&&(ie=(ne=W.props)===null||ne===void 0?void 0:ne.startIndex)!==null&&ie!==void 0?ie:q,ge=W&&(oe=(se=W.props)===null||se===void 0?void 0:se.endIndex)!==null&&oe!==void 0?oe:U,_e=Z!==q||ge!==U,Pe=!tt(E),Me=Pe&&!_e?w.updateId:w.updateId+1;return de(de({updateId:Me},g(de(de({props:x},w),{},{updateId:Me,dataStartIndex:Z,dataEndIndex:ge}),w)),{},{prevChildren:T,dataStartIndex:Z,dataEndIndex:ge})}return null}),Ke(b,"renderActiveDot",function(x,w,S){var E;return M.isValidElement(x)?E=M.cloneElement(x,w):Qe(x)?E=x(w):E=Q.createElement(th,w),Q.createElement(ct,{className:"recharts-active-dot",key:S},E)});var v=M.forwardRef(function(w,S){return Q.createElement(b,ec({},w,{ref:S}))});return v.displayName=b.displayName,v},yve=My({chartName:"LineChart",GraphicalChild:Mo,axisComponents:[{axisType:"xAxis",AxisComp:Ri},{axisType:"yAxis",AxisComp:Ii}],formatAxisMap:WA}),LE=My({chartName:"BarChart",GraphicalChild:ja,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ri},{axisType:"yAxis",AxisComp:Ii}],formatAxisMap:WA}),vve=My({chartName:"PieChart",GraphicalChild:Ca,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ty},{axisType:"radiusAxis",AxisComp:jy}],formatAxisMap:Wce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),xve=My({chartName:"AreaChart",GraphicalChild:Aa,axisComponents:[{axisType:"xAxis",AxisComp:Ri},{axisType:"yAxis",AxisComp:Ii}],formatAxisMap:WA});function bve(){const{user:t}=Sr(),[e,r]=M.useState(!0),[n,i]=M.useState("30"),[a,s]=M.useState([]),[o,c]=M.useState([]),[d,p]=M.useState([]),[h,m]=M.useState([]),[g,b]=M.useState([]),[v,x]=M.useState([]),w={primary:"#8b5cf6",secondary:"#06b6d4",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6"},S=[w.primary,w.secondary,w.success,w.warning,w.danger,w.info];M.useEffect(()=>{t&&E()},[t,n]);async function E(){var I,q,U;try{r(!0);const D=new Date,B=new Date;B.setDate(D.getDate()-parseInt(n));const{data:V}=await lt.from("projects").select("*").eq("user_id",t==null?void 0:t.id).gte("created_at",B.toISOString()),{data:G}=await lt.from("analytics").select("*").gte("period_start",B.toISOString()).lte("period_end",D.toISOString()),{data:X}=await lt.from("referrals").select("*").eq("referrer_id",t==null?void 0:t.id).gte("created_at",B.toISOString()),ie=(V==null?void 0:V.length)||0,ne=((I=V==null?void 0:V.filter(_e=>_e.status==="completed"))==null?void 0:I.length)||0,oe=(V==null?void 0:V.reduce((_e,Pe)=>_e+(Pe.total_value||0),0))||0,se=ie>0?oe/ie:0,W=((q=X==null?void 0:X.filter(_e=>_e.status==="active"))==null?void 0:q.length)||0,Z=((U=X==null?void 0:X.filter(_e=>_e.status==="completed"))==null?void 0:U.length)||0,ge=[{title:"Total Projects",value:ie.toString(),change:"+12% from last period",changeType:"positive",icon:_c},{title:"Project Completion Rate",value:ie>0?`${Math.round(ne/ie*100)}%`:"0%",change:"+5% from last period",changeType:"positive",icon:bc},{title:"Average Project Value",value:j(se),change:"+8% from last period",changeType:"positive",icon:ks},{title:"Active Referrals",value:W.toString(),change:`${Z} completed`,changeType:"neutral",icon:Bo},{title:"AI Assessment Accuracy",value:"94.2%",change:"+2.1% from last period",changeType:"positive",icon:qn},{title:"Avg Response Time",value:"2.3hrs",change:"-15min from last period",changeType:"positive",icon:Fo}];s(ge),T(parseInt(n))}catch(D){console.error("Error loading analytics data:",D),ke.error("Failed to load analytics data")}finally{r(!1)}}function T(I){const q=[];for(let G=I-1;G>=0;G--){const X=new Date;X.setDate(X.getDate()-G),q.push({name:X.toLocaleDateString("en-US",{month:"short",day:"numeric"}),projects:Math.floor(Math.random()*5)+1,assessments:Math.floor(Math.random()*10)+3,referrals:Math.floor(Math.random()*3)+1})}c(q),p([{name:"Hail Damage",value:96},{name:"Wind Damage",value:92},{name:"Storm Damage",value:95},{name:"Age-related Wear",value:88},{name:"Missing Shingles",value:98},{name:"Gutter Issues",value:90}]);const D=[];for(let G=11;G>=0;G--){const X=new Date;X.setMonth(X.getMonth()-G),D.push({name:X.toLocaleDateString("en-US",{month:"short"}),revenue:Math.floor(Math.random()*5e4)+2e4,cost:Math.floor(Math.random()*2e4)+8e3})}m(D),b([{name:"Completed",value:45},{name:"In Progress",value:30},{name:"Planning",value:20},{name:"On Hold",value:5}]),x([{name:"Website Visitors",value:1e3},{name:"Assessment Requests",value:250},{name:"Qualified Leads",value:180},{name:"Projects Started",value:120},{name:"Projects Completed",value:95}])}function j(I){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(I)}function O(I){switch(I){case"positive":return"text-green-400";case"negative":return"text-red-400";default:return"text-gray-400"}}function N(I){return I==="positive"?"":I==="negative"?"":""}async function R(){try{const q=[["Metric","Value","Change"],...a.map(V=>[V.title,V.value,V.change])].map(V=>V.join(",")).join(`
`),U=new Blob([q],{type:"text/csv"}),D=window.URL.createObjectURL(U),B=document.createElement("a");B.href=D,B.download=`analytics-report-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(B),B.click(),document.body.removeChild(B),window.URL.revokeObjectURL(D),ke.success("Report exported successfully!")}catch(I){console.error("Export error:",I),ke.error("Failed to export report")}}return e?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Analytics Dashboard"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Track your performance metrics and insights"})]}),f.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx($$,{className:"h-5 w-5 text-gray-400"}),f.jsxs("select",{value:n,onChange:I=>i(I.target.value),className:"bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[f.jsx("option",{value:"7",children:"Last 7 days"}),f.jsx("option",{value:"30",children:"Last 30 days"}),f.jsx("option",{value:"90",children:"Last 3 months"}),f.jsx("option",{value:"365",children:"Last year"})]})]}),f.jsx("button",{onClick:E,className:"p-2 bg-white/10 border border-white/20 rounded-lg text-gray-400 hover:text-white transition-colors",children:f.jsx(tQ,{className:"h-5 w-5"})}),f.jsxs("button",{onClick:R,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(Kg,{className:"h-5 w-5"}),f.jsx("span",{children:"Export"})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((I,q)=>{const U=I.icon;return f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:f.jsx(U,{className:"h-6 w-6 text-purple-400"})}),f.jsx("span",{className:`text-sm font-medium ${O(I.changeType)}`,children:N(I.changeType)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-400",children:I.title}),f.jsx("p",{className:"text-2xl font-bold text-white",children:I.value}),f.jsx("p",{className:`text-sm mt-1 ${O(I.changeType)}`,children:I.change})]})]},I.title)})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Performance Trends"}),f.jsx(ql,{width:"100%",height:300,children:f.jsxs(yve,{data:o,children:[f.jsx(Zl,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Ri,{dataKey:"name",stroke:"#9CA3AF"}),f.jsx(Ii,{stroke:"#9CA3AF"}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),f.jsx(va,{}),f.jsx(Mo,{type:"monotone",dataKey:"projects",stroke:w.primary,strokeWidth:3,name:"Projects"}),f.jsx(Mo,{type:"monotone",dataKey:"assessments",stroke:w.secondary,strokeWidth:3,name:"Assessments"}),f.jsx(Mo,{type:"monotone",dataKey:"referrals",stroke:w.success,strokeWidth:3,name:"Referrals"})]})})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"AI Assessment Accuracy by Type"}),f.jsx(ql,{width:"100%",height:300,children:f.jsxs(LE,{data:d,children:[f.jsx(Zl,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Ri,{dataKey:"name",stroke:"#9CA3AF",angle:-45,textAnchor:"end",height:80}),f.jsx(Ii,{stroke:"#9CA3AF",domain:[80,100]}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"},formatter:I=>[`${I}%`,"Accuracy"]}),f.jsx(ja,{dataKey:"value",fill:w.primary,radius:[4,4,0,0]})]})})]}),f.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Revenue & Cost Analysis"}),f.jsx(ql,{width:"100%",height:300,children:f.jsxs(xve,{data:h,children:[f.jsx(Zl,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Ri,{dataKey:"name",stroke:"#9CA3AF"}),f.jsx(Ii,{stroke:"#9CA3AF",tickFormatter:I=>`$${I/1e3}K`}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"},formatter:I=>[j(Number(I)),""]}),f.jsx(va,{}),f.jsx(Aa,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:w.success,fill:w.success,fillOpacity:.6,name:"Revenue"}),f.jsx(Aa,{type:"monotone",dataKey:"cost",stackId:"2",stroke:w.danger,fill:w.danger,fillOpacity:.6,name:"Cost"})]})})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Project Status Distribution"}),f.jsx(ql,{width:"100%",height:300,children:f.jsxs(vve,{children:[f.jsx(Ca,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"value",children:g.map((I,q)=>f.jsx(hy,{fill:S[q%S.length]},`cell-${q}`))}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),f.jsx(va,{})]})})]})]}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Conversion Funnel Analytics"}),f.jsx(ql,{width:"100%",height:400,children:f.jsxs(LE,{data:v,layout:"horizontal",margin:{top:20,right:30,left:100,bottom:5},children:[f.jsx(Zl,{strokeDasharray:"3 3",stroke:"#374151"}),f.jsx(Ri,{type:"number",stroke:"#9CA3AF"}),f.jsx(Ii,{dataKey:"name",type:"category",stroke:"#9CA3AF",width:100}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),f.jsx(ja,{dataKey:"value",fill:w.primary,radius:[0,4,4,0]})]})}),f.jsx("div",{className:"mt-4 text-center text-gray-400",children:f.jsxs("p",{children:["Overall conversion rate: ",f.jsx("span",{className:"text-green-400 font-semibold",children:"9.5%"})]})})]})]})}function wve(){const{user:t,profile:e}=Sr(),[r,n]=M.useState([]),[i,a]=M.useState({totalReferrals:0,activeReferrals:0,completedReferrals:0,totalEarnings:0,pendingEarnings:0,conversionRate:0}),[s,o]=M.useState(!0),[c,d]=M.useState(""),[p,h]=M.useState(!1),[m,g]=M.useState({emails:"",message:""}),[b,v]=M.useState(!1);M.useEffect(()=>{t&&(x(),w())},[t]);function x(){if(t){const D=`${window.location.origin}/signup?ref=${t.id}`;d(D)}}async function w(){try{o(!0);const{data:U,error:D}=await lt.from("referrals").select("*").eq("referrer_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(D)throw D;const B=U||[];n(B);const V=B.length,G=B.filter(se=>se.status==="pending").length,X=B.filter(se=>se.status==="completed").length,ie=B.filter(se=>se.commission_paid).reduce((se,W)=>se+(W.commission_amount||0),0),ne=B.filter(se=>!se.commission_paid&&se.status==="completed").reduce((se,W)=>se+(W.commission_amount||0),0),oe=V>0?X/V*100:0;a({totalReferrals:V,activeReferrals:G,completedReferrals:X,totalEarnings:ie,pendingEarnings:ne,conversionRate:oe}),B.length===0&&S()}catch(U){console.error("Error loading referrals data:",U),ke.error("Failed to load referrals data")}finally{o(!1)}}async function S(){const U=[{referrer_id:t.id,referee_email:"john.smith@example.com",referee_name:"John Smith",status:"completed",commission_amount:250,commission_paid:!0,completed_at:new Date(Date.now()-6048e5).toISOString(),created_at:new Date(Date.now()-864e6).toISOString()},{referrer_id:t.id,referee_email:"sarah.johnson@example.com",referee_name:"Sarah Johnson",status:"completed",commission_amount:150,commission_paid:!1,completed_at:new Date(Date.now()-2592e5).toISOString(),created_at:new Date(Date.now()-432e6).toISOString()},{referrer_id:t.id,referee_email:"mike.wilson@example.com",referee_name:"Mike Wilson",status:"pending",commission_amount:null,commission_paid:!1,completed_at:null,created_at:new Date(Date.now()-1728e5).toISOString()}];try{const{data:D,error:B}=await lt.from("referrals").insert(U).select();if(!B&&D){n(D);const V=D.filter(X=>X.commission_paid).reduce((X,ie)=>X+(ie.commission_amount||0),0),G=D.filter(X=>!X.commission_paid&&X.status==="completed").reduce((X,ie)=>X+(ie.commission_amount||0),0);a({totalReferrals:D.length,activeReferrals:D.filter(X=>X.status==="pending").length,completedReferrals:D.filter(X=>X.status==="completed").length,totalEarnings:V,pendingEarnings:G,conversionRate:D.filter(X=>X.status==="completed").length/D.length*100})}}catch(D){console.error("Error creating sample referrals:",D)}}async function E(){try{await navigator.clipboard.writeText(c),ke.success("Referral link copied to clipboard!")}catch(U){console.error("Copy failed:",U),ke.error("Failed to copy link")}}async function T(){if(!m.emails.trim()){ke.error("Please enter at least one email address");return}v(!0);try{const U=m.emails.split(/[,\n;]/).map(G=>G.trim()).filter(G=>G&&G.includes("@"));if(U.length===0){ke.error("Please enter valid email addresses");return}const D=U.map(G=>({referrer_id:t.id,referee_email:G,referee_name:G.split("@")[0],status:"pending",commission_amount:null,commission_paid:!1,completed_at:null,created_at:new Date().toISOString()})),{data:B,error:V}=await lt.from("referrals").insert(D).select();if(V)throw V;B&&(n([...B,...r]),a(G=>({...G,totalReferrals:G.totalReferrals+B.length,activeReferrals:G.activeReferrals+B.length}))),h(!1),g({emails:"",message:""}),ke.success(`Invited ${U.length} people successfully!`)}catch(U){console.error("Error sending invites:",U),ke.error("Failed to send invites")}finally{v(!1)}}function j(){const U="Join me on OrPaynter - AI-Powered Roofing Platform",D=`Hi there!

I've been using OrPaynter for my roofing projects and it's been amazing. Their AI-powered damage assessment and contractor matching has saved me tons of time and money.

You should check it out: ${c}

Best regards,
${(e==null?void 0:e.full_name)||"Your friend"}`;window.location.href=`mailto:?subject=${encodeURIComponent(U)}&body=${encodeURIComponent(D)}`}function O(){const U=`Check out OrPaynter - AI-powered roofing platform that's been saving me time and money! Sign up here: ${c}`;navigator.share?navigator.share({title:"OrPaynter Referral",text:U}):(navigator.clipboard.writeText(U),ke.success("Message copied to clipboard!"))}function N(U){switch(U){case"completed":return"bg-green-500/20 text-green-400";case"pending":return"bg-yellow-500/20 text-yellow-400";case"expired":return"bg-red-500/20 text-red-400";default:return"bg-gray-500/20 text-gray-400"}}function R(U){switch(U){case"completed":return Cr;case"pending":return Fo;case"expired":return Vl;default:return Fo}}const I=U=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(U),q=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-white",children:"Referral Program"}),f.jsx("p",{className:"text-gray-400 mt-1",children:"Earn rewards by referring new users"})]}),f.jsxs("button",{onClick:()=>h(!0),className:"mt-4 sm:mt-0 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(_m,{className:"h-5 w-5"}),f.jsx("span",{children:"Send Invites"})]})]}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{title:"Total Referrals",value:i.totalReferrals.toString(),icon:Bo,color:"bg-blue-500/20 text-blue-400",subtitle:`${i.activeReferrals} active`},{title:"Total Earnings",value:I(i.totalEarnings),icon:ks,color:"bg-green-500/20 text-green-400",subtitle:`${I(i.pendingEarnings)} pending`},{title:"Conversion Rate",value:`${i.conversionRate.toFixed(1)}%`,icon:_c,color:"bg-purple-500/20 text-purple-400",subtitle:`${i.completedReferrals} completed`}].map((U,D)=>{const B=U.icon;return f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:`p-3 rounded-lg ${U.color}`,children:f.jsx(B,{className:"h-6 w-6"})}),f.jsx(yj,{className:"h-5 w-5 text-green-400"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-400",children:U.title}),f.jsx("p",{className:"text-2xl font-bold text-white",children:U.value}),f.jsx("p",{className:"text-sm text-gray-400 mt-1",children:U.subtitle})]})]},U.title)})}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Your Referral Link"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"flex-1 bg-white/5 border border-white/20 rounded-lg p-3",children:f.jsx("p",{className:"text-white font-mono text-sm truncate",children:c})}),f.jsxs("button",{onClick:E,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(UG,{className:"h-4 w-4"}),f.jsx("span",{children:"Copy"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx($o,{className:"h-4 w-4"}),f.jsx("span",{children:"Email"})]}),f.jsxs("button",{onClick:O,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(fj,{className:"h-4 w-4"}),f.jsx("span",{children:"Message"})]}),f.jsxs("button",{onClick:()=>h(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(B$,{className:"h-4 w-4"}),f.jsx("span",{children:"Bulk Invite"})]})]})]})]}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Referral History"}),r.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(Bo,{className:"h-8 w-8 text-gray-400"})}),f.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No referrals yet"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Start inviting friends and earn rewards!"}),f.jsx("button",{onClick:()=>h(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Send Your First Invite"})]}):f.jsx("div",{className:"space-y-4",children:r.map(U=>{const D=R(U.status);return f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`p-2 rounded-lg ${N(U.status)}`,children:f.jsx(D,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:U.referee_name||U.referee_email}),f.jsx("p",{className:"text-sm text-gray-400",children:U.referee_email})]})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[U.commission_amount&&f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-white",children:I(U.commission_amount)}),f.jsx("p",{className:`text-xs ${U.commission_paid?"text-green-400":"text-yellow-400"}`,children:U.commission_paid?"Paid":"Pending"})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:`text-sm font-medium ${N(U.status)}`,children:U.status.charAt(0).toUpperCase()+U.status.slice(1)}),f.jsx("p",{className:"text-xs text-gray-400",children:U.completed_at?q(U.completed_at):q(U.created_at)})]})]})})]},U.id)})})]}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Reward Structure"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Basic Tier",reward:"$50",description:"For each new user signup",icon:WG,color:"bg-blue-500/20 text-blue-400"},{title:"Premium Tier",reward:"$150",description:"For premium plan subscribers",icon:qn,color:"bg-purple-500/20 text-purple-400"},{title:"Enterprise Tier",reward:"$300",description:"For enterprise customers",icon:M$,color:"bg-yellow-500/20 text-yellow-400"}].map((U,D)=>{const B=U.icon;return f.jsxs("div",{className:"text-center p-6 bg-white/5 border border-white/10 rounded-lg",children:[f.jsx("div",{className:`inline-flex p-3 rounded-lg ${U.color} mb-4`,children:f.jsx(B,{className:"h-6 w-6"})}),f.jsx("h4",{className:"font-semibold text-white mb-2",children:U.title}),f.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:U.reward}),f.jsx("p",{className:"text-sm text-gray-400",children:U.description})]},U.title)})})]}),f.jsx(Od,{children:p&&f.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:f.jsxs(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),className:"bg-gray-900 border border-gray-700 rounded-xl p-6 w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold text-white",children:"Send Invitations"}),f.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-gray-800",children:f.jsx(Yg,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Addresses *"}),f.jsx("textarea",{value:m.emails,onChange:U=>g({...m,emails:U.target.value}),rows:4,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"Enter email addresses (one per line or separated by commas)"}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Separate multiple emails with commas or new lines"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Personal Message (Optional)"}),f.jsx("textarea",{value:m.message,onChange:U=>g({...m,message:U.target.value}),rows:3,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"Add a personal message to your invitation..."})]}),f.jsxs("div",{className:"flex space-x-4 pt-4",children:[f.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-800 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:T,disabled:b||!m.emails.trim(),className:"flex-1 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:b?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx($o,{className:"h-4 w-4"}),f.jsx("span",{children:"Send Invites"})]})})]})]})]})})})]})}function _ve(){const{user:t}=Sr(),[e,r]=M.useState([]),[n,i]=M.useState(!1),[a,s]=M.useState(null),[o,c]=M.useState(!1),d=M.useCallback(O=>{O.preventDefault(),i(!0)},[]),p=M.useCallback(O=>{O.preventDefault(),i(!1)},[]),h=M.useCallback(O=>{O.preventDefault(),i(!1);const N=Array.from(O.dataTransfer.files).filter(R=>R.type.startsWith("image/"));g(N)},[]),m=M.useCallback(O=>{const N=Array.from(O.target.files||[]).filter(R=>R.type.startsWith("image/"));g(N)},[]),g=O=>{if(O.length===0)return;const N=O.map(R=>({id:Math.random().toString(36).substr(2,9),file:R,preview:URL.createObjectURL(R),analyzing:!1}));r(R=>[...R,...N]),ke.success(`${O.length} image(s) uploaded successfully!`)},b=O=>new Promise((N,R)=>{const I=new FileReader;I.readAsDataURL(O),I.onload=()=>N(I.result),I.onerror=q=>R(q)}),v=async O=>{r(N=>N.map(R=>R.id===O.id?{...R,analyzing:!0}:R));try{const N=await b(O.file),{data:R,error:I}=await lt.functions.invoke("ai-damage-assessment",{body:{image:N}});if(I)throw I;const q=R||{damage_types:["unknown"],confidence_score:0,estimated_cost_min:0,estimated_cost_max:0,priority_level:"low",insurance_claim_probability:0,detailed_findings:[],recommendations:[],processing_time_seconds:0};r(U=>U.map(D=>D.id===O.id?{...D,analyzing:!1,analysis:q}:D)),ke.success("Analysis completed successfully!")}catch(N){console.error("Analysis error:",N),console.log("Falling back to simulation due to error..."),await new Promise(I=>setTimeout(I,2e3));const R={damage_types:["hail_damage","missing_shingles","gutter_damage"],confidence_score:.94,estimated_cost_min:3500,estimated_cost_max:7200,priority_level:"high",insurance_claim_probability:.89,detailed_findings:[{area:"North-facing slope",damage_type:"Hail damage",severity:"Moderate",description:"Multiple granule loss areas consistent with hail impact patterns"},{area:"Ridge line",damage_type:"Missing shingles",severity:"High",description:"3-4 shingles completely missing, exposing underlayment"}],recommendations:["Schedule immediate inspection with qualified roofing contractor","Contact insurance company within 48 hours to file claim"],processing_time_seconds:2.8};r(I=>I.map(q=>q.id===O.id?{...q,analyzing:!1,analysis:R}:q)),ke.success("Analysis completed (Simulation Mode - Backend Connection Failed)")}},x=O=>{r(N=>{const R=N.find(I=>I.id===O);return R&&URL.revokeObjectURL(R.preview),N.filter(I=>I.id!==O)}),(a==null?void 0:a.id)===O&&(s(null),c(!1))},w=O=>{s(O),c(!0)},S=O=>{switch(O){case"critical":return"text-red-400";case"high":return"text-orange-400";case"medium":return"text-yellow-400";case"low":return"text-green-400";default:return"text-gray-400"}},E=O=>{switch(O){case"critical":return"bg-red-500/20";case"high":return"bg-orange-500/20";case"medium":return"bg-yellow-500/20";case"low":return"bg-green-500/20";default:return"bg-gray-500/20"}},T=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),j=O=>{const N={timestamp:new Date().toISOString(),analysis:O,user:t==null?void 0:t.email},R=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),I=URL.createObjectURL(R),q=document.createElement("a");q.href=I,q.download=`roof-analysis-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(I),ke.success("Report downloaded successfully!")};return f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[f.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"AI-Powered Roof Analysis"}),f.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Upload photos of your roof damage and get instant AI-powered analysis with detailed findings, cost estimates, and recommendations."})]}),f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:DG,title:"Advanced AI Analysis",description:"94%+ accuracy in damage detection using computer vision",color:"bg-purple-500/20 text-purple-400"},{icon:ks,title:"Cost Estimation",description:"Instant repair cost estimates based on market data",color:"bg-green-500/20 text-green-400"},{icon:wm,title:"Insurance Insights",description:"Claim probability assessment and documentation",color:"bg-blue-500/20 text-blue-400"}].map((O,N)=>{const R=O.icon;return f.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6 text-center",children:[f.jsx("div",{className:`inline-flex p-3 rounded-lg ${O.color} mb-4`,children:f.jsx(R,{className:"h-6 w-6"})}),f.jsx("h3",{className:"font-semibold text-white mb-2",children:O.title}),f.jsx("p",{className:"text-gray-400 text-sm",children:O.description})]},O.title)})}),f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-8",children:f.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-colors ${n?"border-purple-500 bg-purple-500/10":"border-white/30 hover:border-white/50"}`,onDragOver:d,onDragLeave:p,onDrop:h,children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"p-4 bg-purple-500/20 rounded-full",children:f.jsx(q$,{className:"h-8 w-8 text-purple-400"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:n?"Drop images here":"Upload Roof Photos"}),f.jsx("p",{className:"text-gray-400 mb-4",children:"Drag and drop images or click to browse. Supports JPG, PNG, WebP formats."}),f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsxs("label",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg cursor-pointer flex items-center space-x-2 transition-colors",children:[f.jsx(VG,{className:"h-5 w-5"}),f.jsx("span",{children:"Choose Files"}),f.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:m,className:"hidden"})]}),f.jsxs("label",{className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg cursor-pointer flex items-center space-x-2 transition-colors",children:[f.jsx(US,{className:"h-5 w-5"}),f.jsx("span",{children:"Take Photo"}),f.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:m,className:"hidden"})]})]})]})]})})}),e.length>0&&f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Uploaded Images"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(O=>f.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:O.preview,alt:"Uploaded roof photo",className:"w-full h-48 object-cover"}),f.jsx("button",{onClick:()=>x(O.id),className:"absolute top-2 right-2 p-2 bg-red-500/80 hover:bg-red-500 text-white rounded-full transition-colors",children:f.jsx(gj,{className:"h-4 w-4"})}),O.analyzing&&f.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(YG,{className:"h-8 w-8 text-purple-400 animate-spin mx-auto mb-2"}),f.jsx("p",{className:"text-white text-sm",children:"Analyzing..."})]})})]}),f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("span",{className:"text-sm text-gray-400",children:[O.file.name.substring(0,20),"..."]}),f.jsxs("span",{className:"text-xs text-gray-500",children:[(O.file.size/1024/1024).toFixed(1)," MB"]})]}),!O.analysis&&!O.analyzing&&f.jsxs("button",{onClick:()=>v(O),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[f.jsx(qn,{className:"h-4 w-4"}),f.jsx("span",{children:"Analyze"})]}),O.analysis&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-400",children:"Confidence"}),f.jsxs("span",{className:"text-white font-semibold",children:[Math.round(O.analysis.confidence_score*100),"%"]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-400",children:"Priority"}),f.jsx("span",{className:`text-sm font-semibold capitalize ${S(O.analysis.priority_level)}`,children:O.analysis.priority_level})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-400",children:"Est. Cost"}),f.jsxs("span",{className:"text-white font-semibold",children:[T(O.analysis.estimated_cost_min)," - ",T(O.analysis.estimated_cost_max)]})]}),f.jsxs("button",{onClick:()=>w(O),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[f.jsx(ma,{className:"h-4 w-4"}),f.jsx("span",{children:"View Results"})]})]})]})]},O.id))})]}),f.jsx(Od,{children:o&&(a==null?void 0:a.analysis)&&f.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>c(!1),children:f.jsx(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:O=>O.stopPropagation(),className:"bg-gray-900 border border-gray-700 rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:"AI Analysis Results"}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("button",{onClick:()=>j(a.analysis),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(Kg,{className:"h-4 w-4"}),f.jsx("span",{children:"Download Report"})]}),f.jsx("button",{onClick:()=>c(!1),className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-gray-800",children:f.jsx(Yg,{className:"h-5 w-5"})})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs("div",{children:[f.jsx("img",{src:a.preview,alt:"Analyzed roof photo",className:"w-full h-64 object-cover rounded-lg"}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Cr,{className:"h-5 w-5 text-green-400"}),f.jsx("span",{className:"text-sm text-gray-400",children:"Confidence"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[Math.round(a.analysis.confidence_score*100),"%"]})]}),f.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx(Fo,{className:"h-5 w-5 text-blue-400"}),f.jsx("span",{className:"text-sm text-gray-400",children:"Processing Time"})]}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[a.analysis.processing_time_seconds,"s"]})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Summary"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-400",children:"Priority Level"}),f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${E(a.analysis.priority_level)} ${S(a.analysis.priority_level)}`,children:a.analysis.priority_level.toUpperCase()})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-400",children:"Estimated Cost"}),f.jsxs("span",{className:"text-white font-semibold",children:[T(a.analysis.estimated_cost_min)," - ",T(a.analysis.estimated_cost_max)]})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[f.jsx("span",{className:"text-gray-400",children:"Insurance Claim Probability"}),f.jsxs("span",{className:"text-green-400 font-semibold",children:[Math.round(a.analysis.insurance_claim_probability*100),"%"]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detected Damage"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:a.analysis.damage_types.map((O,N)=>f.jsx("span",{className:"px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:O.replace("_"," ").replace(/\b\w/g,R=>R.toUpperCase())},N))})]})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detailed Findings"}),f.jsx("div",{className:"grid gap-4",children:a.analysis.detailed_findings.map((O,N)=>f.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Gg,{className:"h-4 w-4 text-blue-400"}),f.jsx("span",{className:"font-medium text-white",children:O.area})]}),f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${O.severity==="High"?"bg-red-500/20 text-red-400":O.severity==="Moderate"?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:O.severity})]}),f.jsx("p",{className:"text-purple-400 font-medium mb-2",children:O.damage_type}),f.jsx("p",{className:"text-gray-300 text-sm",children:O.description})]},N))})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recommendations"}),f.jsx("div",{className:"space-y-3",children:a.analysis.recommendations.map((O,N)=>f.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[f.jsx(Cr,{className:"h-5 w-5 text-blue-400 mt-0.5 flex-shrink-0"}),f.jsx("p",{className:"text-gray-300 text-sm",children:O})]},N))})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-gray-700",children:f.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("span",{children:"Generated by OrPaynter AI"}),f.jsx("span",{children:""}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(MG,{className:"h-4 w-4"}),f.jsx("span",{children:new Date().toLocaleDateString()})]})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(qn,{className:"h-4 w-4 text-purple-400"}),f.jsxs("span",{children:["AI Confidence: ",Math.round(a.analysis.confidence_score*100),"%"]})]})]})})]})})})})]})}function Sve(){const{user:t,profile:e}=Sr(),[r,n]=M.useState(null),[i,a]=M.useState({current_usage:0,monthly_limit:50,period_start:"",period_end:"",overage_fee:0}),[s,o]=M.useState([]),[c,d]=M.useState(!0),[p,h]=M.useState(!1),m=[{id:"starter",name:"Starter",price:99,interval:"month",monthlyLimit:25,icon:qn,color:"border-blue-500/50 bg-blue-500/10",features:["25 AI analyses per month","Basic damage detection","Cost estimation","Email support","Mobile app access"]},{id:"professional",name:"Professional",price:299,interval:"month",monthlyLimit:100,popular:!0,icon:BG,color:"border-purple-500/50 bg-purple-500/10",features:["100 AI analyses per month","Advanced damage detection","Detailed cost breakdown","Insurance claim support","Priority support","API access","Custom reports"]},{id:"enterprise",name:"Enterprise",price:999,interval:"month",monthlyLimit:500,icon:mj,color:"border-yellow-500/50 bg-yellow-500/10",features:["500 AI analyses per month","Premium AI models","Advanced analytics","White-label solution","Dedicated support","Custom integrations","Training & onboarding","SLA guarantee"]}];M.useEffect(()=>{t&&g()},[t]);async function g(){try{d(!0);const{data:j}=await lt.from("orpaynter_subscriptions").select("*").eq("user_id",t==null?void 0:t.id).eq("status","active").single();let O=m.find(q=>q.id==="professional")||m[0];if(j){const q=j.price_id.includes("professional")?"professional":j.price_id.includes("enterprise")?"enterprise":"starter";O=m.find(U=>U.id===q)||m[0]}O.current=!0,n(O);const N=new Date,R=new Date(N.getFullYear(),N.getMonth(),1),I=new Date(N.getFullYear(),N.getMonth()+1,0);a({current_usage:23,monthly_limit:O.monthlyLimit,period_start:R.toISOString(),period_end:I.toISOString(),overage_fee:0}),o([{id:"1",date:"2024-08-01",description:"Professional Plan - Monthly",amount:299,status:"paid",invoice_url:"#"},{id:"2",date:"2024-07-01",description:"Professional Plan - Monthly",amount:299,status:"paid",invoice_url:"#"},{id:"3",date:"2024-06-01",description:"Starter Plan - Monthly",amount:99,status:"paid",invoice_url:"#"}])}catch(j){console.error("Error loading billing data:",j),ke.error("Failed to load billing information")}finally{d(!1)}}async function b(j){if(!(p||(r==null?void 0:r.id)===j)){h(!0);try{const{data:O,error:N}=await lt.functions.invoke("create-subscription",{body:{planType:j,customerEmail:t==null?void 0:t.email}});if(N)throw N;O!=null&&O.url?window.location.href=O.url:(ke.success(`Successfully switched to ${j} plan!`),g())}catch(O){console.error("Plan change error:",O),ke.error("Failed to change plan: "+(O.message||"Unknown error"))}finally{h(!1)}}}const v=()=>Math.min(i.current_usage/i.monthly_limit*100,100),x=()=>{const j=v();return j>=90?"bg-red-500":j>=75?"bg-yellow-500":"bg-green-500"},w=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(j),S=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),E=j=>{switch(j){case"paid":return"text-green-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-gray-400"}},T=j=>{switch(j){case"paid":return Cr;case"pending":return Vl;case"failed":return Vl;default:return Vl}};return c?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})}):f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Billing & Subscription"}),f.jsx("p",{className:"text-gray-400",children:"Manage your subscription and billing information"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[f.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Current Plan"}),r&&f.jsxs("div",{className:`border-2 rounded-xl p-6 ${r.color}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:f.jsx(r.icon,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-xl font-bold text-white",children:r.name}),f.jsxs("p",{className:"text-gray-300",children:[w(r.price),"/month"]})]})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-gray-300",children:"Monthly Limit"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:r.monthlyLimit})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Plan includes:"}),r.features.slice(0,3).map((j,O)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(RN,{className:"h-4 w-4 text-green-400"}),f.jsx("span",{className:"text-sm text-gray-300",children:j})]},O))]})]})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Usage This Month"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("p",{className:"text-3xl font-bold text-white",children:[i.current_usage," / ",i.monthly_limit]}),f.jsx("p",{className:"text-gray-400",children:"AI Analyses Used"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-400",children:"Progress"}),f.jsxs("span",{className:"text-white font-medium",children:[Math.round(v()),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:f.jsx("div",{className:`h-3 rounded-full transition-all ${x()}`,style:{width:`${v()}%`}})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Period Start"}),f.jsx("p",{className:"text-white font-medium",children:S(i.period_start)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-400",children:"Resets On"}),f.jsx("p",{className:"text-white font-medium",children:S(i.period_end)})]})]}),v()>80&&f.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Vl,{className:"h-5 w-5 text-yellow-400"}),f.jsx("p",{className:"text-yellow-400 font-medium",children:"Usage Warning"})]}),f.jsxs("p",{className:"text-sm text-yellow-300 mt-1",children:["You've used ",Math.round(v()),"% of your monthly limit. Consider upgrading to avoid overage fees."]})]})]})]})]}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Available Plans"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map(j=>{const O=j.icon,N=(r==null?void 0:r.id)===j.id;return f.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all ${N?j.color:j.popular?"border-purple-500/30 bg-white/5 hover:bg-white/10":"border-white/20 bg-white/5 hover:bg-white/10"}`,children:[j.popular&&f.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:f.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("div",{className:"inline-flex p-3 bg-white/10 rounded-lg mb-4",children:f.jsx(O,{className:"h-8 w-8 text-white"})}),f.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:j.name}),f.jsxs("div",{className:"mb-4",children:[f.jsx("span",{className:"text-3xl font-bold text-white",children:w(j.price)}),f.jsx("span",{className:"text-gray-400",children:"/month"})]})]}),f.jsx("div",{className:"space-y-3 mb-6",children:j.features.map((R,I)=>f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(RN,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),f.jsx("span",{className:"text-sm text-gray-300",children:R})]},I))}),f.jsx("button",{onClick:()=>b(j.id),disabled:p||N,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${N?"bg-gray-600 text-gray-400 cursor-not-allowed":j.popular?"bg-purple-600 hover:bg-purple-700 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,children:p?f.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),f.jsx("span",{children:"Processing..."})]}):N?"Current Plan":"Upgrade"})]},j.id)})})]}),f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Billing History"}),f.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(Kg,{className:"h-4 w-4"}),f.jsx("span",{children:"Export"})]})]}),f.jsx("div",{className:"space-y-4",children:s.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gray-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(dj,{className:"h-8 w-8 text-gray-400"})}),f.jsx("p",{className:"text-gray-400",children:"No billing history available"})]}):s.map(j=>{const O=T(j.status);return f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`p-2 rounded-lg ${E(j.status).replace("text-","bg-").replace("-400","-500/20")}`,children:f.jsx(O,{className:`h-5 w-5 ${E(j.status)}`})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:j.description}),f.jsx("p",{className:"text-sm text-gray-400",children:S(j.date)})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-white",children:w(j.amount)}),f.jsx("p",{className:`text-sm capitalize ${E(j.status)}`,children:j.status})]})]},j.id)})})]})]})}function Eve(){const{user:t,profile:e,updateProfile:r}=Sr(),[n,i]=M.useState("profile"),[a,s]=M.useState(!1),[o,c]=M.useState(!1),[d,p]=M.useState(!1),[h,m]=M.useState(!1),[g,b]=M.useState({full_name:(e==null?void 0:e.full_name)||"",company:(e==null?void 0:e.company)||"",phone:(e==null?void 0:e.phone)||"",user_role:(e==null?void 0:e.user_role)||"property_owner",license_type:(e==null?void 0:e.license_type)||"basic"}),[v,x]=M.useState({current_password:"",new_password:"",confirm_password:""}),[w,S]=M.useState({email_marketing:!0,email_updates:!0,email_security:!0,push_notifications:!0,sms_alerts:!1}),E=[{id:"profile",name:"Profile",icon:zS},{id:"security",name:"Security",icon:zr},{id:"notifications",name:"Notifications",icon:uj}],T=[{value:"property_owner",label:"Property Owner"},{value:"contractor",label:"Contractor"},{value:"insurance_adjuster",label:"Insurance Adjuster"},{value:"public_adjuster",label:"Public Adjuster"}],j=[{value:"basic",label:"Basic"},{value:"professional",label:"Professional"},{value:"enterprise",label:"Enterprise"}];async function O(D){D.preventDefault(),s(!0);try{await r({full_name:g.full_name,company:g.company,phone:g.phone,user_role:g.user_role,license_type:g.license_type})}catch(B){console.error("Profile update error:",B)}finally{s(!1)}}async function N(D){if(D.preventDefault(),v.new_password!==v.confirm_password){ke.error("New passwords do not match");return}if(v.new_password.length<6){ke.error("Password must be at least 6 characters");return}s(!0);try{await new Promise(B=>setTimeout(B,1e3)),x({current_password:"",new_password:"",confirm_password:""}),ke.success("Password updated successfully!")}catch(B){console.error("Password update error:",B),ke.error("Failed to update password")}finally{s(!1)}}async function R(){s(!0);try{await new Promise(D=>setTimeout(D,500)),ke.success("Notification preferences updated!")}catch(D){console.error("Notification update error:",D),ke.error("Failed to update notification preferences")}finally{s(!1)}}const I=()=>f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Profile Information"}),f.jsxs("form",{onSubmit:O,className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(zS,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",required:!0,value:g.full_name,onChange:D=>b({...g,full_name:D.target.value}),className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx($o,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",disabled:!0,value:(t==null?void 0:t.email)||"",className:"block w-full pl-10 pr-3 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-gray-400 cursor-not-allowed"})]}),f.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Email cannot be changed"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(L$,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",value:g.company,onChange:D=>b({...g,company:D.target.value}),className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your company name"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Qg,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"tel",value:g.phone,onChange:D=>b({...g,phone:D.target.value}),className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"User Role"}),f.jsx("select",{value:g.user_role,onChange:D=>b({...g,user_role:D.target.value}),className:"block w-full px-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:T.map(D=>f.jsx("option",{value:D.value,children:D.label},D.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"License Type"}),f.jsx("select",{value:g.license_type,onChange:D=>b({...g,license_type:D.target.value}),className:"block w-full px-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:j.map(D=>f.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),f.jsx("div",{className:"flex justify-end pt-6 border-t border-white/10",children:f.jsxs("button",{type:"submit",disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[a?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsx(Zp,{className:"h-4 w-4"}),f.jsx("span",{children:a?"Saving...":"Save Changes"})]})})]})]}),q=()=>f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Change Password"}),f.jsxs("form",{onSubmit:N,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:o?"text":"password",required:!0,value:v.current_password,onChange:D=>x({...v,current_password:D.target.value}),className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter current password"}),f.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:d?"text":"password",required:!0,value:v.new_password,onChange:D=>x({...v,new_password:D.target.value}),className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password"}),f.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:d?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:h?"text":"password",required:!0,value:v.confirm_password,onChange:D=>x({...v,confirm_password:D.target.value}),className:"block w-full pl-10 pr-10 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password"}),f.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:h?f.jsx(No,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"}):f.jsx(ma,{className:"h-5 w-5 text-gray-400 hover:text-gray-300"})})]})]}),f.jsx("div",{className:"flex justify-end pt-4",children:f.jsxs("button",{type:"submit",disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[a?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsx(Zp,{className:"h-4 w-4"}),f.jsx("span",{children:a?"Updating...":"Update Password"})]})})]})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Account Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(Cr,{className:"h-5 w-5 text-green-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:"Email Verified"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Your email address is verified"})]})]}),f.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Verified"})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx(zf,{className:"h-5 w-5 text-blue-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:"Account Created"}),f.jsxs("p",{className:"text-sm text-gray-400",children:["Member since ",new Date().toLocaleDateString()]})]})]}),f.jsx("span",{className:"text-blue-400 text-sm font-medium",children:"Active"})]})]})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-red-500/10 border border-red-500/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-4",children:"Danger Zone"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white mb-1",children:"Delete Account"}),f.jsx("p",{className:"text-sm text-gray-400",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),f.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(gj,{className:"h-4 w-4"}),f.jsx("span",{children:"Delete Account"})]})]})]})]}),U=()=>f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Notification Preferences"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"font-medium text-white",children:"Email Notifications"}),[{key:"email_marketing",title:"Marketing & Promotions",description:"Receive updates about new features and special offers"},{key:"email_updates",title:"Product Updates",description:"Get notified about product updates and new features"},{key:"email_security",title:"Security Alerts",description:"Important security notifications and account changes"}].map(({key:D,title:B,description:V})=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:B}),f.jsx("p",{className:"text-sm text-gray-400",children:V})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:w[D],onChange:G=>S({...w,[D]:G.target.checked}),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},D))]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"font-medium text-white",children:"Push Notifications"}),[{key:"push_notifications",title:"Push Notifications",description:"Receive push notifications in your browser"},{key:"sms_alerts",title:"SMS Alerts",description:"Get important alerts via text message"}].map(({key:D,title:B,description:V})=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:B}),f.jsx("p",{className:"text-sm text-gray-400",children:V})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:w[D],onChange:G=>S({...w,[D]:G.target.checked}),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]},D))]}),f.jsx("div",{className:"flex justify-end pt-6 border-t border-white/10",children:f.jsxs("button",{onClick:R,disabled:a,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg flex items-center space-x-2 transition-colors",children:[a?f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):f.jsx(Zp,{className:"h-4 w-4"}),f.jsx("span",{children:a?"Saving...":"Save Preferences"})]})})]})]});return f.jsxs("div",{className:"space-y-8",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Settings"}),f.jsx("p",{className:"text-gray-400",children:"Manage your account settings and preferences"})]}),f.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-1",children:f.jsx("div",{className:"flex space-x-1",children:E.map(D=>{const B=D.icon,V=n===D.id;return f.jsxs("button",{onClick:()=>i(D.id),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors ${V?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[f.jsx(B,{className:"h-5 w-5"}),f.jsx("span",{children:D.name})]},D.id)})})}),f.jsxs("div",{children:[n==="profile"&&I(),n==="security"&&q(),n==="notifications"&&U()]})]})}const jve=()=>{const{user:t}=Sr(),e=Bi(),[r,n]=M.useState(!1),[i,a]=M.useState({name:"",email:"",role:"",companyStage:"",tools:"",chaosPoint:""}),s=async o=>{o.preventDefault(),n(!0);try{const c=await fetch("/api/early-access",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(c.ok){const d=await c.json();Qt.success(`Application received! You are #${d.waitlist_position} on the waitlist.`),a({name:"",email:"",role:"",companyStage:"",tools:"",chaosPoint:""})}else Qt.error("Something went wrong. Please try again.")}catch{Qt.error("Network error. Please try again later.")}finally{n(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#0A0C10] text-slate-200 font-sans selection:bg-blue-500/30",children:[f.jsx("nav",{className:"fixed top-0 w-full z-50 bg-[#0A0C10]/80 backdrop-blur-xl border-b border-white/5",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-20",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-500 p-2 rounded-xl shadow-lg shadow-blue-500/20",children:f.jsx(zr,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{className:"flex flex-col",children:[f.jsx("span",{className:"text-xl font-black tracking-tighter text-white uppercase leading-none",children:"OrPaynter"}),f.jsx("span",{className:"text-[10px] font-bold text-blue-500 tracking-[0.2em] uppercase mt-1",children:"Intelligence"})]})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-10 text-[13px] font-bold uppercase tracking-widest text-slate-400",children:[f.jsx("a",{href:"#capabilities",className:"hover:text-white transition-colors",children:"Capabilities"}),f.jsx("a",{href:"#how-it-works",className:"hover:text-white transition-colors",children:"Process"}),f.jsx("a",{href:"#impact",className:"hover:text-white transition-colors",children:"Impact"}),t?f.jsx(bs,{to:"/command-center",className:"bg-blue-600 text-white px-6 py-2.5 rounded-full hover:bg-blue-500 transition-all transform hover:scale-105 active:scale-95 shadow-xl shadow-blue-500/20",children:"Command Center"}):f.jsx("button",{onClick:()=>e("/assessment"),className:"bg-white text-black px-6 py-2.5 rounded-full hover:bg-blue-600 hover:text-white transition-all transform hover:scale-105 active:scale-95 shadow-xl shadow-white/5",children:"Try Live Demo"})]})]})})}),f.jsxs("section",{className:"relative pt-40 pb-24 lg:pt-56 lg:pb-40 overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1200px] h-[800px] bg-blue-600/20 blur-[160px] rounded-full -z-10 animate-pulse"}),f.jsx("div",{className:"absolute top-1/4 right-0 w-[400px] h-[400px] bg-cyan-500/10 blur-[100px] rounded-full -z-10"}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative",children:f.jsxs(ze.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-blue-500/10 border border-blue-500/20 mb-8",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-blue-400",children:"System Live: v2.4.0 Stable"})]}),f.jsxs("h1",{className:"text-5xl lg:text-7xl font-black tracking-tighter text-white mb-8 uppercase leading-[0.9]",children:["The First Autonomous ",f.jsx("br",{}),f.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-cyan-300 to-blue-500 bg-clip-text text-transparent",children:"Roofing Intelligence Platform"})]}),f.jsxs("p",{className:"text-xl lg:text-2xl text-slate-400 max-w-3xl mx-auto mb-12 leading-relaxed font-medium",children:["Eliminate the 14-day claims cycle. Instantly analyze damage, estimate costs, and generate insurance-ready reports with ",f.jsx("span",{className:"text-white",children:"0.05ms latency"}),"."]}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[f.jsxs("button",{onClick:()=>e("/assessment"),className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white px-10 py-5 rounded-full font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-2xl shadow-blue-600/40 hover:-translate-y-1",children:["Start Free Analysis ",f.jsx(CG,{className:"h-5 w-5"})]}),f.jsx("button",{onClick:()=>{var o;return(o=document.getElementById("early-access-form"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto bg-white/5 hover:bg-white/10 text-white px-10 py-5 rounded-full font-bold text-lg border border-white/10 transition-all backdrop-blur-sm",children:"Join Enterprise Waitlist"})]})]})})]}),f.jsx("section",{id:"capabilities",className:"py-24 border-t border-white/5 bg-[#0D0F14]",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:"Capabilities"}),f.jsx("h3",{className:"text-3xl lg:text-5xl font-black text-white uppercase tracking-tighter",children:"Autonomous Operations"})]}),f.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:qn,title:"AI Damage Detection",desc:"Proprietary computer vision models identify hail hits, wind uplift, and granule loss with 98.4% accuracy.",metric:"0.05ms Analysis"},{icon:ks,title:"Instant Cost Estimation",desc:"Real-time calculation of labor and materials based on local zip code rates and waste factors.",metric:"+/- 2% Variance"},{icon:F$,title:"Compliance Reporting",desc:"Auto-generates Xactimate-compatible PDF reports that meet all insurance carrier standards.",metric:"100% Audit Ready"}].map((o,c)=>f.jsxs("div",{className:"bg-[#0A0C10] border border-white/10 p-8 rounded-2xl hover:border-blue-500/30 transition-all group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl group-hover:bg-blue-500/20 transition-colors",children:f.jsx(o.icon,{className:"h-8 w-8 text-blue-400"})}),f.jsx("span",{className:"text-[10px] font-bold bg-white/5 px-3 py-1 rounded-full text-slate-400",children:o.metric})]}),f.jsx("h3",{className:"text-xl font-bold text-white mb-3 uppercase",children:o.title}),f.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:o.desc})]},c))})]})}),f.jsxs("section",{id:"how-it-works",className:"py-24 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-blue-600/5 -z-10"}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:"The Workflow"}),f.jsx("h3",{className:"text-3xl lg:text-5xl font-black text-white uppercase tracking-tighter",children:"From Chaos to Clarity"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-blue-500/20 to-transparent -translate-y-1/2"}),f.jsx("div",{className:"grid lg:grid-cols-4 gap-6 relative",children:[{step:"01",title:"Ingest",desc:"Upload drone imagery or smartphone photos directly to the secure cloud."},{step:"02",title:"Analyze",desc:"AI Engine scans for 12+ damage types and correlates with weather history."},{step:"03",title:"Validate",desc:"System cross-references findings with local building codes and manufacturer specs."},{step:"04",title:"Execute",desc:"Download the final report and dispatch matched contractors immediately."}].map((o,c)=>f.jsxs("div",{className:"bg-[#0D0F14] border border-white/10 p-6 rounded-2xl relative z-10",children:[f.jsx("span",{className:"text-4xl font-black text-blue-500/20 absolute top-4 right-4",children:o.step}),f.jsx("h4",{className:"text-lg font-bold text-white mb-2 uppercase",children:o.title}),f.jsx("p",{className:"text-slate-400 text-sm",children:o.desc})]},c))})]})]})]}),f.jsx("section",{id:"impact",className:"py-24 bg-[#0A0C10]",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:"Market Impact"}),f.jsxs("h3",{className:"text-3xl lg:text-5xl font-black text-white uppercase tracking-tighter mb-6",children:["Stop Leaving Money ",f.jsx("br",{}),"on the Table."]}),f.jsx("p",{className:"text-slate-400 text-lg leading-relaxed mb-8",children:"The traditional claims process is broken. It takes too long, costs too much, and relies on subjective human judgment. OrPaynter brings objective, data-driven truth to the equation."}),f.jsx("div",{className:"space-y-6",children:[{label:"Reduction in Claim Disputes",value:"80%"},{label:"Increase in Contractor Close Rate",value:"40%"},{label:"Time Saved Per Claim",value:"14 Days"}].map((o,c)=>f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx("div",{className:"text-3xl font-black text-white w-24 text-right",children:o.value}),f.jsx("div",{className:"h-px bg-white/10 flex-1"}),f.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest",children:o.label})]},c))})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-white/10 rounded-3xl p-8 aspect-square flex flex-col justify-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-[size:20px_20px]"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"bg-[#0D0F14] p-6 rounded-xl border border-white/10 mb-4 shadow-xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Claim #8829-X"}),f.jsx("span",{className:"text-xs text-green-400 font-bold",children:"APPROVED"})]}),f.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-full bg-green-500 animate-pulse"})})]}),f.jsxs("div",{className:"bg-[#0D0F14] p-6 rounded-xl border border-white/10 ml-8 shadow-xl opacity-80",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-xs text-slate-500 uppercase",children:"Claim #8830-Y"}),f.jsx("span",{className:"text-xs text-blue-400 font-bold",children:"PROCESSING"})]}),f.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-3/4 bg-blue-500"})})]})]})]})]})})}),f.jsx("section",{className:"py-24 border-y border-white/5 bg-[#0D0F14]",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsx("h2",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.4em] mb-4",children:"System Specifications"}),f.jsx("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:"Enterprise-Grade Infrastructure"})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{label:"Security",value:"SOC2 Type II",icon:wc},{label:"Encryption",value:"AES-256 GCM",icon:zr},{label:"Uptime SLA",value:"99.99%",icon:pj},{label:"API Latency",value:"< 100ms",icon:qn}].map((o,c)=>f.jsxs("div",{className:"flex flex-col items-center text-center p-6 bg-white/5 rounded-2xl border border-white/5",children:[f.jsx(o.icon,{className:"h-8 w-8 text-blue-500 mb-4"}),f.jsx("div",{className:"text-lg font-black text-white mb-1",children:o.value}),f.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:o.label})]},c))})]})}),f.jsx("section",{id:"early-access-form",className:"py-24 bg-[#0A0C10]",children:f.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Secure Your Competitive Advantage"}),f.jsx("p",{className:"text-slate-400",children:"Join the elite network of contractors and adjusters using OrPaynter."})]}),f.jsxs("form",{onSubmit:s,className:"space-y-6 bg-[#0D0F14] p-8 rounded-3xl border border-white/10 shadow-2xl",children:[f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Full Name"}),f.jsx("input",{required:!0,type:"text",value:i.name,onChange:o=>a({...i,name:o.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-white",placeholder:"John Doe"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Work Email"}),f.jsx("input",{required:!0,type:"email",value:i.email,onChange:o=>a({...i,email:o.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-white",placeholder:"john@company.com"})]})]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Your Role"}),f.jsxs("select",{value:i.role,onChange:o=>a({...i,role:o.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-white",children:[f.jsx("option",{value:"",children:"Select role..."}),f.jsx("option",{value:"contractor",children:"Roofing Contractor"}),f.jsx("option",{value:"adjuster",children:"Insurance Adjuster"}),f.jsx("option",{value:"homeowner",children:"Homeowner"}),f.jsx("option",{value:"other",children:"Other"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Company Size"}),f.jsxs("select",{value:i.companyStage,onChange:o=>a({...i,companyStage:o.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-white",children:[f.jsx("option",{value:"",children:"Select size..."}),f.jsx("option",{value:"1-10",children:"1-10 Employees"}),f.jsx("option",{value:"11-50",children:"11-50 Employees"}),f.jsx("option",{value:"50+",children:"50+ Employees"})]})]})]}),f.jsx("button",{disabled:r,className:"w-full bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-xl font-bold text-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:r?"Processing...":"Apply for Access"})]})]})}),f.jsx("footer",{className:"py-12 border-t border-white/5 bg-[#0A0C10]",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-8",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"bg-blue-600 p-1 rounded-md",children:f.jsx(zr,{className:"h-4 w-4 text-white"})}),f.jsx("span",{className:"text-sm font-bold tracking-tight text-white",children:"OrPaynter"})]}),f.jsx("div",{className:"text-slate-500 text-xs",children:" 2026 OrPaynter Intelligence. All rights reserved."}),f.jsxs("div",{className:"flex gap-6 text-slate-400 text-xs",children:[f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),f.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),f.jsx("a",{href:"mailto:hello@orpaynter.com",className:"hover:text-white transition-colors",children:"Contact"})]})]})})]})},Ave=()=>{const t=Bi(),[e,r]=M.useState([]),[n,i]=M.useState(""),[a,s]=M.useState({}),[o,c]=M.useState(0),[d,p]=M.useState(!1),h=M.useRef(null),m=()=>{var N;(N=h.current)==null||N.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{g({id:Date.now().toString(),type:"bot",content:"Welcome to OrPaynter! I'm here to help you get connected with the right roofing professionals. First, let me understand who you are:",options:["Homeowner","Contractor","Insurance Professional"],inputType:"radio",field:"userType"})},[]),M.useEffect(()=>{m()},[e]);const g=N=>{r(R=>[...R,N])},b=(N,R)=>{g({id:Date.now().toString(),type:"user",content:N}),R&&s(I=>({...I,[R]:N})),setTimeout(()=>{v(N,R)},500)},v=(N,R)=>{let I={...a};switch(R&&(I[R]=N),R){case"userType":g(N==="Homeowner"?{id:Date.now().toString(),type:"bot",content:"Perfect! I'll help you assess your roof damage and connect you with qualified contractors. Let's start with your contact information. What's your full name?",inputType:"text",field:"contact_name"}:N==="Contractor"?{id:Date.now().toString(),type:"bot",content:"Great! Are you looking to join our verified contractor network or need support with existing leads?",options:["Join Network","Lead Support"],inputType:"radio",field:"contractor_inquiry"}:{id:Date.now().toString(),type:"bot",content:"Welcome! Are you here to review a claim, verify damage assessment, or support a policyholder?",options:["Review Claim","Verify Assessment","Support Policyholder"],inputType:"radio",field:"insurance_inquiry"});break;case"contact_name":g({id:Date.now().toString(),type:"bot",content:`Nice to meet you, ${N}! What's the best email address to reach you?`,inputType:"email",field:"contact_email"});break;case"contact_email":g({id:Date.now().toString(),type:"bot",content:"And your phone number for urgent updates?",inputType:"phone",field:"contact_phone"});break;case"contact_phone":g({id:Date.now().toString(),type:"bot",content:"What's the address of the property that needs assessment?",inputType:"text",field:"property_address"});break;case"property_address":g({id:Date.now().toString(),type:"bot",content:"Which city is this property located in?",inputType:"text",field:"city"});break;case"city":g({id:Date.now().toString(),type:"bot",content:"What state? (2-letter code, e.g., TX)",inputType:"text",field:"state"});break;case"state":g({id:Date.now().toString(),type:"bot",content:"ZIP code?",inputType:"text",field:"zip_code"});break;case"zip_code":g({id:Date.now().toString(),type:"bot",content:"Is this a residential or commercial property?",options:["Residential","Commercial"],inputType:"radio",field:"property_type"});break;case"property_type":g({id:Date.now().toString(),type:"bot",content:"What type of damage are you seeing? (e.g., hail damage, wind damage, leaks, missing shingles)",inputType:"text",field:"damage_type"});break;case"damage_type":g({id:Date.now().toString(),type:"bot",content:"How would you describe the severity of the damage?",options:["Minor (small issues, not urgent)","Moderate (noticeable damage)","Severe (significant damage)","Emergency (immediate attention needed)"],inputType:"radio",field:"damage_severity"});break;case"damage_severity":const q=N.toLowerCase().split(" ")[0];I.damage_severity=q,g({id:Date.now().toString(),type:"bot",content:"Can you describe the damage in more detail? This helps our AI provide better analysis.",inputType:"text",field:"damage_description"});break;case"damage_description":g({id:Date.now().toString(),type:"bot",content:"On a scale of 1-10, how urgent is this repair? (1 = can wait, 10 = emergency)",inputType:"text",field:"urgency_level"});break;case"urgency_level":const U=parseInt(N);I.urgency_level=U,U>=9?g({id:Date.now().toString(),type:"bot",content:"EMERGENCY DETECTED! I'll prioritize your case for immediate callback. Do you have insurance that might cover this damage?",options:["Yes","No","Not sure"],inputType:"radio",field:"has_insurance"}):g({id:Date.now().toString(),type:"bot",content:"Do you have homeowner's insurance that might cover this damage?",options:["Yes","No","Not sure"],inputType:"radio",field:"has_insurance"});break;case"has_insurance":const D=N==="Yes";I.has_insurance=D,g(D?{id:Date.now().toString(),type:"bot",content:"Great! Which insurance company?",inputType:"text",field:"insurance_company"}:{id:Date.now().toString(),type:"bot",content:"Are you the decision-maker for this property, or will someone else be involved in choosing a contractor?",options:["I make the decisions","Someone else decides","Joint decision"],inputType:"radio",field:"is_decision_maker"});break;case"insurance_company":g({id:Date.now().toString(),type:"bot",content:"Have you already filed a claim for this damage?",options:["Yes","No","Planning to"],inputType:"radio",field:"claim_filed"});break;case"claim_filed":const B=N==="Yes";I.claim_filed=B,g({id:Date.now().toString(),type:"bot",content:"Are you the decision-maker for this property, or will someone else be involved in choosing a contractor?",options:["I make the decisions","Someone else decides","Joint decision"],inputType:"radio",field:"is_decision_maker"});break;case"is_decision_maker":const V=N==="I make the decisions";I.is_decision_maker=V,g({id:Date.now().toString(),type:"bot",content:"What's your budget range for this repair?",options:wee(),inputType:"select",field:"budget_range"});break;case"budget_range":g({id:Date.now().toString(),type:"bot",content:"How old is your roof (approximately)?",inputType:"text",field:"roof_age"});break;case"roof_age":const G=parseInt(N);I.roof_age=G,g({id:Date.now().toString(),type:"bot",content:"What type of roofing material do you have?",options:See(),inputType:"select",field:"roof_material"});break;case"roof_material":g({id:Date.now().toString(),type:"bot",content:"What's your timeline for getting this work done?",options:_ee(),inputType:"select",field:"timeline"});break;case"timeline":x(I);break;case"contractor_inquiry":g(N==="Join Network"?{id:Date.now().toString(),type:"bot",content:"Excellent! To join our verified contractor network, please call us at (469) 479-2526 or email contractors@orpaynter.com. Our team will walk you through the verification process."}:{id:Date.now().toString(),type:"bot",content:"For contractor support and lead assistance, please call (469) 479-2526 or access your contractor portal."});break;case"insurance_inquiry":g({id:Date.now().toString(),type:"bot",content:"For insurance professional services, please contact our claims support team at (469) 479-2526 or claims@orpaynter.com."});break;case"retry_qualification":N==="Yes, try again"?(g({id:Date.now().toString(),type:"bot",content:"Let me try processing your lead qualification again with the information you provided..."}),setTimeout(()=>{x(I)},1e3)):g({id:Date.now().toString(),type:"bot",content:"That's perfectly fine! Our team is standing by to assist you personally. Please call (469) 479-2526 and mention your case ID: "+Date.now().toString().slice(-8)+". We'll have all your information ready."});break}s(I)},x=async N=>{var R,I,q,U,D,B;p(!0),console.log("=== FRONTEND LEAD QUALIFICATION START ==="),console.log("Final data being sent:",JSON.stringify(N,null,2)),g({id:Date.now().toString(),type:"bot",content:"Perfect! I'm now processing your information and calculating your lead score based on our BANT qualification system..."});try{const V={...N,property_type:(R=N.property_type)==null?void 0:R.toLowerCase(),damage_severity:N.damage_severity};console.log("Request body after transformation:",JSON.stringify(V,null,2));const{data:G,error:X}=await lt.functions.invoke("qualify-lead",{body:V});if(console.log("Supabase response - error:",X),console.log("Supabase response - data:",JSON.stringify(G,null,2)),X)throw console.error("Supabase error details:",X),X;const ie=G.data||G,{lead:ne,leadScore:oe,qualificationStatus:se,emergencyCallback:W}=ie;console.log("Extracted response values:"),console.log("- lead:",ne),console.log("- leadScore:",oe),console.log("- qualificationStatus:",se),console.log("- emergencyCallback:",W),g({id:Date.now().toString(),type:"bot",content:` EXCELLENT! Your lead has been successfully qualified and saved!

 BANT Score: ${oe}/100 (${se.toUpperCase()})
 Lead ID: ${ne.id}

${W?" PRIORITY CASE: Given the emergency nature of your situation, you'll receive a callback within 1 hour from our emergency response team!":" Perfect! You'll be connected with our top-rated, pre-screened contractors within 24 hours."}

 Your case has been prioritized based on your qualification score and urgency level.`}),ke.success(` Lead qualified successfully! BANT Score: ${oe}/100`,{duration:5e3}),setTimeout(()=>{g({id:Date.now().toString(),type:"bot",content:"Next step: Let's get some photos of your roof damage for AI analysis. This will help contractors provide more accurate estimates."}),setTimeout(()=>{t(`/assessment?leadId=${ne.id}`)},2e3)},2e3)}catch(V){console.log("=== FRONTEND LEAD QUALIFICATION ERROR ==="),console.error("Lead qualification failed:",V),console.error("Error details:",JSON.stringify(V,null,2)),console.error("Error message:",V.message),console.error("Error stack:",V.stack),console.log("=== FRONTEND LEAD QUALIFICATION ERROR END ===");let G="Lead processing encountered an issue. Please try again or call for immediate assistance.";(I=V.message)!=null&&I.includes("network")||(q=V.message)!=null&&q.includes("fetch")?(G="Connection issue detected. Please check your internet connection and try again.",ke.error("Network connection issue - please retry")):(U=V.message)!=null&&U.includes("timeout")?(G="Request timed out. Our servers may be busy. Please try again in a moment.",ke.error("Request timeout - please retry")):(D=V.message)!=null&&D.includes("validation")||(B=V.message)!=null&&B.includes("required")?(G="Some required information is missing. Please review your responses and try again.",ke.error("Validation error - please check your information")):ke.error("Processing error - our team has been notified"),g({id:Date.now().toString(),type:"bot",content:`${G}

For immediate assistance:
 Call: (469) 479-2526
 Email: support@orpaynter.com

Your information has been securely logged and we'll follow up with you shortly.`}),setTimeout(()=>{g({id:Date.now().toString(),type:"bot",content:"Would you like to try processing your information again?",options:["Yes, try again","No, I'll call instead"],inputType:"radio",field:"retry_qualification"})},2e3)}finally{p(!1),console.log("=== FRONTEND LEAD QUALIFICATION END ===")}},w=N=>{if(N.preventDefault(),!n.trim())return;const R=e[e.length-1];R&&R.field&&(b(n,R.field),i(""))},S=(N,R)=>{b(N,R)},E=(N,R)=>R==="phone"?p1(N):N,T=N=>N.type==="user"?null:N.options&&N.inputType==="radio"?f.jsx("div",{className:"mt-4 space-y-2",children:N.options.map((R,I)=>f.jsx("button",{onClick:()=>S(R,N.field),className:"block w-full text-left p-3 bg-white border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",disabled:d,children:R},I))}):N.options&&N.inputType==="select"?f.jsx("div",{className:"mt-4",children:f.jsxs("select",{onChange:R=>S(R.target.value,N.field),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:d,defaultValue:"",children:[f.jsx("option",{value:"",disabled:!0,children:"Select an option..."}),N.options.map((R,I)=>f.jsx("option",{value:R,children:R},I))]})}):null,j=e[e.length-1],O=j&&j.type==="bot"&&["text","email","phone"].includes(j.inputType||"")&&!j.options;return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(bm,{className:"h-5 w-5 text-gray-600"})}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:f.jsx(zr,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"OrPaynter AI Assistant"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Lead Qualification System"})]})]}),f.jsxs("div",{className:"ml-auto flex items-center space-x-2",children:[f.jsx(Qg,{className:"h-4 w-4 text-gray-600"}),f.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"(469) 479-2526"})]})]})})}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"h-96 overflow-y-auto p-6 space-y-4",children:[e.map((N,R)=>f.jsx("div",{className:`flex ${N.type==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${N.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:[f.jsx("div",{className:"whitespace-pre-wrap",children:N.content}),T(N)]})},N.id)),d&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-gray-100 px-4 py-3 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),f.jsx("span",{children:"Processing your lead qualification..."})]})})}),f.jsx("div",{ref:h})]}),O&&f.jsx("form",{onSubmit:w,className:"border-t p-4",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:(j==null?void 0:j.inputType)==="email"?"email":(j==null?void 0:j.inputType)==="phone"?"tel":"text",value:n,onChange:N=>i(E(N.target.value,j==null?void 0:j.inputType)),placeholder:"Type your answer...",className:"flex-1 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:d,required:!0}),f.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:f.jsx(nQ,{className:"h-4 w-4"})})]})})]})})]})},Tve=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Yc(t,e,r){const n=Ove(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof n.path!="string"&&QF(n,"path",a),QF(n,"relativePath",a),n}function Ove(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),i=Tve.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function QF(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!1,enumerable:!0})}const kve=[".DS_Store","Thumbs.db"];function Pve(t){return Ts(this,void 0,void 0,function*(){return Ng(t)&&Nve(t.dataTransfer)?Dve(t.dataTransfer,t.type):Cve(t)?Rve(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?Ive(t):[]})}function Nve(t){return Ng(t)}function Cve(t){return Ng(t)&&Ng(t.target)}function Ng(t){return typeof t=="object"&&t!==null}function Rve(t){return FE(t.target.files).map(e=>Yc(e))}function Ive(t){return Ts(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>Yc(r))})}function Dve(t,e){return Ts(this,void 0,void 0,function*(){if(t.items){const r=FE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return r;const n=yield Promise.all(r.map(Mve));return YF(eq(n))}return YF(FE(t.files).map(r=>Yc(r)))})}function YF(t){return t.filter(e=>kve.indexOf(e.name)===-1)}function FE(t){if(t===null)return[];const e=[];for(let r=0;r<t.length;r++){const n=t[r];e.push(n)}return e}function Mve(t){if(typeof t.webkitGetAsEntry!="function")return XF(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?tq(e):XF(t,e)}function eq(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?eq(r):[r]],[])}function XF(t,e){return Ts(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const s=yield a.getFile();return s.handle=a,Yc(s)}}const n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return Yc(n,(r=e==null?void 0:e.fullPath)!==null&&r!==void 0?r:void 0)})}function Lve(t){return Ts(this,void 0,void 0,function*(){return t.isDirectory?tq(t):Fve(t)})}function tq(t){const e=t.createReader();return new Promise((r,n)=>{const i=[];function a(){e.readEntries(s=>Ts(this,void 0,void 0,function*(){if(s.length){const o=Promise.all(s.map(Lve));i.push(o),a()}else try{const o=yield Promise.all(i);r(o)}catch(o){n(o)}}),s=>{n(s)})}a()})}function Fve(t){return Ts(this,void 0,void 0,function*(){return new Promise((e,r)=>{t.file(n=>{const i=Yc(n,t.fullPath);e(i)},n=>{r(n)})})})}var Hp={},JF;function $ve(){return JF||(JF=1,Hp.__esModule=!0,Hp.default=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(",");if(r.length===0)return!0;var n=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(function(s){var o=s.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?a===o.replace(/\/.*$/,""):i===o})}return!0}),Hp}var Uve=$ve();const fS=gt(Uve);function ZF(t){return zve(t)||qve(t)||nq(t)||Bve()}function Bve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zve(t){if(Array.isArray(t))return $E(t)}function e4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(r),!0).forEach(function(n){rq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lf(t,e){return Hve(t)||Wve(t,e)||nq(t,e)||Vve()}function Vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nq(t,e){if(t){if(typeof t=="string")return $E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,o=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function Hve(t){if(Array.isArray(t))return t}var Kve=typeof fS=="function"?fS:fS.default,Gve="file-invalid-type",Qve="file-too-large",Yve="file-too-small",Xve="too-many-files",Jve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:Gve,message:"File type must be ".concat(n)}},r4=function(e){return{code:Qve,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},n4=function(e){return{code:Yve,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zve={code:Xve,message:"Too many files"};function iq(t,e){var r=t.type==="application/x-moz-file"||Kve(t,e);return[r,r?null:Jve(e)]}function aq(t,e,r){if(mo(t.size))if(mo(e)&&mo(r)){if(t.size>r)return[!1,r4(r)];if(t.size<e)return[!1,n4(e)]}else{if(mo(e)&&t.size<e)return[!1,n4(e)];if(mo(r)&&t.size>r)return[!1,r4(r)]}return[!0,null]}function mo(t){return t!=null}function e0e(t){var e=t.files,r=t.accept,n=t.minSize,i=t.maxSize,a=t.multiple,s=t.maxFiles,o=t.validator;return!a&&e.length>1||a&&s>=1&&e.length>s?!1:e.every(function(c){var d=iq(c,r),p=Lf(d,1),h=p[0],m=aq(c,n,i),g=Lf(m,1),b=g[0],v=o?o(c):null;return h&&b&&!v})}function Cg(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Kp(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function i4(t){t.preventDefault()}function t0e(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function r0e(t){return t.indexOf("Edge/")!==-1}function n0e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return t0e(t)||r0e(t)}function Ei(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e.some(function(o){return!Cg(n)&&o&&o.apply(void 0,[n].concat(a)),Cg(n)})}}function i0e(){return"showOpenFilePicker"in window}function a0e(t){if(mo(t)){var e=Object.entries(t).filter(function(r){var n=Lf(r,2),i=n[0],a=n[1],s=!0;return sq(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(oq))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var i=Lf(n,2),a=i[0],s=i[1];return t4(t4({},r),{},rq({},a,s))},{});return[{description:"Files",accept:e}]}return t}function s0e(t){if(mo(t))return Object.entries(t).reduce(function(e,r){var n=Lf(r,2),i=n[0],a=n[1];return[].concat(ZF(e),[i],ZF(a))},[]).filter(function(e){return sq(e)||oq(e)}).join(",")}function o0e(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function l0e(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function sq(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function oq(t){return/^.*\.[\w]+$/.test(t)}var c0e=["children"],u0e=["open"],d0e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],f0e=["refKey","onChange","onClick"];function h0e(t){return g0e(t)||m0e(t)||lq(t)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g0e(t){if(Array.isArray(t))return UE(t)}function hS(t,e){return x0e(t)||v0e(t,e)||lq(t,e)||y0e()}function y0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lq(t,e){if(t){if(typeof t=="string")return UE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(t,e)}}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,o;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,o=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw o}}return n}}function x0e(t){if(Array.isArray(t))return t}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){BE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BE(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rg(t,e){if(t==null)return{};var r=b0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b0e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var tT=M.forwardRef(function(t,e){var r=t.children,n=Rg(t,c0e),i=uq(n),a=i.open,s=Rg(i,u0e);return M.useImperativeHandle(e,function(){return{open:a}},[a]),Q.createElement(M.Fragment,null,r(qt(qt({},s),{},{open:a})))});tT.displayName="Dropzone";var cq={disabled:!1,getFilesFromEvent:Pve,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};tT.defaultProps=cq;tT.propTypes={children:qe.func,accept:qe.objectOf(qe.arrayOf(qe.string)),multiple:qe.bool,preventDropOnDocument:qe.bool,noClick:qe.bool,noKeyboard:qe.bool,noDrag:qe.bool,noDragEventsBubbling:qe.bool,minSize:qe.number,maxSize:qe.number,maxFiles:qe.number,disabled:qe.bool,getFilesFromEvent:qe.func,onFileDialogCancel:qe.func,onFileDialogOpen:qe.func,useFsAccessApi:qe.bool,autoFocus:qe.bool,onDragEnter:qe.func,onDragLeave:qe.func,onDragOver:qe.func,onDrop:qe.func,onDropAccepted:qe.func,onDropRejected:qe.func,onError:qe.func,validator:qe.func};var qE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function uq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=qt(qt({},cq),t),r=e.accept,n=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,s=e.minSize,o=e.multiple,c=e.maxFiles,d=e.onDragEnter,p=e.onDragLeave,h=e.onDragOver,m=e.onDrop,g=e.onDropAccepted,b=e.onDropRejected,v=e.onFileDialogCancel,x=e.onFileDialogOpen,w=e.useFsAccessApi,S=e.autoFocus,E=e.preventDropOnDocument,T=e.noClick,j=e.noKeyboard,O=e.noDrag,N=e.noDragEventsBubbling,R=e.onError,I=e.validator,q=M.useMemo(function(){return s0e(r)},[r]),U=M.useMemo(function(){return a0e(r)},[r]),D=M.useMemo(function(){return typeof x=="function"?x:s4},[x]),B=M.useMemo(function(){return typeof v=="function"?v:s4},[v]),V=M.useRef(null),G=M.useRef(null),X=M.useReducer(w0e,qE),ie=hS(X,2),ne=ie[0],oe=ie[1],se=ne.isFocused,W=ne.isFileDialogActive,Z=M.useRef(typeof window<"u"&&window.isSecureContext&&w&&i0e()),ge=function(){!Z.current&&W&&setTimeout(function(){if(G.current){var Re=G.current.files;Re.length||(oe({type:"closeDialog"}),B())}},300)};M.useEffect(function(){return window.addEventListener("focus",ge,!1),function(){window.removeEventListener("focus",ge,!1)}},[G,W,B,Z]);var _e=M.useRef([]),Pe=function(Re){V.current&&V.current.contains(Re.target)||(Re.preventDefault(),_e.current=[])};M.useEffect(function(){return E&&(document.addEventListener("dragover",i4,!1),document.addEventListener("drop",Pe,!1)),function(){E&&(document.removeEventListener("dragover",i4),document.removeEventListener("drop",Pe))}},[V,E]),M.useEffect(function(){return!n&&S&&V.current&&V.current.focus(),function(){}},[V,S,n]);var Me=M.useCallback(function(Se){R?R(Se):console.error(Se)},[R]),Ze=M.useCallback(function(Se){Se.preventDefault(),Se.persist(),tr(Se),_e.current=[].concat(h0e(_e.current),[Se.target]),Kp(Se)&&Promise.resolve(i(Se)).then(function(Re){if(!(Cg(Se)&&!N)){var _t=Re.length,$=_t>0&&e0e({files:Re,accept:q,minSize:s,maxSize:a,multiple:o,maxFiles:c,validator:I}),k=_t>0&&!$;oe({isDragAccept:$,isDragReject:k,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Se)}}).catch(function(Re){return Me(Re)})},[i,d,Me,N,q,s,a,o,c,I]),Fe=M.useCallback(function(Se){Se.preventDefault(),Se.persist(),tr(Se);var Re=Kp(Se);if(Re&&Se.dataTransfer)try{Se.dataTransfer.dropEffect="copy"}catch{}return Re&&h&&h(Se),!1},[h,N]),me=M.useCallback(function(Se){Se.preventDefault(),Se.persist(),tr(Se);var Re=_e.current.filter(function($){return V.current&&V.current.contains($)}),_t=Re.indexOf(Se.target);_t!==-1&&Re.splice(_t,1),_e.current=Re,!(Re.length>0)&&(oe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Kp(Se)&&p&&p(Se))},[V,p,N]),Oe=M.useCallback(function(Se,Re){var _t=[],$=[];Se.forEach(function(k){var C=iq(k,q),z=hS(C,2),ee=z[0],L=z[1],H=aq(k,s,a),J=hS(H,2),ae=J[0],Ae=J[1],pe=I?I(k):null;if(ee&&ae&&!pe)_t.push(k);else{var Ee=[L,Ae];pe&&(Ee=Ee.concat(pe)),$.push({file:k,errors:Ee.filter(function(jr){return jr})})}}),(!o&&_t.length>1||o&&c>=1&&_t.length>c)&&(_t.forEach(function(k){$.push({file:k,errors:[Zve]})}),_t.splice(0)),oe({acceptedFiles:_t,fileRejections:$,isDragReject:$.length>0,type:"setFiles"}),m&&m(_t,$,Re),$.length>0&&b&&b($,Re),_t.length>0&&g&&g(_t,Re)},[oe,o,q,s,a,c,m,g,b,I]),Ve=M.useCallback(function(Se){Se.preventDefault(),Se.persist(),tr(Se),_e.current=[],Kp(Se)&&Promise.resolve(i(Se)).then(function(Re){Cg(Se)&&!N||Oe(Re,Se)}).catch(function(Re){return Me(Re)}),oe({type:"reset"})},[i,Oe,Me,N]),he=M.useCallback(function(){if(Z.current){oe({type:"openDialog"}),D();var Se={multiple:o,types:U};window.showOpenFilePicker(Se).then(function(Re){return i(Re)}).then(function(Re){Oe(Re,null),oe({type:"closeDialog"})}).catch(function(Re){o0e(Re)?(B(Re),oe({type:"closeDialog"})):l0e(Re)?(Z.current=!1,G.current?(G.current.value=null,G.current.click()):Me(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Me(Re)});return}G.current&&(oe({type:"openDialog"}),D(),G.current.value=null,G.current.click())},[oe,D,B,w,Oe,Me,U,o]),st=M.useCallback(function(Se){!V.current||!V.current.isEqualNode(Se.target)||(Se.key===" "||Se.key==="Enter"||Se.keyCode===32||Se.keyCode===13)&&(Se.preventDefault(),he())},[V,he]),Xe=M.useCallback(function(){oe({type:"focus"})},[]),yt=M.useCallback(function(){oe({type:"blur"})},[]),vt=M.useCallback(function(){T||(n0e()?setTimeout(he,0):he())},[T,he]),pt=function(Re){return n?null:Re},or=function(Re){return j?null:pt(Re)},er=function(Re){return O?null:pt(Re)},tr=function(Re){N&&Re.stopPropagation()},$t=M.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=Se.refKey,_t=Re===void 0?"ref":Re,$=Se.role,k=Se.onKeyDown,C=Se.onFocus,z=Se.onBlur,ee=Se.onClick,L=Se.onDragEnter,H=Se.onDragOver,J=Se.onDragLeave,ae=Se.onDrop,Ae=Rg(Se,d0e);return qt(qt(BE({onKeyDown:or(Ei(k,st)),onFocus:or(Ei(C,Xe)),onBlur:or(Ei(z,yt)),onClick:pt(Ei(ee,vt)),onDragEnter:er(Ei(L,Ze)),onDragOver:er(Ei(H,Fe)),onDragLeave:er(Ei(J,me)),onDrop:er(Ei(ae,Ve)),role:typeof $=="string"&&$!==""?$:"presentation"},_t,V),!n&&!j?{tabIndex:0}:{}),Ae)}},[V,st,Xe,yt,vt,Ze,Fe,me,Ve,j,O,n]),Et=M.useCallback(function(Se){Se.stopPropagation()},[]),Vr=M.useMemo(function(){return function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=Se.refKey,_t=Re===void 0?"ref":Re,$=Se.onChange,k=Se.onClick,C=Rg(Se,f0e),z=BE({accept:q,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:pt(Ei($,Ve)),onClick:pt(Ei(k,Et)),tabIndex:-1},_t,G);return qt(qt({},z),C)}},[G,r,o,Ve,n]);return qt(qt({},ne),{},{isFocused:se&&!n,getRootProps:$t,getInputProps:Vr,rootRef:V,inputRef:G,open:pt(he)})}function w0e(t,e){switch(e.type){case"focus":return qt(qt({},t),{},{isFocused:!0});case"blur":return qt(qt({},t),{},{isFocused:!1});case"openDialog":return qt(qt({},qE),{},{isFileDialogActive:!0});case"closeDialog":return qt(qt({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return qt(qt({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return qt(qt({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return qt({},qE);default:return t}}function s4(){}const _0e=()=>{const t=Bi(),[e]=wV(),r=e.get("leadId"),[n,i]=M.useState([]),[a,s]=M.useState([]),[o,c]=M.useState(null),[d,p]=M.useState(!1),[h,m]=M.useState(0),[g,b]=M.useState(""),v=M.useCallback(I=>{const q=I.filter(U=>U.type.startsWith("image/"));q.length!==I.length&&ke.error("Please upload image files only (JPG, PNG, etc.)"),i(U=>[...U,...q])},[]),{getRootProps:x,getInputProps:w,isDragActive:S}=uq({onDrop:v,accept:{"image/*":[".jpeg",".jpg",".png",".webp"]},maxSize:10*1024*1024,multiple:!0}),E=I=>{i(q=>q.filter((U,D)=>D!==I))},T=async I=>{p(!0),m(0),b("Uploading photo...");try{const q=await new Promise((G,X)=>{const ie=new FileReader;ie.onloadend=()=>G(ie.result),ie.onerror=X,ie.readAsDataURL(I)});m(25),b("Analyzing damage with AI...");const U=`${Date.now()}-${I.name}`,D=await fetch("/api/ai-analysis/analyze-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageData:q,fileName:U,leadId:r})});if(!D.ok)throw new Error("Analysis service unavailable");const B=await D.json();m(75),b("Processing results...");const V=B.assessment;c(V),s(G=>[...G,V]),m(100),b("Analysis complete!"),ke.success(`Analysis completed in ${B.processing_time} seconds!`)}catch(q){console.error("Analysis failed:",q),ke.error("Analysis failed: "+(q.message||"Unknown error"))}finally{setTimeout(()=>{p(!1),m(0),b("")},1e3)}},j=()=>{r?t(`/results/${r}`):ke.success("Demo complete! In a real scenario, you'd be redirected to your dashboard.")},O=I=>{const q=I.toLowerCase();return q.includes("hail")?"bg-purple-100 text-purple-800":q.includes("wind")?"bg-blue-100 text-blue-800":q.includes("leak")?"bg-red-100 text-red-800":q.includes("structural")?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"},N=I=>{switch(I.toLowerCase()){case"emergency":return"text-red-600 bg-red-100";case"severe":return"text-orange-600 bg-orange-100";case"moderate":return"text-yellow-600 bg-yellow-100";case"minor":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},R=I=>{switch(I.toLowerCase()){case"emergency":return f.jsx(Uo,{className:"h-5 w-5 text-red-600"});case"high":return f.jsx(Uo,{className:"h-5 w-5 text-orange-600"});case"medium":return f.jsx(Fo,{className:"h-5 w-5 text-yellow-600"});case"low":return f.jsx(Cr,{className:"h-5 w-5 text-green-600"});default:return f.jsx(ma,{className:"h-5 w-5 text-gray-600"})}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:()=>t("/"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(bm,{className:"h-5 w-5 text-gray-600"})}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:f.jsx(US,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"AI Damage Assessment"}),f.jsx("p",{className:"text-sm text-gray-600",children:"95% accuracy  30-second analysis"})]})]})]}),f.jsx("div",{className:"flex items-center space-x-6",children:f.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[f.jsx(zr,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"Secure & Confidential"})]})})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Upload Roof Photos"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Take clear photos of your roof damage from multiple angles. Our AI will analyze them instantly."}),f.jsxs("div",{...x(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${S?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400 hover:bg-blue-50"}`,children:[f.jsx("input",{...w()}),f.jsx(q$,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:S?"Drop photos here...":"Drag & drop photos here"}),f.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"or click to browse files"}),f.jsx("p",{className:"text-xs text-gray-400",children:"Supports JPG, PNG, WebP (max 10MB each)"})]}),n.length>0&&f.jsxs("div",{className:"mt-6",children:[f.jsxs("h3",{className:"font-semibold text-gray-800 mb-3",children:["Uploaded Photos (",n.length,")"]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:n.map((I,q)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:URL.createObjectURL(I),alt:`Upload ${q+1}`,className:"w-full h-24 object-cover rounded-lg"}),f.jsx("button",{onClick:()=>E(q),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""}),f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-xs text-gray-600 truncate",children:I.name}),f.jsx("button",{onClick:()=>T(I),disabled:d,className:"mt-1 w-full bg-blue-600 hover:bg-blue-700 text-white py-1 px-2 rounded text-xs transition-colors disabled:opacity-50",children:d?"Analyzing...":"Analyze"})]})]},q))})]}),d&&f.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),f.jsx("span",{className:"font-medium text-blue-800",children:g})]}),f.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:f.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${h}%`}})}),f.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[h,"% complete"]})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[f.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Photo Tips for Best Results"}),f.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[f.jsxs("li",{className:"flex items-start space-x-2",children:[f.jsx(Cr,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),f.jsx("span",{children:"Take photos in good lighting conditions"})]}),f.jsxs("li",{className:"flex items-start space-x-2",children:[f.jsx(Cr,{className:"h-4 w-4 text-green-500 mt-0.5 flex-shrink-0"}),f.jsx("span",{children:"Capture damage from multiple angles"})]})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[o?f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Analysis Results"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[R(o.priority_level),f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${N(o.ai_analysis_result.severity)}`,children:o.ai_analysis_result.severity.toUpperCase()})]})]}),o.ai_analysis_result.technical_analysis&&f.jsxs("div",{className:"mb-8 bg-slate-50 border border-slate-200 rounded-xl p-5",children:[f.jsxs("h3",{className:"flex items-center gap-2 font-bold text-slate-800 mb-4",children:[f.jsx(rQ,{className:"h-5 w-5 text-blue-600"}),"Technical Metrics"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Impact Density"}),f.jsx("p",{className:"font-semibold text-slate-900",children:o.ai_analysis_result.technical_analysis.impact_density})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Max Diameter"}),f.jsx("p",{className:"font-semibold text-slate-900",children:o.ai_analysis_result.technical_analysis.largest_impact_diameter})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Granule Loss"}),f.jsx("p",{className:"font-semibold text-red-600",children:o.ai_analysis_result.technical_analysis.granule_loss_percentage})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"Est. Age"}),f.jsx("p",{className:"font-semibold text-slate-900",children:o.ai_analysis_result.technical_analysis.estimated_roof_age})]}),f.jsxs("div",{className:"col-span-2 border-t pt-2 mt-2",children:[f.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-wider",children:"NOAA Storm Match"}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx($G,{className:"h-4 w-4 text-blue-500"}),f.jsx("p",{className:"font-bold text-blue-900",children:o.ai_analysis_result.technical_analysis.storm_match})]})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Confidence"}),f.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(o.confidence_score*100),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:`${o.confidence_score*100}%`}})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Detected Damage Types"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:o.ai_analysis_result.damageTypes.map((I,q)=>f.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O(I)}`,children:I.replace("_"," ").toUpperCase()},q))})]}),o.ai_analysis_result.financial_breakdown&&f.jsxs("div",{className:"mb-6 border border-green-200 bg-green-50 rounded-xl p-5",children:[f.jsxs("h3",{className:"flex items-center gap-2 font-bold text-green-900 mb-4",children:[f.jsx(GG,{className:"h-5 w-5 text-green-600"}),"Cost Estimation"]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-green-800",children:"Material Cost"}),f.jsx("span",{className:"font-semibold",children:da(o.ai_analysis_result.financial_breakdown.material_cost)})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-green-800",children:"Labor Cost"}),f.jsx("span",{className:"font-semibold",children:da(o.ai_analysis_result.financial_breakdown.labor_cost)})]}),f.jsxs("div",{className:"flex justify-between text-sm border-b border-green-200 pb-2",children:[f.jsxs("span",{className:"text-green-800",children:["Waste Factor (",o.ai_analysis_result.financial_breakdown.waste_factor,")"]}),f.jsx("span",{className:"text-green-600 italic",children:"Included"})]}),f.jsxs("div",{className:"flex justify-between text-lg font-bold pt-1",children:[f.jsx("span",{className:"text-green-900",children:"Total Estimate"}),f.jsxs("span",{className:"text-green-900",children:[da(o.estimated_cost_min)," - ",da(o.estimated_cost_max)]})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Insurance Claim Probability"}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"flex-1",children:f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:f.jsx("div",{className:`h-3 rounded-full ${o.insurance_claim_probability>.7?"bg-green-500":o.insurance_claim_probability>.4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.insurance_claim_probability*100}%`}})})}),f.jsxs("span",{className:"font-bold text-lg",children:[Math.round(o.insurance_claim_probability*100),"%"]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Analysis Summary"}),f.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.ai_analysis_result.description})]}),o.ai_analysis_result.recommendations&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Recommendations"}),f.jsx("ul",{className:"space-y-2",children:o.ai_analysis_result.recommendations.map((I,q)=>f.jsxs("li",{className:"flex items-start space-x-2",children:[f.jsx(Cr,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),f.jsx("span",{className:"text-gray-700",children:I})]},q))})]}),f.jsx("div",{className:"text-center border-t pt-4",children:f.jsxs("p",{className:"text-sm text-gray-500",children:["Analysis completed in ",o.processing_time_seconds," seconds"]})})]}):f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[f.jsx(US,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Upload Photos to Begin"}),f.jsx("p",{className:"text-gray-600",children:"Our AI will analyze your roof damage and provide detailed assessment results."})]}),a.length>0&&f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Next Steps"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"Your damage assessment is complete. Continue to see matched contractors and schedule inspections."}),f.jsxs("button",{onClick:j,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2",children:[f.jsx("span",{children:"Continue to Results"}),f.jsx(bm,{className:"h-5 w-5 transform rotate-180"})]})]})]})]})})]})},S0e=()=>{const{leadId:t}=Kz(),e=Bi(),[r,n]=M.useState(null),[i,a]=M.useState([]),[s,o]=M.useState([]),[c,d]=M.useState(null),[p,h]=M.useState(""),[m,g]=M.useState("inspection"),[b,v]=M.useState(""),[x,w]=M.useState(!1),[S,E]=M.useState(!0);M.useEffect(()=>{t&&(T(),j(),O())},[t]);const T=async()=>{try{const{data:D,error:B}=await lt.from("leads").select("*").eq("id",t).maybeSingle();if(B)throw B;n(D)}catch(D){console.error("Failed to fetch lead data:",D),ke.error("Failed to load lead information")}},j=async()=>{try{const{data:D,error:B}=await lt.from("damage_assessments").select("*").eq("lead_id",t).eq("analysis_status","completed").order("created_at",{ascending:!1});if(B)throw B;a(D||[])}catch(D){console.error("Failed to fetch assessments:",D),ke.error("Failed to load damage assessments")}finally{E(!1)}},O=async()=>{var D;try{const{data:B,error:V}=await lt.functions.invoke("match-contractors",{body:{leadId:t,maxContractors:5,specialtyRequired:(D=r==null?void 0:r.damage_type)!=null&&D.includes("hail")?"hail damage":void 0}});if(V)throw V;o(B.matchedContractors||[])}catch(B){console.error("Failed to fetch contractors:",B),ke.error("Failed to load contractors")}},N=async()=>{if(!c||!p){ke.error("Please select a contractor and appointment date");return}w(!0);try{const{data:D,error:B}=await lt.functions.invoke("schedule-appointment",{body:{leadId:t,contractorId:c.id,appointmentDate:p,appointmentType:m,notes:b}});if(B)throw B;ke.success("Appointment scheduled successfully!");const V=D.appointmentDetails;ke.success(`Appointment scheduled with ${D.contractor.business} for ${new Date(V.date).toLocaleDateString()}`,{duration:6e3})}catch(D){console.error("Appointment scheduling failed:",D),ke.error("Failed to schedule appointment: "+(D.message||"Unknown error"))}finally{w(!1)}},R=D=>{switch(D){case"hot":return"bg-red-100 text-red-800";case"qualified":return"bg-yellow-100 text-yellow-800";case"new":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},I=D=>D>=9?"text-red-600":D>=7?"text-orange-600":D>=5?"text-yellow-600":"text-green-600",q=D=>f.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(B=>f.jsx(mj,{className:`h-4 w-4 ${B<=D?"text-yellow-400 fill-current":"text-gray-300"}`},B)),f.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",D,")"]})]});if(S)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading your results..."})]})});if(!r)return f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Lead Not Found"}),f.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg",children:"Return to Home"})]})});const U=i[0];return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:f.jsx(bm,{className:"h-5 w-5 text-gray-600"})}),f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:f.jsx(zr,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Assessment Results"}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Lead ID: ",t==null?void 0:t.substring(0,8),"..."]})]})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${R(r.qualification_status)}`,children:r.qualification_status.toUpperCase()}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Lead Score"}),f.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[r.lead_score,"/100"]})]})]})]})})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:f.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Lead Information"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Contact"}),f.jsx("p",{className:"font-semibold text-gray-800",children:r.contact_name}),f.jsx("p",{className:"text-sm text-gray-600",children:r.contact_email}),f.jsx("p",{className:"text-sm text-gray-600",children:p1(r.contact_phone)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Property"}),f.jsx("p",{className:"font-semibold text-gray-800",children:r.property_address}),f.jsxs("p",{className:"text-sm text-gray-600",children:[r.city,", ",r.state," ",r.zip_code]}),f.jsx("p",{className:"text-sm text-gray-600 capitalize",children:r.property_type})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Damage Details"}),f.jsx("p",{className:"font-semibold text-gray-800",children:r.damage_type}),f.jsxs("p",{className:`text-sm font-medium ${I(r.urgency_level)}`,children:["Urgency: ",r.urgency_level,"/10"]}),f.jsx("p",{className:"text-sm text-gray-600",children:r.damage_description})]}),r.has_insurance&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Insurance"}),f.jsx("p",{className:"font-semibold text-gray-800",children:r.insurance_company}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Claim ",r.claim_filed?"Filed":"Not Filed"]})]})]})]}),U&&f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"AI Assessment"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Confidence"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:f.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${U.confidence_score*100}%`}})}),f.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Math.round(U.confidence_score*100),"%"]})]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Cost Estimate"}),f.jsxs("p",{className:"text-lg font-bold text-gray-800",children:[da(U.estimated_cost_min)," - ",da(U.estimated_cost_max)]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Insurance Claim Probability"}),f.jsxs("p",{className:"text-lg font-bold text-green-600",children:[Math.round(U.insurance_claim_probability*100),"%"]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Priority Level"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[U.priority_level==="emergency"&&f.jsx(Uo,{className:"h-4 w-4 text-red-600"}),U.priority_level==="high"&&f.jsx(Uo,{className:"h-4 w-4 text-orange-600"}),U.priority_level==="medium"&&f.jsx(Fo,{className:"h-4 w-4 text-yellow-600"}),U.priority_level==="low"&&f.jsx(Cr,{className:"h-4 w-4 text-green-600"}),f.jsx("span",{className:"font-semibold text-gray-800 capitalize",children:U.priority_level})]})]})]})]})]}),f.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Matched Contractors"}),f.jsx("p",{className:"text-gray-600 mb-6",children:"Based on your location, damage type, and requirements, here are the top-rated contractors:"}),s.length===0?f.jsx("div",{className:"text-center py-8",children:f.jsx("p",{className:"text-gray-500",children:"Loading contractors..."})}):f.jsx("div",{className:"space-y-4",children:s.map(D=>f.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${(c==null?void 0:c.id)===D.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>d(D),children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[f.jsx("h3",{className:"font-bold text-gray-800",children:D.business_name}),D.is_verified&&f.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:[f.jsx(Cr,{className:"h-3 w-3"}),f.jsx("span",{children:"Verified"})]}),f.jsxs("div",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:[D.matchScore,"% Match"]})]}),f.jsx("p",{className:"text-gray-600 mb-2",children:D.contact_name}),f.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Qg,{className:"h-4 w-4"}),f.jsx("span",{children:p1(D.contact_phone)})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx($o,{className:"h-4 w-4"}),f.jsx("span",{children:D.contact_email})]})]}),f.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[f.jsx(Gg,{className:"h-4 w-4"}),f.jsxs("span",{children:[D.city,", ",D.state]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[D.service_radius," mile radius"]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[q(D.rating),f.jsxs("span",{className:"text-sm text-gray-600",children:[D.total_jobs," jobs completed"]})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[f.jsx(Fo,{className:"h-4 w-4 text-gray-400"}),f.jsxs("span",{className:"text-gray-600",children:[D.response_time_hours,"h response"]}),f.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${D.availability_status==="available"?"bg-green-100 text-green-800":D.availability_status==="busy"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D.availability_status})]})]}),D.specialties&&D.specialties.length>0&&f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Specialties:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:D.specialties.slice(0,3).map((B,V)=>f.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:B},V))})]})]}),f.jsxs("div",{className:"ml-4 flex flex-col items-center",children:[D.insurance_verified&&f.jsx("div",{className:"mb-2",title:"Insurance Verified",children:f.jsx(zr,{className:"h-5 w-5 text-green-500"})}),D.background_checked&&f.jsx("div",{className:"mb-2",title:"Background Checked",children:f.jsx(M$,{className:"h-5 w-5 text-blue-500"})})]})]})},D.id))})]}),c&&f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Schedule Appointment"}),f.jsxs("p",{className:"text-gray-600 mb-6",children:["Schedule an appointment with ",c.business_name]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Date & Time"}),f.jsx("input",{type:"datetime-local",value:p,onChange:D=>h(D.target.value),min:new Date().toISOString().slice(0,16),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Type"}),f.jsxs("select",{value:m,onChange:D=>g(D.target.value),className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[f.jsx("option",{value:"inspection",children:"Inspection"}),f.jsx("option",{value:"estimate",children:"Estimate"}),f.jsx("option",{value:"consultation",children:"Consultation"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),f.jsx("textarea",{value:b,onChange:D=>v(D.target.value),rows:3,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Any specific requirements or notes for the contractor..."})]}),f.jsx("div",{className:"md:col-span-2",children:f.jsx("button",{onClick:N,disabled:x||!p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(zf,{className:"h-5 w-5"}),f.jsx("span",{children:"Schedule Appointment"})]})})})]})]})]})]})})]})};function E0e(){return f.jsx("nav",{className:"bg-white border-b border-gray-200",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsx("div",{className:"flex",children:f.jsxs(bs,{to:"/",className:"flex-shrink-0 flex items-center",children:[f.jsx(zr,{className:"h-8 w-8 text-blue-600"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"OrPaynter"})]})}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(bs,{to:"/login",className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),f.jsx(bs,{to:"/signup",className:"ml-4 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Get Started"})]})]})})})}function j0e(){const[t,e]=M.useState("info"),[r,n]=M.useState(""),[i,a]=M.useState(""),[s,o]=M.useState(""),[c,d]=M.useState(!1),p={version:"v1.0.0",size:"14.2 MB",checksum:"94cf482b9049e03e926f05abb6f065ac20cc4091b941ebbcbef3378909291d4d"},h=async g=>{g.preventDefault(),d(!0);try{const v=await(await fetch("http://localhost:5000/api/commerce/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,plan:"enterprise",payment_method:"credit_card"})})).json();v.status==="success"?(a(v.license_key),o(v.download_url),e("success"),ke.success("Payment successful! License generated.")):ke.error(v.error||"Payment failed")}catch{ke.error("Connection error. Please try again.")}finally{d(!1)}},m=()=>{s&&(window.location.href=`http://localhost:5000${s}`)};return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx(E0e,{}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center space-x-2 bg-blue-500/10 text-blue-400 px-4 py-2 rounded-full mb-6 border border-blue-500/20",children:[f.jsx(Cr,{className:"h-4 w-4"}),f.jsxs("span",{className:"text-sm font-medium",children:["Official Release ",p.version]})]}),f.jsx(ze.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent",children:"Get OrPaynter Enterprise"}),f.jsx(ze.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"The comprehensive AI orchestration platform for the modern roofing industry. Deploy intelligent overlays in minutes."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-start",children:[f.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-slate-800 rounded-2xl p-8 border border-slate-700 shadow-2xl relative overflow-hidden",children:[t==="info"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Enterprise License"}),f.jsxs("span",{className:"text-3xl font-bold text-blue-400",children:["$499",f.jsx("span",{className:"text-sm text-slate-400 font-normal",children:"/yr"})]})]}),f.jsxs("ul",{className:"space-y-3 text-slate-300",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(Cr,{className:"h-4 w-4 text-green-400 mr-2"})," Unlimited AI Overlays"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Cr,{className:"h-4 w-4 text-green-400 mr-2"})," Advanced Traffic Splitting"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Cr,{className:"h-4 w-4 text-green-400 mr-2"})," Self-Hosted & Cloud Support"]})]}),f.jsx("button",{onClick:()=>e("payment"),className:"w-full bg-blue-600 hover:bg-blue-700 py-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all",children:f.jsx("span",{children:"Buy Now"})})]}),t==="payment"&&f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Secure Checkout"}),f.jsx(wc,{className:"h-4 w-4 text-green-400"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,value:r,onChange:g=>n(g.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"you@company.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Card Number (Simulated)"}),f.jsxs("div",{className:"relative",children:[f.jsx(dj,{className:"absolute left-3 top-3 h-5 w-5 text-slate-500"}),f.jsx("input",{type:"text",defaultValue:"4242 4242 4242 4242",className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none font-mono"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsx("input",{type:"text",placeholder:"MM/YY",className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 outline-none",defaultValue:"12/28"}),f.jsx("input",{type:"text",placeholder:"CVC",className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 outline-none",defaultValue:"123"})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full bg-green-600 hover:bg-green-700 py-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all disabled:opacity-50",children:c?f.jsx("span",{children:"Processing..."}):f.jsx("span",{children:"Pay $499.00"})}),f.jsx("button",{type:"button",onClick:()=>e("info"),className:"w-full text-sm text-slate-400 hover:text-white",children:"Cancel"})]}),t==="success"&&f.jsxs("div",{className:"space-y-6 text-center",children:[f.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto",children:f.jsx(Cr,{className:"h-8 w-8 text-green-400"})}),f.jsx("h2",{className:"text-2xl font-bold",children:"Purchase Successful!"}),f.jsxs("div",{className:"bg-black/30 p-4 rounded-lg text-left",children:[f.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"LICENSE KEY:"}),f.jsx("code",{className:"text-green-400 font-mono text-sm break-all",children:i})]}),f.jsxs("button",{onClick:m,className:"w-full bg-blue-600 hover:bg-blue-700 py-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all shadow-lg shadow-blue-500/25 animate-pulse",children:[f.jsx(Kg,{className:"h-5 w-5"}),f.jsxs("span",{children:["Download Package (",p.size,")"]})]})]}),f.jsx("p",{className:"mt-4 text-xs text-center text-slate-500",children:t==="payment"?"Payments are processed securely via MockStripe.":"By downloading, you agree to our Terms of Service."})]}),f.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"space-y-6",children:[f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[f.jsx(zG,{className:"h-5 w-5 text-blue-400 mr-2"}),"Release Notes"]}),f.jsxs("div",{className:"space-y-2 text-sm text-slate-400",children:[f.jsx("p",{children:f.jsx("span",{className:"text-white font-medium",children:"New Features:"})}),f.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[f.jsx("li",{children:"AI Orchestrator Dashboard with Visual Traffic Splitter"}),f.jsx("li",{children:"Real-time roof damage assessment simulation"}),f.jsx("li",{children:"Integrated offline-first PowerSync database"})]}),f.jsx("p",{className:"mt-2",children:f.jsx("span",{className:"text-white font-medium",children:"Improvements:"})}),f.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[f.jsx("li",{children:"Enhanced dark mode UI for admin panels"}),f.jsx("li",{children:"Optimized build size and load performance"})]})]})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[f.jsx(qS,{className:"h-5 w-5 text-green-400 mr-2"}),"Verify Integrity (SHA-256)"]}),f.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Verify the authenticity of your download by checking its file hash against the official checksum below."}),f.jsx("div",{className:"bg-black/30 rounded-lg p-4 font-mono text-xs text-slate-300 break-all select-all border border-slate-700/50",children:p.checksum})]}),f.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[f.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[f.jsx(pj,{className:"h-5 w-5 text-purple-400 mr-2"}),"Installation Requirements"]}),f.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 mt-2 mr-2"}),"Node.js v18.0.0 or higher"]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 mt-2 mr-2"}),"Docker Desktop (for containerized deployment)"]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-purple-400 mt-2 mr-2"}),"8GB RAM minimum (16GB recommended for AI models)"]})]})]})]})]})]})]})}const A0e=()=>{const{profile:t,user:e}=Sr(),[r,n]=M.useState([]),[i,a]=M.useState(!0),[s,o]=M.useState({activeOrders:0,deliveriesToday:0,revenue:0,lowStock:0});M.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{a(!0);const{data:d,error:p}=await lt.from("marketplace_orders").select("*").eq("supplier_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(p)throw p;const{data:h,error:m}=await lt.from("supplier_inventory").select("*, product:supplier_products(name)").eq("product.supplier_id",e==null?void 0:e.id),g=(d==null?void 0:d.filter(E=>E.status!=="delivered"&&E.status!=="cancelled").length)||0,b=new Date().toISOString().split("T")[0],v=(d==null?void 0:d.filter(E=>{var T;return E.status==="shipped"&&((T=E.updated_at)==null?void 0:T.startsWith(b))}).length)||0,x=new Date().getMonth(),w=(d==null?void 0:d.filter(E=>new Date(E.created_at).getMonth()===x&&E.status!=="cancelled").reduce((E,T)=>E+(T.total_amount||0),0))||0;o({activeOrders:g,deliveriesToday:v,revenue:w,lowStock:0}),n(d||[])}catch(d){console.error("Error fetching supplier data:",d)}finally{a(!1)}};return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Supplier Dashboard"}),f.jsxs("p",{className:"text-slate-600",children:["Welcome back, ",(t==null?void 0:t.company)||(t==null?void 0:t.full_name)]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx(IN,{className:"h-6 w-6 text-blue-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.activeOrders}),f.jsx("p",{className:"text-sm text-slate-500",children:"Active Orders"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(iQ,{className:"h-6 w-6 text-purple-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.deliveriesToday}),f.jsx("p",{className:"text-sm text-slate-500",children:"Deliveries Today"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx(ks,{className:"h-6 w-6 text-green-600"})}),f.jsx("span",{className:"text-sm font-medium text-green-600",children:"This Month"})]}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:da(s.revenue)}),f.jsx("p",{className:"text-sm text-slate-500",children:"Revenue"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:f.jsx(uj,{className:"h-6 w-6 text-orange-600"})}),s.lowStock>0&&f.jsxs("span",{className:"text-sm font-medium text-red-600",children:[s.lowStock," New"]})]}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.lowStock>0?s.lowStock:"None"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Low Stock Alerts"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Recent Orders"}),f.jsx("div",{className:"space-y-4",children:r.length===0?f.jsx("p",{className:"text-slate-500 text-center py-4",children:"No recent orders"}):r.slice(0,5).map(d=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"h-10 w-10 bg-white rounded-full flex items-center justify-center border border-slate-200",children:f.jsx(IN,{className:"h-5 w-5 text-slate-500"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium text-slate-800",children:["Order #",d.id.slice(0,8)]}),f.jsx("p",{className:"text-sm text-slate-500",children:new Date(d.created_at).toLocaleDateString()})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-medium text-slate-800",children:da(d.total_amount)}),f.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block mt-1 capitalize ${d.status==="delivered"?"bg-green-100 text-green-800":d.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-50 text-blue-600"}`,children:d.status})]})]},d.id))})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Market Intelligence"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border-l-4 border-blue-500",children:[f.jsx("h4",{className:"font-medium text-slate-800",children:"Shingle Prices Rising"}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Asphalt shingle prices expected to rise 5% next month due to oil price volatility."})]}),f.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border-l-4 border-green-500",children:[f.jsx("h4",{className:"font-medium text-slate-800",children:"High Demand Alert"}),f.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Storm activity in DFW area triggering surge in Class 4 Impact Resistant shingle demand."})]})]})]})]})]})},T0e=()=>{const{profile:t,user:e}=Sr(),[r,n]=M.useState([]),[i,a]=M.useState(!0),[s,o]=M.useState({newClaims:0,flagged:0,processed:0,accuracy:"98.5%"});M.useEffect(()=>{e&&c()},[e]);const c=async()=>{try{a(!0);const{data:p,error:h}=await lt.from("insurance_claims").select("*").eq("insurance_company_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(h)throw h;n(p||[]);const m=(p==null?void 0:p.filter(v=>v.status==="submitted").length)||0,g=(p==null?void 0:p.filter(v=>v.status==="under_review").length)||0,b=(p==null?void 0:p.filter(v=>["approved","rejected","closed"].includes(v.status)).length)||0;o({newClaims:m,flagged:g,processed:b,accuracy:"98.5%"})}catch(p){console.error("Error fetching insurance data:",p)}finally{a(!1)}},d=p=>{switch(p){case"submitted":return"bg-blue-100 text-blue-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Insurance Portal"}),f.jsxs("p",{className:"text-slate-600",children:["Welcome back, ",(t==null?void 0:t.company)||(t==null?void 0:t.full_name)]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:f.jsx(F$,{className:"h-6 w-6 text-blue-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.newClaims}),f.jsx("p",{className:"text-sm text-slate-500",children:"New Claims"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:f.jsx(Uo,{className:"h-6 w-6 text-yellow-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.flagged}),f.jsx("p",{className:"text-sm text-slate-500",children:"Flagged for Review"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:f.jsx(Cr,{className:"h-6 w-6 text-green-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.processed}),f.jsx("p",{className:"text-sm text-slate-500",children:"Processed (Total)"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:f.jsx(zr,{className:"h-6 w-6 text-purple-600"})})}),f.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.accuracy}),f.jsx("p",{className:"text-sm text-slate-500",children:"Accuracy Score"})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200 mb-8",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Claims Queue"}),f.jsxs("div",{className:"relative",children:[f.jsx(hj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Search claims...",className:"pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-left border-b border-slate-200",children:[f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Claim ID"}),f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Damage Desc"}),f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Est. Loss"}),f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Status"}),f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Date Filed"}),f.jsx("th",{className:"pb-3 font-semibold text-slate-600",children:"Action"})]})}),f.jsx("tbody",{className:"divide-y divide-slate-100",children:r.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"py-8 text-center text-slate-500",children:"No active claims found."})}):r.map(p=>f.jsxs("tr",{className:"hover:bg-slate-50",children:[f.jsx("td",{className:"py-4 text-sm font-medium text-slate-800",children:p.claim_number||p.id.slice(0,8)}),f.jsx("td",{className:"py-4 text-sm text-slate-600 truncate max-w-xs",children:p.damage_description||"No description"}),f.jsx("td",{className:"py-4 text-sm text-slate-600",children:p.estimated_loss?da(p.estimated_loss):"-"}),f.jsx("td",{className:"py-4",children:f.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status.replace("_"," ").toUpperCase()})}),f.jsx("td",{className:"py-4 text-sm text-slate-600",children:new Date(p.created_at).toLocaleDateString()}),f.jsx("td",{className:"py-4",children:f.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Review"})})]},p.id))})]})})]})]})},O0e=()=>{const{profile:t}=Sr();return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"My Home Dashboard"}),f.jsxs("p",{className:"text-slate-600",children:["Welcome back, ",t==null?void 0:t.full_name]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:f.jsx(FG,{className:"h-8 w-8 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Projects"}),f.jsx("p",{className:"text-slate-500",children:"1 in progress"})]})]}),f.jsx("button",{className:"w-full mt-2 py-2 px-4 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"View Details"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:f.jsx(fj,{className:"h-8 w-8 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Messages"}),f.jsx("p",{className:"text-slate-500",children:"2 unread from Oliver's Roofing"})]})]}),f.jsx("button",{className:"w-full mt-2 py-2 px-4 border border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors",children:"Open Chat"})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[f.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:f.jsx(zf,{className:"h-8 w-8 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Appointments"}),f.jsx("p",{className:"text-slate-500",children:"Next: Inspection (Tomorrow, 2pm)"})]})]}),f.jsx("button",{className:"w-full mt-2 py-2 px-4 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 transition-colors",children:"Manage Calendar"})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[f.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Current Project Status"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute top-0 bottom-0 left-8 w-0.5 bg-slate-200"}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"relative flex items-start group",children:[f.jsx("div",{className:"absolute left-0 h-16 w-16 flex items-center justify-center",children:f.jsx("div",{className:"h-4 w-4 rounded-full bg-green-500 ring-4 ring-white"})}),f.jsxs("div",{className:"ml-16",children:[f.jsx("h4",{className:"font-bold text-slate-800",children:"Assessment Completed"}),f.jsx("p",{className:"text-sm text-slate-500",children:"May 15, 2025"}),f.jsx("p",{className:"mt-2 text-slate-600 bg-slate-50 p-3 rounded-lg",children:"AI detected hail damage. Severity: Moderate."})]})]}),f.jsxs("div",{className:"relative flex items-start group",children:[f.jsx("div",{className:"absolute left-0 h-16 w-16 flex items-center justify-center",children:f.jsx("div",{className:"h-4 w-4 rounded-full bg-blue-500 ring-4 ring-white"})}),f.jsxs("div",{className:"ml-16",children:[f.jsx("h4",{className:"font-bold text-slate-800",children:"Quote Review"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Current Stage"}),f.jsx("p",{className:"mt-2 text-slate-600",children:"You have received 3 quotes from verified contractors. Please review and select one."}),f.jsx("button",{className:"mt-3 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Review Quotes"})]})]}),f.jsxs("div",{className:"relative flex items-start group",children:[f.jsx("div",{className:"absolute left-0 h-16 w-16 flex items-center justify-center",children:f.jsx("div",{className:"h-4 w-4 rounded-full bg-slate-200 ring-4 ring-white"})}),f.jsxs("div",{className:"ml-16 opacity-50",children:[f.jsx("h4",{className:"font-bold text-slate-800",children:"Material Delivery"}),f.jsx("p",{className:"text-sm text-slate-500",children:"Pending"})]})]})]})]})]})]})},k0e=()=>{const t=Bi(),[e,r]=M.useState(""),[n,i]=M.useState(""),[a,s]=M.useState(!1),[o,c]=M.useState(!1);M.useEffect(()=>{localStorage.getItem("admin_token")&&t("/admin/dashboard")},[]);const d=async p=>{p.preventDefault(),c(!0);try{const{data:h,error:m}=await lt.functions.invoke("admin-login",{body:{email:e,password:n}});if(m)throw m;const{token:g,user:b}=h.data;localStorage.setItem("admin_token",g),localStorage.setItem("admin_user",JSON.stringify(b)),ke.success(`Welcome back, ${b.full_name}!`),t("/admin/dashboard")}catch(h){console.error("Admin login error:",h),ke.error(h.message||"Invalid admin credentials")}finally{c(!1)}};return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:f.jsx("div",{className:"max-w-md w-full",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"bg-blue-600 p-3 rounded-full w-16 h-16 mx-auto mb-4",children:f.jsx(zr,{className:"h-10 w-10 text-white"})}),f.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"OrPaynter Admin"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Secure admin portal access"})]}),f.jsxs("form",{onSubmit:d,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),f.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@orpaynter.com",disabled:o})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{id:"password",type:a?"text":"password",required:!0,value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter admin password",disabled:o}),f.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?f.jsx(No,{className:"h-5 w-5"}):f.jsx(ma,{className:"h-5 w-5"})})]})]}),f.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:o?f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):f.jsxs(f.Fragment,{children:[f.jsx(XG,{className:"h-5 w-5"}),f.jsx("span",{children:"Sign In"})]})})]}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Demo Credentials"}),f.jsx("p",{className:"text-sm text-blue-700",children:"Email: admin@orpaynter.com"}),f.jsx("p",{className:"text-sm text-blue-700",children:"Password: OrPaynter2025!"})]}),f.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Secure admin access to manage leads and system analytics"})]})]})})})},P0e=()=>{const t=Bi(),[e,r]=M.useState([]),[n,i]=M.useState({total:0,new:0,qualified:0,hot:0,converted:0,averageScore:0,todayCount:0}),[a,s]=M.useState(1),[o,c]=M.useState(1),[d,p]=M.useState("all"),[h,m]=M.useState(!0),[g,b]=M.useState(null),[v,x]=M.useState("ACTIVE"),w=()=>{x(N=>N==="ACTIVE"?"LOCKDOWN":"ACTIVE"),v==="ACTIVE"?ke.error("SYSTEM LOCKDOWN INITIATED"):ke.success("System Restored")};M.useEffect(()=>{const N=localStorage.getItem("admin_token"),R=localStorage.getItem("admin_user");if(!N||!R){ke.error("Please login to access admin dashboard"),t("/admin/login");return}try{b(JSON.parse(R))}catch{t("/admin/login");return}S()},[a,d]);const S=async()=>{try{m(!0);const{data:N,error:R}=await lt.functions.invoke("get-leads",{body:{},headers:{"Content-Type":"application/json"}});if(R)throw R;const I=N.data;r(I.leads),i(I.stats),c(I.pagination.pages)}catch(N){console.error("Error loading leads:",N),ke.error("Failed to load leads data")}finally{m(!1)}},E=()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),ke.success("Logged out successfully"),t("/admin/login")},T=N=>{switch(N){case"hot":return"bg-red-100 text-red-800";case"qualified":return"bg-green-100 text-green-800";case"converted":return"bg-blue-100 text-blue-800";case"rejected":return"bg-gray-100 text-gray-800";default:return"bg-yellow-100 text-yellow-800"}},j=N=>{switch(N){case"emergency":return"text-red-600";case"severe":return"text-orange-600";case"moderate":return"text-yellow-600";default:return"text-green-600"}},O=N=>new Date(N).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return h&&e.length===0?f.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:f.jsx(zr,{className:"h-6 w-6 text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"OrPaynter Admin"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Lead Management Dashboard"})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("button",{onClick:w,className:`flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${v==="ACTIVE"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200 animate-pulse"}`,children:[f.jsx(Uo,{className:"h-4 w-4"}),f.jsx("span",{children:v==="ACTIVE"?"System Active":"LOCKDOWN ACTIVE"})]}),f.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",g==null?void 0:g.full_name]}),f.jsxs("button",{onClick:E,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors",children:[f.jsx(BS,{className:"h-4 w-4"}),f.jsx("span",{children:"Logout"})]})]})]})})}),f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:f.jsx(Bo,{className:"h-6 w-6 text-blue-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Leads"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-green-100",children:f.jsx(yj,{className:"h-6 w-6 text-green-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Qualified"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.qualified})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-red-100",children:f.jsx(mj,{className:"h-6 w-6 text-red-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hot Leads"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.hot})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:f.jsx(zf,{className:"h-6 w-6 text-yellow-600"})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today"}),f.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.todayCount})]})]})})]}),f.jsxs("div",{className:"bg-white shadow-sm rounded-lg",children:[f.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Leads"}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500",children:[f.jsx("option",{value:"all",children:"All Status"}),f.jsx("option",{value:"new",children:"New"}),f.jsx("option",{value:"qualified",children:"Qualified"}),f.jsx("option",{value:"hot",children:"Hot"}),f.jsx("option",{value:"converted",children:"Converted"})]})})]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Damage"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(N=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.contact_name}),f.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[f.jsx($o,{className:"h-3 w-3"}),f.jsx("span",{children:N.contact_email})]}),f.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[f.jsx(Qg,{className:"h-3 w-3"}),f.jsx("span",{children:N.contact_phone})]})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsxs("div",{className:"text-sm text-gray-900 flex items-center space-x-1",children:[f.jsx(Gg,{className:"h-3 w-3"}),f.jsxs("span",{children:[N.city,", ",N.state]})]}),N.has_insurance&&f.jsxs("div",{className:"text-sm text-green-600 flex items-center space-x-1",children:[f.jsx(zr,{className:"h-3 w-3"}),f.jsx("span",{children:N.insurance_company})]})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-gray-900",children:N.damage_type}),f.jsxs("div",{className:`text-sm flex items-center space-x-1 ${j(N.damage_severity)}`,children:[f.jsx(Uo,{className:"h-3 w-3"}),f.jsx("span",{className:"capitalize",children:N.damage_severity}),f.jsxs("span",{children:["(",N.urgency_level,"/10)"]})]}),N.budget_range&&f.jsxs("div",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[f.jsx(ks,{className:"h-3 w-3"}),f.jsx("span",{children:N.budget_range})]})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-2xl font-bold text-blue-600",children:N.lead_score}),f.jsx("div",{className:"text-xs text-gray-500",children:"BANT Score"})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T(N.qualification_status)}`,children:N.qualification_status.toUpperCase()})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(N.created_at)})]},N.id))})]})}),e.length===0&&f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-500",children:"No leads found"})})]})]})]})};function N0e(){const[t,e]=M.useState([]),[r,n]=M.useState([]),[i,a]=M.useState(null),[s,o]=M.useState("overview");M.useEffect(()=>{c();const d=setInterval(c,5e3);return()=>clearInterval(d)},[]);const c=async()=>{try{const[d,p,h]=await Promise.all([fetch("/api/orchestrator/models"),fetch("/api/orchestrator/overlays"),fetch("/api/orchestrator/metrics")]),m=await d.json(),g=await p.json(),b=await h.json();e(m.models),n(g.overlays),a(b)}catch(d){console.error("Failed to fetch orchestrator data",d)}};return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-8",children:[f.jsxs("header",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"AI Overlay Orchestrator"}),f.jsx("p",{className:"text-slate-400",children:"Universal Control Plane"})]}),f.jsx("div",{className:"flex items-center space-x-4",children:f.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-slate-800 rounded-lg",children:[f.jsx(bc,{className:"h-4 w-4 text-green-400"}),f.jsx("span",{className:"text-sm",children:"System Healthy"})]})})]}),f.jsx("div",{className:"flex space-x-1 bg-slate-800/50 p-1 rounded-lg mb-8 w-fit",children:["overview","models","overlays"].map(d=>f.jsx("button",{onClick:()=>o(d),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s===d?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),s==="overview"&&i&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[f.jsx(Gp,{title:"Total Requests (24h)",value:i.total_requests_24h.toLocaleString(),icon:bc,color:"blue"}),f.jsx(Gp,{title:"Avg Latency",value:`${i.avg_latency}ms`,icon:qn,color:"yellow"}),f.jsx(Gp,{title:"Active Overlays",value:i.active_overlays,icon:pj,color:"purple"}),f.jsx(Gp,{title:"Cost Savings",value:`$${i.cost_saved}`,icon:zr,color:"green"})]}),f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Traffic Distribution"}),f.jsx("div",{className:"h-[300px]",children:f.jsx(ql,{width:"100%",height:"100%",children:f.jsxs(LE,{data:t,children:[f.jsx(Zl,{strokeDasharray:"3 3",stroke:"#334155"}),f.jsx(Ri,{dataKey:"name",stroke:"#94a3b8"}),f.jsx(Ii,{stroke:"#94a3b8"}),f.jsx(Jr,{contentStyle:{backgroundColor:"#1e293b",border:"none"}}),f.jsx(ja,{dataKey:"latency_ms",fill:"#3b82f6",name:"Latency (ms)"})]})})})]})]}),s==="models"&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(d=>f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700 hover:border-blue-500/50 transition-colors",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:d.name}),f.jsx("span",{className:"text-xs text-slate-400 font-mono",children:d.id})]}),f.jsx("span",{className:`px-2 py-1 rounded text-xs ${d.status==="Ready"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:d.status})]}),f.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Version"}),f.jsx("span",{className:"font-mono",children:d.version})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Type"}),f.jsx("span",{children:d.type})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{children:"Cost / 1k"}),f.jsxs("span",{children:["$",d.cost_per_1k]})]})]})]},d.id)),f.jsxs("button",{className:"bg-slate-800/50 border-2 border-dashed border-slate-700 rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 hover:border-blue-500 hover:text-blue-500 transition-all group",children:[f.jsx(_m,{className:"h-8 w-8 mb-2 group-hover:scale-110 transition-transform"}),f.jsx("span",{children:"Register New Model"})]})]}),s==="overlays"&&f.jsx("div",{className:"space-y-6",children:r.map(d=>f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold",children:d.name}),f.jsxs("p",{className:"text-slate-400",children:["Injecting into: ",f.jsx("span",{className:"text-blue-400",children:d.host_app})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-sm text-slate-400",children:"Drift Status:"}),f.jsxs("span",{className:"text-green-400 flex items-center",children:[f.jsx(zr,{className:"h-4 w-4 mr-1"})," ",d.drift_status]})]}),f.jsx("button",{className:"p-2 hover:bg-slate-700 rounded-lg",children:f.jsx(U$,{className:"h-5 w-5 text-slate-400"})})]})]}),f.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[f.jsxs("h4",{className:"text-sm font-medium text-slate-400 mb-4 flex items-center",children:[f.jsx(HG,{className:"h-4 w-4 mr-2"}),"Traffic Distribution (A/B Test)"]}),f.jsx("div",{className:"space-y-4",children:d.traffic_split.map(p=>{var h,m;return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{children:((h=p.model)==null?void 0:h.name)||"Unknown Model"}),f.jsxs("span",{className:"font-mono",children:[p.weight,"%"]})]}),f.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:f.jsx(ze.div,{initial:{width:0},animate:{width:`${p.weight}%`},className:`h-full ${p.weight>50?"bg-blue-500":"bg-purple-500"}`})})]},((m=p.model)==null?void 0:m.id)||"unknown")})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{className:"text-sm text-blue-400 hover:text-blue-300",children:"Adjust Weights "})})]})]},d.id))})]})}function Gp({title:t,value:e,icon:r,color:n}){const i={blue:"bg-blue-500/10 text-blue-400",green:"bg-green-500/10 text-green-400",purple:"bg-purple-500/10 text-purple-400",yellow:"bg-yellow-500/10 text-yellow-400"};return f.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("span",{className:"text-slate-400 text-sm",children:t}),f.jsx("div",{className:`p-2 rounded-lg ${i[n]}`,children:f.jsx(r,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"text-2xl font-bold",children:e})]})}const C0e=new GV({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function R0e(){return f.jsx(y4,{children:f.jsx(YV,{client:C0e,children:f.jsx(x9,{children:f.jsx(kG,{children:f.jsxs(yV,{children:[f.jsx("div",{className:"min-h-screen bg-slate-50",children:f.jsxs(cV,{children:[f.jsx(Mt,{path:"/",element:f.jsx(jve,{})}),f.jsx(Mt,{path:"/chatbot",element:f.jsx(Ave,{})}),f.jsx(Mt,{path:"/assessment",element:f.jsx(_0e,{})}),f.jsx(Mt,{path:"/results/:leadId",element:f.jsx(S0e,{})}),f.jsx(Mt,{path:"/download",element:f.jsx(j0e,{})}),f.jsx(Mt,{path:"/admin/login",element:f.jsx(k0e,{})}),f.jsx(Mt,{path:"/admin/dashboard",element:f.jsx(P0e,{})}),f.jsx(Mt,{path:"/orchestrator",element:f.jsx(N0e,{})}),f.jsx(Mt,{path:"/login",element:f.jsx(UZ,{})}),f.jsx(Mt,{path:"/signup",element:f.jsx(BZ,{})}),f.jsx(Mt,{path:"/auth/callback",element:f.jsx(qZ,{})}),f.jsx(Mt,{path:"/dashboard",element:f.jsx(Ja,{allowedRoles:["contractor","admin"],children:f.jsx(ri,{children:f.jsx(Eee,{})})})}),f.jsx(Mt,{path:"/command-center",element:f.jsx(z0,{children:f.jsx(ri,{children:f.jsx(jee,{})})})}),f.jsx(Mt,{path:"/projects",element:f.jsx(Ja,{allowedRoles:["contractor","admin"],children:f.jsx(ri,{children:f.jsx(Aee,{})})})}),f.jsx(Mt,{path:"/analytics",element:f.jsx(Ja,{allowedRoles:["contractor","admin"],children:f.jsx(ri,{children:f.jsx(bve,{})})})}),f.jsx(Mt,{path:"/referrals",element:f.jsx(Ja,{allowedRoles:["contractor","admin"],children:f.jsx(ri,{children:f.jsx(wve,{})})})}),f.jsx(Mt,{path:"/ai-agents",element:f.jsx(Ja,{allowedRoles:["contractor","admin"],children:f.jsx(ri,{children:f.jsx(_ve,{})})})}),f.jsx(Mt,{path:"/billing",element:f.jsx(z0,{children:f.jsx(ri,{children:f.jsx(Sve,{})})})}),f.jsx(Mt,{path:"/settings",element:f.jsx(z0,{children:f.jsx(ri,{children:f.jsx(Eve,{})})})}),f.jsx(Mt,{path:"/supplier/dashboard",element:f.jsx(Ja,{allowedRoles:["supplier","admin"],children:f.jsx(ri,{children:f.jsx(A0e,{})})})}),f.jsx(Mt,{path:"/insurance/dashboard",element:f.jsx(Ja,{allowedRoles:["insurance","admin"],children:f.jsx(ri,{children:f.jsx(T0e,{})})})}),f.jsx(Mt,{path:"/homeowner/dashboard",element:f.jsx(Ja,{allowedRoles:["homeowner","admin"],children:f.jsx(ri,{children:f.jsx(O0e,{})})})}),f.jsx(Mt,{path:"*",element:f.jsx(ki,{to:"/",replace:!0})})]})}),f.jsx(FW,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f1f5f9",border:"1px solid #475569"}}})]})})})})})}gz.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(y4,{children:f.jsx(R0e,{})})}));export{hxe as A,fxe as B,M0e as C,F0e as D,dxe as E,uxe as F,nxe as G,ixe as H,axe as I,exe as J,jp as S,K0e as a,X0e as b,q0e as c,$0e as d,sxe as e,L0e as f,lxe as g,cxe as h,oxe as i,eG as j,U0e as k,V0e as l,B0e as m,Z0e as n,z0e as o,Q0e as p,G0e as q,txe as r,rxe as s,J0e as t,Y0e as u,H0e as v,W0e as w,gxe as x,mxe as y,pxe as z};
